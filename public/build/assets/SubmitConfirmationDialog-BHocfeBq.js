import{a as x,j as e,c as j}from"./app-qZM_P6kk.js";import{B as b}from"./button-Cu49OhpK.js";import{d as w,c as k,D as v,a as N,e as y}from"./dialog-CpwOwVH0.js";import{c}from"./utils-CFcDjcb_.js";import{C}from"./circle-alert-D2Ex1bod.js";import{C as S}from"./circle-check-C8Ig9Wxv.js";import{T as D}from"./triangle-alert-Dk1ZHRXf.js";import{L as E}from"./loader-circle-CEjNlLKZ.js";import{A}from"./arrow-right-UH1x_xnS.js";/* empty css            */import"./index-FDL-Y6Vk.js";import"./index-B5hr3jbO.js";import"./index-CHXMgrNC.js";import"./index-DXRFkAxZ.js";import"./index-U8fSN_90.js";import"./index-DA-FvAAY.js";import"./index-D2SLzlIU.js";import"./index-CWWkNKIe.js";import"./index-C68W2xfp.js";import"./index-DSf6rKwO.js";import"./x-DfJvcH5v.js";import"./createLucideIcon-B5oQhXDR.js";function Z({isOpen:m,onOpenChange:t,stats:a,onConfirm:l,isLoading:s=!1}){const[i,r]=x.useState(!1),[h,g]=x.useState(!1),o=i||s,n=a.remaining>0,p=a.total-a.remaining,f=x.useCallback(async()=>{if(!o){g(!1),r(!0);try{await l()}catch(d){g(!0),console.error("[AssessmentSubmitError]:",d)}finally{r(!1)}}},[o,l]);return e.jsx(w,{open:m,onOpenChange:d=>!o&&t(d),children:e.jsxs(k,{className:"max-w-md overflow-hidden border-none p-0 shadow-2xl sm:rounded-[2.5rem]",children:[e.jsxs("div",{className:c("flex flex-col items-center justify-center p-8 text-center transition-colors duration-500 sm:p-10",n?"bg-amber-50 dark:bg-amber-950/30":"bg-indigo-50 dark:bg-indigo-950/30"),children:[e.jsx("div",{className:c("mb-6 flex h-20 w-20 items-center justify-center rounded-full shadow-sm ring-8",n?"bg-amber-100 text-amber-600 ring-amber-50 dark:bg-amber-900/50 dark:ring-amber-900/20":"bg-indigo-100 text-indigo-600 ring-indigo-50 dark:bg-indigo-900/50 dark:ring-indigo-900/20"),children:n?e.jsx(C,{className:"h-10 w-10 animate-pulse"}):e.jsx(S,{className:"h-10 w-10"})}),e.jsx(v,{children:e.jsx(N,{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white sm:text-3xl",children:n?"Finish anyway?":"Ready to submit?"})}),e.jsx(y,{className:c("mt-4 px-2 text-pretty text-base font-medium",n?"text-amber-800/80 dark:text-amber-200/60":"text-indigo-800/80 dark:text-indigo-200/60"),children:n?`You have ${a.remaining} unanswered questions. Your score may be significantly lower if you submit now.`:"Excellent! You've tackled every question. Once you submit, you won't be able to change your answers."})]}),e.jsxs("div",{className:"bg-white px-8 py-8 dark:bg-zinc-900",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-center gap-12",children:[e.jsx(u,{label:"Answered",value:p}),e.jsx("div",{className:"h-8 w-px bg-slate-100 dark:bg-zinc-800","aria-hidden":"true"}),e.jsx(u,{label:"Total Questions",value:a.total})]}),e.jsxs("div",{className:"space-y-3",children:[h&&e.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-xl bg-red-50 p-3 text-xs font-semibold text-red-600 dark:bg-red-900/20",children:[e.jsx(D,{className:"h-4 w-4"}),"Submission failed. Please check your connection and try again."]}),e.jsx(b,{disabled:o,onClick:f,className:c("group h-16 w-full rounded-2xl text-lg font-black transition-all active:scale-[0.98]",n?"bg-slate-900 text-white hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900":"bg-indigo-600 text-white shadow-lg shadow-indigo-200 hover:bg-indigo-700 dark:shadow-none"),children:o?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 animate-spin"}),"Finalizing..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:["Confirm Submission",e.jsx(A,{className:"h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),e.jsx(b,{variant:"ghost",disabled:o,className:"h-14 w-full rounded-2xl font-bold text-slate-500 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-zinc-800",onClick:()=>t(!1),children:"Cancel"})]})]})]})})}function u(m){const t=j.c(7),{label:a,value:l}=m;let s;t[0]!==a?(s=e.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter text-slate-400",children:a}),t[0]=a,t[1]=s):s=t[1];let i;t[2]!==l?(i=e.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white",children:l}),t[2]=l,t[3]=i):i=t[3];let r;return t[4]!==s||t[5]!==i?(r=e.jsxs("div",{className:"text-center",children:[s,i]}),t[4]=s,t[5]=i,t[6]=r):r=t[6],r}export{Z as SubmitConfirmationDialog};
