import{c as me,d as ne,a as Y,u as le,j as t}from"./app-C4-wZLjv.js";import{Q as ae}from"./QuestionRenderer-BjmACTN4.js";import{B as C}from"./button-BtXHUDlw.js";import{D as X,b as Z,e as ee,c as te,d as se}from"./dialog-C5dD38AA.js";import{s as ce}from"./index-ikzcNs2d.js";import"./app-Ctpas7OY.js";import"./hard-drive-EO9Vxhwo.js";import"./createLucideIcon-DDKIJ2e3.js";import"./image-B55lGqBh.js";import"./maximize-2-LnnShh8S.js";import"./loader-circle-BrRjTlNn.js";import"./upload-BFTkgVCf.js";import"./file-Br47PucB.js";import"./circle-check-CE5iqhEP.js";import"./x-cYyiHa3X.js";import"./chevron-left-GqJGVrbW.js";import"./chevron-right-CZckLAVz.js";import"./textarea-CnvsKu6z.js";import"./utils-CFcDjcb_.js";import"./label-BeNpEvcw.js";import"./index-Bhes_7Zs.js";import"./index-Buz4j_7Y.js";import"./circle-alert-BQkIx_3U.js";import"./command-HKHPfprr.js";import"./index-Xko6ReMJ.js";import"./index-CNKjpVcS.js";import"./search-Cxo_qDnu.js";import"./popover-C68JS-AA.js";import"./index-DeD9CSgl.js";import"./index-C3tRsT71.js";import"./index-cZrIM-8D.js";import"./index-BthvL4JC.js";import"./index-CeYVXcUJ.js";import"./index-ChzAp34M.js";import"./arrow-right-CCFdR1G3.js";import"./chevron-up-C0eCS4i2.js";import"./grip-horizontal-D46JwUaY.js";import"./circle-help-DD5Ejhof.js";import"./index-DRemKmJw.js";import"./index-BmIIwECa.js";import"./index-WR0EuoJH.js";import"./circle-CaXeVaRI.js";import"./circle-check-big-BrxAU1eb.js";import"./index-COEH0jJL.js";import"./index-C2fpaiMf.js";import"./with-selector-BUTWsrM7.js";import"./index-pPUi9S1_.js";import"./select-C_dtcICN.js";import"./index-Clov3BKf.js";import"./check-Fwforxvc.js";import"./list-Cay255ng.js";import"./type-iNUVBLyd.js";import"./info-BOi6THYg.js";import"./circle-x-C35IsA1L.js";import"./index-CmRgzCPv.js";import"./index-CHXMgrNC.js";function ft(A){const e=me.c(73),{assessment:i}=A;console.log(i);const{props:m}=ne();m?.attempt;let D;e[0]!==i.questions?(D=i?.questions??[],e[0]=i.questions,e[1]=D):D=e[1];const n=D;let k;e[2]===Symbol.for("react.memo_cache_sentinel")?(k={},e[2]=k):k=e[2];const[s,ie]=Y.useState(k),[$,O]=Y.useState(!1),[I,R]=Y.useState(!1);let B;e[3]===Symbol.for("react.memo_cache_sentinel")?(B=[],e[3]=B):B=e[3];const[K,oe]=Y.useState(B);let E;e[4]===Symbol.for("react.memo_cache_sentinel")?(E={},e[4]=E):E=e[4];const L=m?.attempt?.id,V=m?.auth?.user?.id;let F;e[5]!==L||e[6]!==V?(F={answers:E,attempt_id:L,user_id:V},e[5]=L,e[6]=V,e[7]=F):F=e[7];const Q=le(F);let q;e[8]===Symbol.for("react.memo_cache_sentinel")?(q=(o,r)=>{ie(v=>({...v,[o]:r}))},e[8]=q):q=e[8];const re=q;let U;e[9]!==s||e[10]!==Q||e[11]!==m?.assessment_id||e[12]!==m?.course_id?(U=()=>{Q.setData("answers",s),Q.post(ce("student.course.assessment.attempt.store",{assessment_id:m?.assessment_id,course_id:m?.course_id}))},e[9]=s,e[10]=Q,e[11]=m?.assessment_id,e[12]=m?.course_id,e[13]=U):U=e[13];const l=U;let z;e[14]!==s||e[15]!==l||e[16]!==n?(z=()=>{const o=n.filter(r=>!s[r.id]);if(oe(o),o.length>0){R(!0);return}l()},e[14]=s,e[15]=l,e[16]=n,e[17]=z):z=e[17];const W=z;let a;e[18]!==i.title?(a=t.jsx("h1",{className:"text-3xl font-semibold",children:i.title}),e[18]=i.title,e[19]=a):a=e[19];let c;e[20]!==i.description?(c=t.jsx("p",{className:"text-muted-foreground",children:i.description}),e[20]=i.description,e[21]=c):c=e[21];let d;e[22]!==i.duration||e[23]!==i.max_attempts?(d=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Duration: ",i.duration," mins • Max Attempts:"," ",i.max_attempts]}),e[22]=i.duration,e[23]=i.max_attempts,e[24]=d):d=e[24];let p;e[25]!==a||e[26]!==c||e[27]!==d?(p=t.jsxs("header",{className:"space-y-2 text-center",children:[a,c,d]}),e[25]=a,e[26]=c,e[27]=d,e[28]=p):p=e[28];let u;if(e[29]!==s||e[30]!==n){let o;e[32]!==s?(o=(r,v)=>t.jsx(ae,{question:r,index:v,answer:s[r.id],onAnswerChange:re},r.id),e[32]=s,e[33]=o):o=e[33],u=n.map(o),e[29]=s,e[30]=n,e[31]=u}else u=e[31];let f;e[34]!==u?(f=t.jsx("div",{className:"space-y-4",children:u}),e[34]=u,e[35]=f):f=e[35];let G;e[36]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("div",{className:"flex justify-end",children:t.jsx(C,{onClick:()=>O(!0),size:"lg",className:"px-6",children:"Submit Assessment"})}),e[36]=G):G=e[36];let H;e[37]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs(X,{className:"justify-center sm:text-center",children:[t.jsx("img",{className:"mx-auto max-w-32 rounded-full p-2",src:"/assets/img/assessment/submit.gif",alt:""}),t.jsx(Z,{children:"Confirm Submission"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Review your answers before submitting."})]}),e[37]=H):H=e[37];let x;if(e[38]!==s||e[39]!==n){let o;e[41]!==s?(o=(r,v)=>t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-xs font-medium opacity-75",children:[v+1,". ",r.question]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s[r.id]?t.jsx("pre",{className:"mt-1 rounded bg-muted p-2 text-xs",children:JSON.stringify(s[r.id],null,2)}):t.jsx("span",{className:"text-red-500",children:"No answer"})})]},r.id),e[41]=s,e[42]=o):o=e[42],x=n.map(o),e[38]=s,e[39]=n,e[40]=x}else x=e[40];let h;e[43]!==x?(h=t.jsx("div",{className:"max-h-64 overflow-y-auto rounded-md border bg-muted/30 p-3",children:x}),e[43]=x,e[44]=h):h=e[44];let J;e[45]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(C,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),e[45]=J):J=e[45];let j;e[46]!==W?(j=t.jsxs(ee,{children:[J,t.jsx(C,{onClick:()=>{O(!1),W()},children:"Yes, Submit"})]}),e[46]=W,e[47]=j):j=e[47];let g;e[48]!==h||e[49]!==j?(g=t.jsxs(te,{className:"max-w-lg",children:[H,h,j]}),e[48]=h,e[49]=j,e[50]=g):g=e[50];let b;e[51]!==$||e[52]!==g?(b=t.jsx(se,{open:$,onOpenChange:O,children:g}),e[51]=$,e[52]=g,e[53]=b):b=e[53];let M;e[54]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs(X,{className:"justify-center sm:text-center",children:[t.jsx("img",{className:"mx-auto max-w-32 rounded-full p-2",src:"/assets/img/assessment/wanted.gif",alt:""}),t.jsx(Z,{children:"Unanswered Questions Found"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Several questions have not been answered. Submitting now may affect your results. Are you absolutely sure you want to continue?"})]}),e[54]=M):M=e[54];let N;e[55]!==K?(N=K.map(de),e[55]=K,e[56]=N):N=e[56];let y;e[57]!==N?(y=t.jsx("div",{className:"max-h-64 overflow-y-auto rounded-md border bg-muted/30 p-3",children:N}),e[57]=N,e[58]=y):y=e[58];let P;e[59]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(C,{variant:"outline",onClick:()=>R(!1),children:"Go Back"}),e[59]=P):P=e[59];let w;e[60]!==l?(w=t.jsxs(ee,{children:[P,t.jsx(C,{className:"bg-red-600 text-white hover:bg-red-700",onClick:()=>{R(!1),l()},children:"Submit Anyway"})]}),e[60]=l,e[61]=w):w=e[61];let _;e[62]!==y||e[63]!==w?(_=t.jsxs(te,{className:"max-w-lg",children:[M,y,w]}),e[62]=y,e[63]=w,e[64]=_):_=e[64];let S;e[65]!==I||e[66]!==_?(S=t.jsx(se,{open:I,onOpenChange:R,children:_}),e[65]=I,e[66]=_,e[67]=S):S=e[67];let T;return e[68]!==p||e[69]!==f||e[70]!==b||e[71]!==S?(T=t.jsxs("div",{className:"mx-auto max-w-4xl space-y-2 px-4 py-10",children:[p,f,G,b,S]}),e[68]=p,e[69]=f,e[70]=b,e[71]=S,e[72]=T):T=e[72],T}function de(A,e){return t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-xs font-medium opacity-75",children:[e+1,". ",A.question]}),t.jsx("p",{className:"text-sm font-semibold text-red-500",children:"⚠ No answer provided"})]},A.id)}export{ft as default};
