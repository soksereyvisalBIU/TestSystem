import{a as S,j as e,H as $,L as v,A as E,m as C,c as k}from"./app-C4-wZLjv.js";import{A as D}from"./app-layout-CNHzTDPv.js";import{C as R}from"./circle-alert-BQkIx_3U.js";import{T as M}from"./timer-DTnlBvFc.js";import{A as _}from"./arrow-right-CCFdR1G3.js";import{P as z}from"./plus-BtJDo5Ri.js";import{G as T}from"./graduation-cap-BJvd7GSQ.js";import{T as I}from"./trending-up-D8zMNuBp.js";import{C as L,R as P}from"./rocket-CBTdYty4.js";import{T as G}from"./target-Ba3C7Uac.js";import{Z as U}from"./zap-SN5DpC-c.js";import{C as O}from"./chevron-right-CZckLAVz.js";import{C as F}from"./circle-check-CE5iqhEP.js";import{C as H}from"./clock-CiUKO93g.js";import{A as q}from"./arrow-up-right-DiN0hEqu.js";import"./app-Ctpas7OY.js";import"./index-pPUi9S1_.js";import"./index-CmRgzCPv.js";import"./index-Buz4j_7Y.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./button-BtXHUDlw.js";import"./dialog-C5dD38AA.js";import"./index-DeD9CSgl.js";import"./index-CNKjpVcS.js";import"./index-Xko6ReMJ.js";import"./index-C3tRsT71.js";import"./index-Bhes_7Zs.js";import"./index-cZrIM-8D.js";import"./index-ChzAp34M.js";import"./x-cYyiHa3X.js";import"./createLucideIcon-DDKIJ2e3.js";import"./tooltip-i2vZDwaq.js";import"./index-BthvL4JC.js";import"./index-CeYVXcUJ.js";import"./index-Clov3BKf.js";import"./index-BmIIwECa.js";import"./index-DRemKmJw.js";import"./avatar-DWKof1ni.js";import"./index-C2fpaiMf.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-HKHPfprr.js";import"./search-Cxo_qDnu.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-BJ5tEmQI.js";import"./layout-grid-CEBlWw-x.js";import"./users-CUYIQcdw.js";import"./settings-2-DUZge6eM.js";import"./cpu-DrMaJJL5.js";import"./book-open-DhnomZaK.js";import"./appearance-tabs-header-DkuhK1KQ.js";import"./sun-DVv0vIb6.js";function Je({student:r}){const s=r?.student_classrooms||[],a=r?.student_assessment||[],o=s.length===0,[x,h]=S.useState(0),c=s[x],{globalStats:d,liveMissions:m}=S.useMemo(()=>{const t=new Date,l=[],i=a.filter(n=>n.status==="scored"),p=i.length>0?i.reduce((n,f)=>n+parseFloat(f.score),0)/i.length:0;return s.forEach(n=>{n.subjects.forEach(f=>{f.assessments.forEach(u=>{const j=new Date(u.start_time),N=new Date(u.end_time),b=a.find(g=>g.assessment_id===u.id);t>=j&&t<=N&&(!b||b.status!=="scored")&&l.push({...u,subjectName:f.name,classId:n.id,subjectId:f.id,submission:b})})})}),{globalStats:{avg:p.toFixed(1),completed:i.length,peak:i.length>0?Math.max(...i.map(n=>parseFloat(n.score))):0},liveMissions:l}},[s,a]);return e.jsxs(D,{children:[e.jsx($,{title:"Scholar Dashboard | Mission Control"}),e.jsxs("div",{className:"relative mx-auto max-w-7xl p-4 md:p-8 lg:p-12 space-y-10",children:[e.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),e.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-muted-foreground uppercase",children:o?"System Standby":"Academic Session Active"})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-[1000] tracking-tighter text-title leading-none",children:[o?"Begin,":"Hello,"," ",e.jsx("span",{className:"text-primary italic",children:r.name.split(" ")[0]})]})]}),!o&&e.jsxs("div",{className:"flex items-center gap-4 bg-card/50 backdrop-blur-xl border border-border p-2 rounded-3xl shadow-xl",children:[e.jsxs("div",{className:"px-6 py-2 border-r border-border text-center",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Global GPA"}),e.jsxs("p",{className:"text-2xl font-black text-primary",children:[d.avg,"%"]})]}),e.jsxs("div",{className:"px-6 py-2 text-center",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Peak Score"}),e.jsxs("p",{className:"text-2xl font-black text-emerald-500",children:[d.peak,"%"]})]})]})]}),o?e.jsx(J,{}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-12",children:[m.length>0&&e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(R,{size:16,className:"text-rose-500 animate-pulse"}),e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-rose-500",children:"Live Missions Due Soon"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:m.map(t=>e.jsxs(v,{href:`/student/classes/${t.classId}/subjects/${t.subjectId}/assessment/${t.id}`,className:"group relative bg-rose-50 border-2 border-rose-100 rounded-[2rem] p-6 flex flex-col md:flex-row justify-between items-center hover:bg-rose-100 hover:border-rose-300 transition-all duration-300",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-rose-500 text-white text-[9px] font-black px-2 py-0.5 rounded uppercase",children:t.type}),e.jsx("span",{className:"text-xs font-bold text-rose-700 underline decoration-rose-200",children:t.subjectName})]}),e.jsx("h4",{className:"text-xl font-black text-rose-950",children:t.title}),e.jsxs("p",{className:"text-[10px] font-bold text-rose-600 flex items-center gap-1 uppercase",children:[e.jsx(M,{size:12})," Deadline: ",new Date(t.end_time).toLocaleString()]})]}),e.jsxs("div",{className:"bg-rose-500 text-white px-8 py-3 rounded-2xl font-black text-sm flex items-center gap-2 group-hover:bg-rose-600 transition-all",children:[t.submission?.status==="draft"?"RESUME":"START NOW"," ",e.jsx(_,{size:18})]})]},t.id))})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-muted-foreground",children:"Classroom Navigator"}),e.jsx(v,{href:"/student/classes",className:"text-xs font-bold text-primary hover:underline",children:"View All Classes"})]}),e.jsxs("div",{className:"flex items-center gap-4 overflow-x-auto pb-4 no-scrollbar",children:[s.map((t,l)=>e.jsxs("button",{onClick:()=>h(l),className:`flex-shrink-0 flex flex-col items-start px-8 py-5 rounded-[2.5rem] border-2 transition-all duration-300 ${x===l?"bg-primary border-primary text-white shadow-2xl shadow-primary/30 scale-105":"bg-card border-border text-title hover:border-primary/50"}`,children:[e.jsxs("span",{className:"text-[10px] font-black uppercase opacity-60",children:["Year ",t.year," â€¢ Sem ",t.semester]}),e.jsx("span",{className:"font-black text-xl whitespace-nowrap",children:t.name})]},t.id)),e.jsx(v,{href:"/student/classes",className:"flex-shrink-0 w-20 h-20 rounded-full border-2 border-dashed border-border flex items-center justify-center text-muted-foreground hover:border-primary hover:text-primary transition-all",children:e.jsx(z,{size:24})})]})]}),e.jsx(E,{mode:"wait",children:e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.subjects.map(t=>e.jsx(B,{subject:t,classId:c.id,submissions:a},t.id))},c.id)})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-800 rounded-[2.5rem] p-8 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(T,{size:120})}),e.jsxs("div",{className:"relative z-10 space-y-12",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-12 w-12 bg-white/20 rounded-xl backdrop-blur-md flex items-center justify-center font-black",children:r.name.charAt(0)}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black opacity-50 uppercase tracking-widest",children:"Scholar ID"}),e.jsxs("p",{className:"font-mono text-sm",children:["#",r.id,"992026"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black opacity-50 uppercase",children:"Student Name"}),e.jsx("h3",{className:"text-3xl font-black tracking-tight",children:r.name}),e.jsx("p",{className:"text-xs font-bold opacity-60 mt-1 uppercase tracking-tighter",children:r.email})]}),e.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-white/10",children:[e.jsx("div",{children:e.jsx("p",{className:"text-[10px] font-bold opacity-50",children:"COMPLETED"})}),e.jsx("div",{children:e.jsx("p",{className:"text-[10px] font-bold opacity-50 text-right",children:"PEAK SCORE"})})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-[3rem] p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-muted-foreground",children:"Quick Stats"}),e.jsx(I,{size:18,className:"text-primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-muted/40 p-4 rounded-3xl",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Subjects"}),e.jsx("p",{className:"text-2xl font-black text-title",children:c.subjects.length})]}),e.jsxs("div",{className:"bg-muted/40 p-4 rounded-3xl",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Tasks Done"}),e.jsx("p",{className:"text-2xl font-black text-title",children:d.completed})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-[2.5rem] p-8 space-y-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-black text-title italic",children:"Up Comming"}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-xs font-black",children:c.subjects.flatMap(t=>t.assessments).length})]}),e.jsx("div",{className:"space-y-6",children:c.subjects.flatMap(t=>t.assessments).slice(0,4).map((t,l)=>{const i=a.find(p=>p.assessment_id===t.id);return e.jsxs("div",{className:"flex gap-4 group",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`h-3 w-3 rounded-full border-2 ${i?"bg-emerald-500 border-emerald-500":"border-primary"}`}),e.jsx("div",{className:"w-px h-full bg-border mt-2"})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:new Date(t.end_time).toLocaleDateString()}),e.jsx("h4",{className:"font-bold text-title text-sm group-hover:text-primary transition-colors",children:t.title}),e.jsx("span",{className:"text-[9px] font-black uppercase text-primary/60",children:t.type})]})]},l)})})]})]})]})]})]})}function B(r){const s=k.c(33),{subject:a,classId:o,submissions:x}=r,h=`/storage/${a.cover}`;let c;s[0]!==a.name?(c=b=>b.target.src=`https://ui-avatars.com/api/?name=${a.name}&background=6366f1&color=fff&bold=true`,s[0]=a.name,s[1]=c):c=s[1];let d;s[2]!==h||s[3]!==c?(d=e.jsx("div",{className:"h-16 w-16 rounded-[1.25rem] overflow-hidden border-2 border-border shadow-inner",children:e.jsx("img",{src:h,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-700",onError:c})}),s[2]=h,s[3]=c,s[4]=d):d=s[4];const m=`/student/classes/${o}/subjects/${a.id}`;let t;s[5]===Symbol.for("react.memo_cache_sentinel")?(t=e.jsx(O,{size:20}),s[5]=t):t=s[5];let l;s[6]!==m?(l=e.jsx(v,{href:m,className:"p-3 rounded-2xl bg-muted text-muted-foreground hover:bg-primary hover:text-white transition-all shadow-sm",children:t}),s[6]=m,s[7]=l):l=s[7];let i;s[8]!==d||s[9]!==l?(i=e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d,l]}),s[8]=d,s[9]=l,s[10]=i):i=s[10];let p;s[11]!==a.name?(p=e.jsx("h4",{className:"text-2xl font-black text-title tracking-tight leading-none mb-2",children:a.name}),s[11]=a.name,s[12]=p):p=s[12];let n;s[13]!==a.description?(n=e.jsx("p",{className:"text-sm font-medium text-muted-foreground line-clamp-2 leading-relaxed",children:a.description}),s[13]=a.description,s[14]=n):n=s[14];let f;s[15]!==i||s[16]!==p||s[17]!==n?(f=e.jsxs("div",{children:[i,p,n]}),s[15]=i,s[16]=p,s[17]=n,s[18]=f):f=s[18];let u;if(s[19]!==o||s[20]!==a.assessments||s[21]!==a.id||s[22]!==x){let b;s[24]!==o||s[25]!==a.id||s[26]!==x?(b=g=>{const y=x.find(A=>A.assessment_id===g.id);return e.jsxs(v,{href:`/student/classes/${o}/subjects/${a.id}/assessment/${g.id}`,className:"flex items-center justify-between p-4 rounded-2xl bg-muted/30 hover:bg-muted transition-all group/task",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y?.status==="scored"?e.jsx(F,{size:16,className:"text-emerald-500"}):e.jsx(H,{size:16,className:"text-amber-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-title",children:g.title}),e.jsx("span",{className:"text-[9px] font-black uppercase opacity-40",children:g.type})]})]}),y?.status==="scored"?e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[y.score,"%"]}):e.jsx(q,{size:14,className:"opacity-0 group-hover/task:opacity-100 transition-all"})]},g.id)},s[24]=o,s[25]=a.id,s[26]=x,s[27]=b):b=s[27],u=a.assessments.slice(0,2).map(b),s[19]=o,s[20]=a.assessments,s[21]=a.id,s[22]=x,s[23]=u}else u=s[23];let j;s[28]!==u?(j=e.jsx("div",{className:"mt-8 space-y-3",children:u}),s[28]=u,s[29]=j):j=s[29];let N;return s[30]!==f||s[31]!==j?(N=e.jsxs("div",{className:"group bg-card border border-border rounded-[2.5rem] p-7 hover:border-primary/50 transition-all hover:shadow-2xl flex flex-col justify-between",children:[f,j]}),s[30]=f,s[31]=j,s[32]=N):N=s[32],N}function J(){const r=k.c(8);let s,a;r[0]===Symbol.for("react.memo_cache_sentinel")?(s={opacity:0,y:20},a={opacity:1,y:0},r[0]=s,r[1]=a):(s=r[0],a=r[1]);let o;r[2]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx(P,{className:"absolute -bottom-10 -right-10 text-primary/10 w-80 h-80 -rotate-12"}),r[2]=o):o=r[2];let x;r[3]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsx("div",{className:"h-20 w-20 bg-primary rounded-[2rem] flex items-center justify-center shadow-2xl shadow-primary/40",children:e.jsx(z,{size:40,strokeWidth:3})}),r[3]=x):x=r[3];let h,c;r[4]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsxs("h2",{className:"text-6xl font-[1000] tracking-tighter leading-[0.9]",children:["Ready to ",e.jsx("br",{})," Launch?"]}),c=e.jsx("p",{className:"text-slate-400 text-lg font-medium max-w-xs leading-relaxed",children:"Join your first classroom to access personalized subjects, track your GPA, and unlock your scholar roadmap."}),r[4]=h,r[5]=c):(h=r[4],c=r[5]);let d;r[6]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsxs("div",{className:"bg-slate-950 rounded-[4rem] p-12 md:p-16 text-white flex flex-col justify-between items-start min-h-[500px] relative overflow-hidden",children:[o,e.jsxs("div",{className:"relative z-10 space-y-8",children:[x,h,c,e.jsxs(v,{href:"/student/classes",className:"inline-flex items-center gap-4 bg-white text-slate-950 px-10 py-5 rounded-[2rem] font-black group transition-all hover:bg-primary hover:text-white",children:["Browse Classrooms ",e.jsx(_,{size:22,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),r[6]=d):d=r[6];let m;return r[7]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs(C.div,{initial:s,animate:a,className:"grid grid-cols-1 md:grid-cols-2 gap-8 py-10",children:[d,e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(w,{icon:L,title:"Explore Curriculum",desc:"Join classes to sync your subjects with the latest 2026 semester requirements.",color:"text-indigo-500",bg:"bg-indigo-500/10"}),e.jsx(w,{icon:G,title:"Track Performance",desc:"Real-time analytics will appear here as you complete assessments and quizzes.",color:"text-emerald-500",bg:"bg-emerald-500/10"}),e.jsx(w,{icon:U,title:"Live Missions",desc:"Get instant notifications for time-sensitive exams and homework assignments.",color:"text-amber-500",bg:"bg-amber-500/10"})]})]}),r[7]=m):m=r[7],m}function w(r){const s=k.c(15),{icon:a,title:o,desc:x,color:h,bg:c}=r,d=`h-20 w-20 flex-shrink-0 rounded-[2rem] ${c} flex items-center justify-center ${h}`;let m;s[0]!==a?(m=e.jsx(a,{size:32}),s[0]=a,s[1]=m):m=s[1];let t;s[2]!==d||s[3]!==m?(t=e.jsx("div",{className:d,children:m}),s[2]=d,s[3]=m,s[4]=t):t=s[4];let l;s[5]!==o?(l=e.jsx("h4",{className:"font-black text-title text-2xl tracking-tight",children:o}),s[5]=o,s[6]=l):l=s[6];let i;s[7]!==x?(i=e.jsx("p",{className:"text-muted-foreground mt-1 text-sm font-medium leading-relaxed",children:x}),s[7]=x,s[8]=i):i=s[8];let p;s[9]!==l||s[10]!==i?(p=e.jsxs("div",{children:[l,i]}),s[9]=l,s[10]=i,s[11]=p):p=s[11];let n;return s[12]!==t||s[13]!==p?(n=e.jsxs("div",{className:"bg-card border border-border rounded-[3rem] p-8 flex gap-8 items-center transition-all hover:border-primary/30",children:[t,p]}),s[12]=t,s[13]=p,s[14]=n):n=s[14],n}export{Je as default};
