import{c as z,r as V,j as t,A as Q,m as $,L as W,H as J,t as K}from"./app-CRA1eXYu.js";import{A as X}from"./assessment-modal-BMJ8BMsE.js";import{B as Y}from"./badge-Cd_Hjcal.js";import{B as G}from"./button-BHhRvuKs.js";import{a as Z,b as ee,c as te,d as E,S as se}from"./select-D3U8kpD7.js";import{G as F,T as R,a as ie}from"./toggle-group-COqLBiTx.js";import{A as le}from"./app-layout-D5_7Esi3.js";import{P as oe}from"./pen-B4dRs6lT.js";import{L as ae}from"./list-F7LZkLrd.js";import{P as re}from"./plus-e_pLymDI.js";/* empty css            */import"./modal-KmCNWF3a.js";import"./dialog-jlnzsGlm.js";import"./index-DWt97Um5.js";import"./index-DEJRnXql.js";import"./index-CazKOIFm.js";import"./index-CaZPPBLQ.js";import"./index-BehOW2SC.js";import"./index-B-Fu5yA4.js";import"./index-CRg26qOe.js";import"./index-BLDnxaSS.js";import"./utils-CFcDjcb_.js";import"./x-B4EKJ2tf.js";import"./createLucideIcon-CcuKRHvM.js";import"./input-BVojpzT2.js";import"./label-D_9IhYFA.js";import"./textarea-Bqq5wyCf.js";import"./index-ikzcNs2d.js";import"./loader-circle-dJ0ezH-U.js";import"./index-orVQwjsG.js";import"./index-CHXMgrNC.js";import"./index-DTiRgZsv.js";import"./index-DtszCXuJ.js";import"./index-Ri525iDf.js";import"./index-2OQPR1xv.js";import"./index-Bq792NnG.js";import"./chevron-up-Cs1mYexT.js";import"./check-DAeFH2iA.js";import"./index-Da3dCVaE.js";import"./index-Dbc6kKSl.js";import"./tooltip-B-a5Zijt.js";import"./avatar-BY_IFAwV.js";import"./index-BAkLishO.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-ByuqWSCB.js";import"./search-DG--vAbT.js";import"./app-logo-icon-DWOLLIp3.js";import"./layout-grid-Bcphp_ZL.js";import"./users-4wCCl1VO.js";import"./settings-2-C-6EfrHS.js";import"./appearance-tabs-header-D0K124XH.js";import"./sun-DqKC8TXB.js";import"./book-open-CVFk1hrp.js";import"./chevron-right-ChBQl-V6.js";const ne=[{title:"Class",href:"/"},{title:"Subjects",href:"/subjects"},{title:"Assessments",href:"/assessments"}],me={upcoming:"bg-blue-600 shadow-blue-500/20",ongoing:"bg-emerald-600 shadow-emerald-500/20",closed:"bg-rose-600 shadow-rose-500/20",unknown:"bg-slate-500"};function pt(M){const e=z.c(42),{subject:o}=M,[a,H]=V.useState("grid"),[l,U]=V.useState("all"),[P,B]=V.useState(!1),r=o?.class_id,n=o?.id;o?.assessments;const j=Date.now();let m;e[0]!==o?.assessments?(m=o?.assessments||[],e[0]=o?.assessments,e[1]=m):m=e[1];let b;if(e[2]!==m){let s;e[4]===Symbol.for("react.memo_cache_sentinel")?(s=i=>{const g=i.start_time?new Date(i.start_time).getTime():null,T=i.end_time?new Date(i.end_time).getTime():null;let D="unknown";return g&&j<g?D="upcoming":g&&T&&j>=g&&j<=T?D="ongoing":T&&j>T&&(D="closed"),{...i,computedStatus:D}},e[4]=s):s=e[4],b=m.map(s),e[2]=m,e[3]=b}else b=e[3];const w=b;let I;e:{if(l==="all"){I=w;break e}let s;if(e[5]!==w||e[6]!==l){let i;e[8]!==l?(i=g=>g.computedStatus===l,e[8]=l,e[9]=i):i=e[9],s=w.filter(i),e[5]=w,e[6]=l,e[7]=s}else s=e[7];I=s}const N=I,q=ce,O=`${o?.name||"Assessments"} - Dashboard`;let c;e[10]!==O?(c=t.jsx(J,{title:O}),e[10]=O,e[11]=c):c=e[11];let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-black tracking-tight text-title",children:"Assessments"}),t.jsx("p",{className:"text-sm font-medium text-description",children:"Manage and monitor student examinations."})]}),e[12]=y):y=e[12];let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(Z,{className:"w-[160px] rounded-xl font-bold",children:t.jsx(ee,{placeholder:"Filter status"})}),e[13]=v):v=e[13];let S;e[14]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs(te,{className:"rounded-xl",children:[t.jsx(E,{value:"all",children:"All Statuses"}),t.jsx(E,{value:"ongoing",children:"Active Now"}),t.jsx(E,{value:"upcoming",children:"Upcoming"}),t.jsx(E,{value:"closed",children:"Closed"})]}),e[14]=S):S=e[14];let d;e[15]!==l?(d=t.jsxs(se,{value:l,onValueChange:U,children:[v,S]}),e[15]=l,e[16]=d):d=e[16];let _;e[17]===Symbol.for("react.memo_cache_sentinel")?(_=s=>s&&H(s),e[17]=_):_=e[17];let A;e[18]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(R,{value:"list",className:"rounded-lg px-3",children:t.jsx(ae,{className:"h-4 w-4"})}),e[18]=A):A=e[18];let k;e[19]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(R,{value:"grid",className:"rounded-lg px-3",children:t.jsx(F,{className:"h-4 w-4"})}),e[19]=k):k=e[19];let p;e[20]!==a?(p=t.jsxs(ie,{type:"single",value:a,onValueChange:_,className:"rounded-xl bg-muted/50 p-1",children:[A,k]}),e[20]=a,e[21]=p):p=e[21];let C;e[22]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs(G,{onClick:()=>B(!0),className:"gap-2 rounded-xl bg-primary px-5 font-bold shadow-lg shadow-primary/20 transition-transform hover:scale-105",children:[t.jsx(re,{className:"h-4 w-4"})," New Exam"]}),e[22]=C):C=e[22];let u;e[23]!==p||e[24]!==d?(u=t.jsxs("div",{className:"mb-8 flex flex-wrap items-center justify-between gap-4",children:[y,t.jsxs("div",{className:"flex items-center gap-3",children:[d,p,C]})]}),e[23]=p,e[24]=d,e[25]=u):u=e[25];let x;e[26]!==r||e[27]!==N||e[28]!==n||e[29]!==a?(x=t.jsx(Q,{mode:"popLayout",children:N.length>0?t.jsx($.div,{layout:!0,className:a==="grid"?"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3":"flex flex-col gap-3",children:N.map(s=>t.jsxs($.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`group relative rounded-2xl border bg-muted/10 p-5 transition-all hover:bg-muted/30 hover:shadow-xl ${a==="list"?"flex items-center justify-between":""}`,children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(Y,{className:`${me[s.computedStatus]} border-none text-[10px] font-black tracking-wider text-white uppercase shadow-sm`,children:s.computedStatus})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-black tracking-tight text-title transition-colors group-hover:text-primary",children:s.title}),t.jsxs("p",{className:"text-xs font-bold text-description/80",children:[new Date(s.start_time).toLocaleDateString()," ","â€¢ ",s.questions_count??0," ","Questions"]})]}),t.jsx(W,{href:route("instructor.classes.subjects.assessments.show",[r,n,s.id]),className:"inline-flex text-xs font-black tracking-widest text-primary uppercase underline-offset-4 hover:underline",children:"View Details"})]}),t.jsx(G,{variant:"secondary",size:"icon",onClick:()=>q(s),className:"absolute top-4 right-4 h-9 w-9 rounded-xl opacity-0 shadow-sm transition-all group-hover:opacity-100",children:t.jsx(oe,{className:"h-4 w-4"})})]},s.id))}):t.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 rounded-full bg-muted p-4",children:t.jsx(F,{className:"h-8 w-8 text-muted-foreground/40"})}),t.jsx("p",{className:"font-black text-title",children:"No assessments found"}),t.jsx("p",{className:"text-sm text-description",children:"Adjust your filters or create a new assessment."})]})}),e[26]=r,e[27]=N,e[28]=n,e[29]=a,e[30]=x):x=e[30];let f;e[31]!==u||e[32]!==x?(f=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:t.jsxs("div",{className:"overflow-hidden rounded-[2rem] border bg-card p-6 shadow-sm",children:[u,x]})}),e[31]=u,e[32]=x,e[33]=f):f=e[33];let h;e[34]!==r||e[35]!==P||e[36]!==n?(h=t.jsx(X,{isOpen:P,setIsOpen:B,classId:r,subjectId:n}),e[34]=r,e[35]=P,e[36]=n,e[37]=h):h=e[37];let L;return e[38]!==f||e[39]!==h||e[40]!==c?(L=t.jsxs(le,{breadcrumbs:ne,children:[c,f,h]}),e[38]=f,e[39]=h,e[40]=c,e[41]=L):L=e[41],L}function ce(M){K.info(`Edit mode for: ${M.title}`)}export{pt as default};
