import{c as S,a as P,j as t,A as G,m as z,H as O,L as $}from"./app-C4-wZLjv.js";import{A as U}from"./app-layout-CNHzTDPv.js";import H from"./EmptyStateView-CPPzZaWM.js";import V from"./subject-card-BU2fgnjW.js";import{C as B}from"./circle-alert-BQkIx_3U.js";import{T as F}from"./timer-DTnlBvFc.js";import{A as W}from"./arrow-right-CCFdR1G3.js";import{P as Y}from"./plus-BtJDo5Ri.js";import{G as q}from"./graduation-cap-BJvd7GSQ.js";import"./app-Ctpas7OY.js";import"./index-pPUi9S1_.js";import"./index-CmRgzCPv.js";import"./index-Buz4j_7Y.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./button-BtXHUDlw.js";import"./dialog-C5dD38AA.js";import"./index-DeD9CSgl.js";import"./index-CNKjpVcS.js";import"./index-Xko6ReMJ.js";import"./index-C3tRsT71.js";import"./index-Bhes_7Zs.js";import"./index-cZrIM-8D.js";import"./index-ChzAp34M.js";import"./x-cYyiHa3X.js";import"./createLucideIcon-DDKIJ2e3.js";import"./tooltip-i2vZDwaq.js";import"./index-BthvL4JC.js";import"./index-CeYVXcUJ.js";import"./index-Clov3BKf.js";import"./index-BmIIwECa.js";import"./index-DRemKmJw.js";import"./avatar-DWKof1ni.js";import"./index-C2fpaiMf.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-HKHPfprr.js";import"./search-Cxo_qDnu.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-BJ5tEmQI.js";import"./layout-grid-CEBlWw-x.js";import"./users-CUYIQcdw.js";import"./settings-2-DUZge6eM.js";import"./cpu-DrMaJJL5.js";import"./book-open-DhnomZaK.js";import"./chevron-right-CZckLAVz.js";import"./appearance-tabs-header-DkuhK1KQ.js";import"./sun-DVv0vIb6.js";import"./OnboardingCard-BcZZC710.js";import"./rocket-CBTdYty4.js";import"./target-Ba3C7Uac.js";import"./zap-SN5DpC-c.js";import"./circle-check-CE5iqhEP.js";import"./clock-CiUKO93g.js";import"./arrow-up-right-DiN0hEqu.js";const M={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},R={draft:"RESUME",default:"START NOW"},K=p=>{const e=p.filter(a=>a.status==="scored");if(e.length===0)return{avg:"0.0",completed:0,peak:0};const s=e.map(a=>parseFloat(a.score?.toString()??"0")),o=s.reduce((a,l)=>a+l,0)/s.length,r=Math.max(...s);return{avg:o.toFixed(1),completed:e.length,peak:r}},Q=(p,e)=>{const s=new Date,o=[];return p.forEach(r=>{r.subjects.forEach(a=>{a.assessments.forEach(l=>{const i=new Date(l.start_time),c=new Date(l.end_time),d=e.find(x=>x.assessment_id===l.id),n=s>=i&&s<=c,m=!d||d.status!=="scored";n&&m&&o.push({...l,subjectName:a.name,classId:r.id,subjectId:a.id,submission:d})})})}),o},J=p=>new Date(p).toLocaleDateString(),X=p=>new Date(p).toLocaleString(),Z=p=>{const e=S.c(25),{mission:s}=p,o=s.submission?.status==="draft"?R.draft:R.default,r=`/student/classes/${s.classId}/subjects/${s.subjectId}/assessment/${s.id}`;let a;e[0]!==s.type?(a=t.jsx("span",{className:"rounded bg-rose-500 px-2 py-0.5 text-[9px] font-black text-white uppercase",children:s.type}),e[0]=s.type,e[1]=a):a=e[1];let l;e[2]!==s.subjectName?(l=t.jsx("span",{className:"text-xs font-bold text-rose-700 underline decoration-rose-200",children:s.subjectName}),e[2]=s.subjectName,e[3]=l):l=e[3];let i;e[4]!==a||e[5]!==l?(i=t.jsxs("div",{className:"flex items-center gap-2",children:[a,l]}),e[4]=a,e[5]=l,e[6]=i):i=e[6];let c;e[7]!==s.title?(c=t.jsx("h4",{className:"text-xl font-black text-rose-950",children:s.title}),e[7]=s.title,e[8]=c):c=e[8];let d;e[9]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(F,{size:12}),e[9]=d):d=e[9];let n;e[10]!==s.end_time?(n=X(s.end_time),e[10]=s.end_time,e[11]=n):n=e[11];let m;e[12]!==n?(m=t.jsxs("p",{className:"flex items-center gap-1 text-[10px] font-bold text-rose-600 uppercase",children:[d,"Deadline: ",n]}),e[12]=n,e[13]=m):m=e[13];let x;e[14]!==i||e[15]!==c||e[16]!==m?(x=t.jsxs("div",{className:"space-y-1",children:[i,c,m]}),e[14]=i,e[15]=c,e[16]=m,e[17]=x):x=e[17];let h;e[18]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(W,{size:18}),e[18]=h):h=e[18];let f;e[19]!==o?(f=t.jsxs("div",{className:"flex items-center gap-2 rounded-2xl bg-rose-500 px-8 py-3 text-sm font-black text-white transition-all group-hover:bg-rose-600",children:[o," ",h]}),e[19]=o,e[20]=f):f=e[20];let u;return e[21]!==r||e[22]!==f||e[23]!==x?(u=t.jsxs($,{href:r,className:"group relative flex flex-col items-center justify-between rounded-[2rem] border-2 border-rose-100 bg-rose-50 p-6 transition-all duration-300 hover:border-rose-300 hover:bg-rose-100 md:flex-row",children:[x,f]}),e[21]=r,e[22]=f,e[23]=x,e[24]=u):u=e[24],u},ee=p=>{const e=S.c(11),{classrooms:s,activeIndex:o,onClassChange:r}=p;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("h3",{className:"text-sm font-black tracking-widest text-muted-foreground uppercase",children:"Classroom Navigator"}),t.jsx($,{href:"/student/classes",className:"text-xs font-bold text-primary hover:underline",children:"View All Classes"})]}),e[0]=a):a=e[0];let l;if(e[1]!==o||e[2]!==s||e[3]!==r){let d;e[5]!==o||e[6]!==r?(d=(n,m)=>t.jsxs("button",{onClick:()=>r(m),className:`flex flex-shrink-0 flex-col items-start rounded-[2.5rem] border-2 px-8 py-3 transition-all duration-300 ${o===m?"scale-105 border-primary bg-primary text-white shadow-2xl shadow-primary/30":"border-border bg-card text-title hover:border-primary/50"}`,children:[t.jsxs("span",{className:"text-[10px] font-black uppercase opacity-60",children:["Year ",n.year," â€¢ Sem ",n.semester]}),t.jsx("span",{className:"text-lg font-black whitespace-nowrap",children:n.name})]},n.id),e[5]=o,e[6]=r,e[7]=d):d=e[7],l=s.map(d),e[1]=o,e[2]=s,e[3]=r,e[4]=l}else l=e[4];let i;e[8]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx($,{href:"/student/classes",className:"flex h-20 w-20 flex-shrink-0 items-center justify-center rounded-full border-2 border-dashed border-border text-muted-foreground transition-all hover:border-primary hover:text-primary",children:t.jsx(Y,{size:24})}),e[8]=i):i=e[8];let c;return e[9]!==l?(c=t.jsxs("section",{className:"space-y-6",children:[a,t.jsxs("div",{className:"no-scrollbar flex items-center gap-4 overflow-x-auto p-3",children:[l,i]})]}),e[9]=l,e[10]=c):c=e[10],c},te=p=>{const e=S.c(9),{globalStats:s}=p;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Global GPA"}),e[0]=o):o=e[0];let r;e[1]!==s.avg?(r=t.jsxs("div",{className:"border-r border-border px-6 py-2 text-center",children:[o,t.jsxs("p",{className:"text-2xl font-black text-primary",children:[s.avg,"%"]})]}),e[1]=s.avg,e[2]=r):r=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Peak Score"}),e[3]=a):a=e[3];let l;e[4]!==s.peak?(l=t.jsxs("div",{className:"px-6 py-2 text-center",children:[a,t.jsxs("p",{className:"text-2xl font-black text-emerald-500",children:[s.peak,"%"]})]}),e[4]=s.peak,e[5]=l):l=e[5];let i;return e[6]!==r||e[7]!==l?(i=t.jsxs("div",{className:"flex items-center gap-4 rounded-3xl border border-border bg-card/50 p-2 shadow-xl backdrop-blur-xl",children:[r,l]}),e[6]=r,e[7]=l,e[8]=i):i=e[8],i},se=p=>{const e=S.c(23),{student:s}=p;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:t.jsx(q,{size:120})}),e[0]=o):o=e[0];let r;e[1]!==s.name?(r=s.name.charAt(0),e[1]=s.name,e[2]=r):r=e[2];let a;e[3]!==r?(a=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 font-black backdrop-blur-md",children:r}),e[3]=r,e[4]=a):a=e[4];let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("p",{className:"text-[10px] font-black tracking-widest uppercase opacity-50",children:"Scholar ID"}),e[5]=l):l=e[5];let i;e[6]!==s.id?(i=t.jsxs("div",{className:"text-right",children:[l,t.jsxs("p",{className:"font-mono text-sm",children:["#",s.id,"992026"]})]}),e[6]=s.id,e[7]=i):i=e[7];let c;e[8]!==a||e[9]!==i?(c=t.jsxs("div",{className:"flex justify-between",children:[a,i]}),e[8]=a,e[9]=i,e[10]=c):c=e[10];let d;e[11]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("p",{className:"text-[10px] font-black uppercase opacity-50",children:"Student Name"}),e[11]=d):d=e[11];let n;e[12]!==s.name?(n=t.jsx("h3",{className:"text-3xl font-black tracking-tight",children:s.name}),e[12]=s.name,e[13]=n):n=e[13];let m;e[14]!==s.email?(m=t.jsx("p",{className:"mt-1 text-xs font-bold tracking-tighter uppercase opacity-60",children:s.email}),e[14]=s.email,e[15]=m):m=e[15];let x;e[16]!==n||e[17]!==m?(x=t.jsxs("div",{children:[d,n,m]}),e[16]=n,e[17]=m,e[18]=x):x=e[18];let h;e[19]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 pt-6",children:[t.jsx("div",{children:t.jsx("p",{className:"text-[10px] font-bold opacity-50",children:"COMPLETED"})}),t.jsx("div",{children:t.jsx("p",{className:"text-right text-[10px] font-bold opacity-50",children:"PEAK SCORE"})})]}),e[19]=h):h=e[19];let f;return e[20]!==x||e[21]!==c?(f=t.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-indigo-600 to-violet-800 p-8 text-white shadow-2xl",children:[o,t.jsxs("div",{className:"relative z-10 space-y-12",children:[c,x,h]})]}),e[20]=x,e[21]=c,e[22]=f):f=e[22],f},le=p=>{const e=S.c(16),{classroom:s,submissions:o}=p;let r,a,l,i;if(e[0]!==s.subjects||e[1]!==o){const n=s.subjects.flatMap(re),m=n.length,x=n.slice(0,4);l="space-y-8 rounded-[2.5rem] border border-border bg-card p-8 shadow-sm";let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("h3",{className:"text-xl font-black text-title italic",children:"Upcoming"}),e[6]=h):h=e[6],e[7]!==m?(i=t.jsxs("div",{className:"flex items-center justify-between",children:[h,t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-black",children:m})]}),e[7]=m,e[8]=i):i=e[8],r="space-y-6",a=m>0?x.map((f,u)=>{const b=o.find(k=>k.assessment_id===f.id);return t.jsxs("div",{className:"group flex gap-4",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:`h-3 w-3 rounded-full border-2 ${b?"border-emerald-500 bg-emerald-500":"border-primary"}`}),u<x.length-1&&t.jsx("div",{className:"mt-2 h-full w-px bg-border"})]}),t.jsxs("div",{className:"pb-4",children:[t.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:J(f.end_time)}),t.jsx("h4",{className:"text-sm font-bold text-title transition-colors group-hover:text-primary",children:f.title}),t.jsx("span",{className:"text-[9px] font-black text-primary/60 uppercase",children:f.type})]})]},f.id)}):t.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-card p-8 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"text-4xl",children:"ðŸ“"}),t.jsx("h4",{className:"text-sm font-black text-title",children:"No tasks yet"}),t.jsx("p",{className:"max-w-xs text-xs text-muted-foreground",children:"This classroom doesn't have any assignments, quizzes, or exams yet. They will appear here once your teacher adds them."})]})}),e[0]=s.subjects,e[1]=o,e[2]=r,e[3]=a,e[4]=l,e[5]=i}else r=e[2],a=e[3],l=e[4],i=e[5];let c;e[9]!==r||e[10]!==a?(c=t.jsx("div",{className:r,children:a}),e[9]=r,e[10]=a,e[11]=c):c=e[11];let d;return e[12]!==l||e[13]!==i||e[14]!==c?(d=t.jsxs("div",{className:l,children:[i,c]}),e[12]=l,e[13]=i,e[14]=c,e[15]=d):d=e[15],d};function ot(p){const e=S.c(44),{student:s}=p;let o;e[0]!==s.student_classrooms?(o=s?.student_classrooms??[],e[0]=s.student_classrooms,e[1]=o):o=e[1];const r=o;let a;e[2]!==s.student_assessment?(a=s?.student_assessment??[],e[2]=s.student_assessment,e[3]=a):a=e[3];const l=a,i=r.length===0,[c,d]=P.useState(0),n=r[c];let m;e[4]!==l?(m=K(l),e[4]=l,e[5]=m):m=e[5];let x;e[6]!==r||e[7]!==l?(x=Q(r,l),e[6]=r,e[7]=l,e[8]=x):x=e[8];let h;e[9]!==m||e[10]!==x?(h={globalStats:m,liveMissions:x},e[9]=m,e[10]=x,e[11]=h):h=e[11];const{globalStats:f,liveMissions:u}=h;let b;e[12]!==s.name?(b=s.name.split(" "),e[12]=s.name,e[13]=b):b=e[13];const k=b[0],I=i?"Begin,":"Hello,",E=i?"System Standby":"Academic Session Active";let A;e[14]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(O,{title:"Scholar Dashboard | Mission Control"}),e[14]=A):A=e[14];let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-primary opacity-75"}),t.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-primary"})]}),e[15]=C):C=e[15];let j;e[16]!==E?(j=t.jsxs("div",{className:"flex items-center gap-2",children:[C,t.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-muted-foreground uppercase",children:E})]}),e[16]=E,e[17]=j):j=e[17];let T;e[18]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("svg",{className:"absolute -bottom-2 left-0 w-full",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:t.jsx("path",{d:"M0 5 Q 25 0, 50 5 T 100 5",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"opacity-30"})}),e[18]=T):T=e[18];let g;e[19]!==k?(g=t.jsxs("span",{className:"relative text-primary italic",children:[k,T]}),e[19]=k,e[20]=g):g=e[20];let N;e[21]!==I||e[22]!==g?(N=t.jsxs("h1",{className:"flex items-center gap-4 text-5xl leading-none font-[1000] tracking-tighter text-title md:text-7xl",children:[I," ",g]}),e[21]=I,e[22]=g,e[23]=N):N=e[23];let y;e[24]!==N||e[25]!==j?(y=t.jsxs("div",{className:"space-y-2",children:[j,N]}),e[24]=N,e[25]=j,e[26]=y):y=e[26];let v;e[27]!==f||e[28]!==i?(v=!i&&t.jsx(te,{globalStats:f}),e[27]=f,e[28]=i,e[29]=v):v=e[29];let w;e[30]!==y||e[31]!==v?(w=t.jsxs("header",{className:"flex flex-col items-start justify-between gap-6 lg:flex-row lg:items-end",children:[y,v]}),e[30]=y,e[31]=v,e[32]=w):w=e[32];let _;e[33]!==n||e[34]!==c||e[35]!==r||e[36]!==i||e[37]!==u||e[38]!==s||e[39]!==l?(_=i?t.jsx(H,{}):t.jsxs("div",{className:"grid grid-cols-1 gap-10 lg:grid-cols-12",children:[t.jsxs("div",{className:"space-y-12 lg:col-span-8",children:[u.length>0&&t.jsxs("section",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 px-1",children:[t.jsx(B,{size:16,className:"animate-pulse text-rose-500"}),t.jsx("h3",{className:"text-sm font-black tracking-widest text-rose-500 uppercase",children:"Live Missions Due Soon"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.map(ae)})]}),t.jsx(ee,{classrooms:r,activeIndex:c,onClassChange:d}),t.jsx(G,{mode:"wait",children:t.jsx(z.div,{initial:M.initial,animate:M.animate,exit:M.exit,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:n.subjects.length>0?n.subjects.map(L=>t.jsx(V,{subject:L,classId:n.id,submissions:l},L.id)):t.jsx("div",{className:"col-span-full",children:t.jsx(z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"w-full rounded-3xl border border-dashed border-border bg-card p-12 text-center shadow-sm",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-primary/10 text-primary",children:"ðŸ“š"}),t.jsx("h3",{className:"text-xl font-black text-title",children:"No subjects yet"}),t.jsx("p",{className:"max-w-md text-sm text-muted-foreground",children:"This classroom doesn't have any subjects assigned yet. Once your teacher adds them, they will appear here."})]})})})},n.id)})]}),t.jsxs("div",{className:"space-y-8 lg:col-span-4",children:[t.jsx(se,{student:s}),t.jsx(le,{classroom:n,submissions:l})]})]}),e[33]=n,e[34]=c,e[35]=r,e[36]=i,e[37]=u,e[38]=s,e[39]=l,e[40]=_):_=e[40];let D;return e[41]!==w||e[42]!==_?(D=t.jsxs(U,{children:[A,t.jsxs("div",{className:"relative container mx-auto space-y-10 p-4 md:p-8 lg:p-12",children:[w,_]})]}),e[41]=w,e[42]=_,e[43]=D):D=e[43],D}function ae(p){return t.jsx(Z,{mission:p},p.id)}function re(p){return p.assessments}export{ot as default};
