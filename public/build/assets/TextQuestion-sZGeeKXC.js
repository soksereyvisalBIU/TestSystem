import{c as W,a as A,j as t}from"./app-DbC9swOp.js";import{B as X}from"./badge-B0uBOCG_.js";import{B as D}from"./button-B0cnHsLL.js";import{L as G}from"./label-CW24IyLF.js";import{c as Q}from"./utils-CFcDjcb_.js";import{C as P}from"./circle-check-BFSMPm1h.js";import{C as U}from"./code-xml-CtTOUA6a.js";import{c as Y}from"./createLucideIcon-CwNQQ2Lr.js";import{M as Z}from"./maximize-2-B0rWHlGb.js";import{C as ee}from"./circle-alert-BqRBiI5b.js";import"./app-B-j88FTB.js";import"./index-OyaHfcK1.js";import"./index-DrZ1WBgl.js";import"./index-CHXMgrNC.js";import"./index-CGmkGWeF.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],se=Y("Quote",te);function je(y){const e=W.c(44),{question:s,answers:J,onTeacherScore:a}=y,M=J[0]||{},o=M.answer_text||"",$=s.options?.map(ae)||[];parseFloat(s.point||0);const[w,K]=A.useState(!1),[n,i]=A.useState(M.manual_score??M.points_earned??0),N=o.includes("<pre>")||o.includes("<code>"),q=o.replace(/<[^>]*>/g,"").trim(),O="group/main space-y-6 animate-in fade-in zoom-in-95 duration-500",S=N?"bg-zinc-900 ring-white/20 text-yellow-400":"bg-primary/10 ring-primary/20 text-primary";let l;e[0]!==S?(l=Q("flex h-8 w-8 items-center justify-center rounded-lg ring-1 shadow-sm transition-all",S),e[0]=S,e[1]=l):l=e[1];const T=N?t.jsx(U,{size:16}):t.jsx(se,{size:16});let c;e[2]!==l||e[3]!==T?(c=t.jsx("div",{className:l,children:T}),e[2]=l,e[3]=T,e[4]=c):c=e[4];const I=N?"Technical Implementation":"Conceptual Response";let d;e[5]!==I?(d=t.jsx(G,{className:"text-[11px] font-bold uppercase tracking-[0.15em] text-muted-foreground",children:I}),e[5]=I,e[6]=d):d=e[6];let m;e[7]!==c||e[8]!==d?(m=t.jsxs("div",{className:"flex items-center gap-3",children:[c,d]}),e[7]=c,e[8]=d,e[9]=m):m=e[9];let p;e[10]!==w?(p=()=>K(!w),e[10]=w,e[11]=p):p=e[11];let k;e[12]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(Z,{size:14}),e[12]=k):k=e[12];let x;e[13]!==p?(x=t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(D,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover/main:opacity-100 transition-opacity",onClick:p,children:k})}),e[13]=p,e[14]=x):x=e[14];let f;e[15]!==x||e[16]!==m?(f=t.jsxs("div",{className:"mb-3 flex items-center justify-between px-1",children:[m,x]}),e[15]=x,e[16]=m,e[17]=f):f=e[17];const L=N?"bg-[#0d0d0d] border-zinc-800":"bg-card border-border",R=w?"min-h-[400px]":"min-h-[160px]";let u;e[18]!==L||e[19]!==R?(u=Q("relative overflow-hidden rounded-3xl border-2 transition-all duration-500",L,R),e[18]=L,e[19]=R,e[20]=u):u=e[20];let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("style",{dangerouslySetInnerHTML:{__html:`
                        .student-content pre { background: transparent !important; padding: 0; margin: 0; font-family: 'JetBrains Mono', monospace; }
                        .student-content code { color: #f4f4f5; }
                        .student-content p { margin-bottom: 1rem; }
                    `}}),e[21]=_):_=e[21];const B=N?"prose-pre:text-zinc-300":"prose-p:text-foreground/90 font-serif";let h;e[22]!==B?(h=Q("student-content relative z-10 p-8 prose prose-sm md:prose-base max-w-none dark:prose-invert transition-all",B),e[22]=B,e[23]=h):h=e[23];const E=o?t.jsx("div",{dangerouslySetInnerHTML:{__html:o}}):t.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground italic py-10 justify-center",children:[t.jsx(ee,{size:18}),t.jsx("span",{className:"tracking-tight",children:"Student did not submit an answer for this prompt."})]});let g;e[24]!==h||e[25]!==E?(g=t.jsx("div",{className:h,children:E}),e[24]=h,e[25]=E,e[26]=g):g=e[26];const F=o&&t.jsxs("div",{className:"absolute bottom-4 right-6 flex gap-4",children:[t.jsxs("span",{className:"text-[10px] font-mono text-muted-foreground/40 uppercase tracking-tighter",children:[q.split(/\s+/).length," Words"]}),t.jsxs("span",{className:"text-[10px] font-mono text-muted-foreground/40 uppercase tracking-tighter",children:[q.length," Chars"]})]});let b;e[27]!==u||e[28]!==g||e[29]!==F?(b=t.jsxs("div",{className:u,children:[_,g,F]}),e[27]=u,e[28]=g,e[29]=F,e[30]=b):b=e[30];let v;e[31]!==f||e[32]!==b?(v=t.jsxs("div",{className:"relative",children:[f,b]}),e[31]=f,e[32]=b,e[33]=v):v=e[33];const H=$.length>0&&t.jsxs("div",{className:"relative rounded-[2rem] border border-dashed border-emerald-500/30 bg-emerald-500/[0.02] p-6 transition-all hover:bg-emerald-500/[0.04]",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-2 text-emerald-600 dark:text-emerald-400",children:[t.jsx(P,{size:16,className:"animate-pulse"}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Reference Key"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(re)})]});let j;e[34]!==a||e[35]!==s.id||e[36]!==s.point||e[37]!==i||e[38]!==n?(j=a&&t.jsxs("div",{className:"group relative flex flex-col overflow-hidden rounded-2xl border border-primary/10 bg-card shadow-lg transition-all hover:border-primary/30 md:flex-row md:items-center",children:[t.jsx("div",{className:"relative flex  flex-row items-center justify-center gap-3 bg-primary px-6 py-4 text-primary-foreground md:flex-col md:py-6",children:t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("input",{type:"number",step:"0.5",value:n,onChange:r=>{const z=r.target.value===""?0:parseFloat(r.target.value),V=Math.min(s.point,Math.max(0,z));i(V),a(s.id,V)},className:"w-16 bg-transparent text-right font-mono text-xl font-black tabular-nums transition-transform outline-none focus:scale-110"}),t.jsx("span",{className:"text-sm font-bold opacity-50",children:"pts"})]})}),t.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 lg:flex-row lg:items-center lg:gap-8",children:[t.jsxs("div",{className:"flex flex-1 flex-col gap-1.5",children:[t.jsxs("div",{className:"flex justify-between px-1",children:[t.jsx("span",{className:"text-[10px] font-bold text-muted-foreground/60 uppercase",children:"Scoring Tier"}),t.jsx("button",{onClick:()=>{i(0),a(s.id,0)},className:"text-[10px] font-bold text-red-500 uppercase opacity-0 transition-opacity group-hover:opacity-100 hover:underline",children:"Reset"})]}),t.jsx("div",{className:"relative flex items-center",children:t.jsx("input",{type:"range",min:"0",max:s.point,step:"0.5",value:n,onChange:r=>{const z=parseFloat(r.target.value);i(z),a(s.id,z)},style:{background:`linear-gradient(to right, hsl(var(--primary)) ${n/s.point*100}%, hsl(var(--muted)) ${n/s.point*100}%)`},className:"h-2 w-full cursor-pointer rounded-full accent-primary"})})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex overflow-hidden rounded-xl border border-border shadow-sm",children:[t.jsx("button",{onClick:()=>{const r=Math.max(0,n-.5);i(r),a(s.id,r)},className:"flex h-9 w-9 items-center justify-center bg-background font-bold transition-colors hover:bg-muted active:bg-primary/10",children:"âˆ’"}),t.jsx("div",{className:"w-[1px] bg-border"}),t.jsx("button",{onClick:()=>{const r=Math.min(s.point,n+.5);i(r),a(s.id,r)},className:"flex h-9 w-9 items-center justify-center bg-background font-bold transition-colors hover:bg-muted active:bg-primary/10",children:"+"})]})})]})]}),e[34]=a,e[35]=s.id,e[36]=s.point,e[37]=i,e[38]=n,e[39]=j):j=e[39];let C;return e[40]!==v||e[41]!==H||e[42]!==j?(C=t.jsxs("div",{className:O,children:[v,H,j]}),e[40]=v,e[41]=H,e[42]=j,e[43]=C):C=e[43],C}function re(y,e){return t.jsx(X,{variant:"outline",className:"border-emerald-200 bg-background/80 px-3 py-1 text-emerald-700 dark:border-emerald-800 dark:text-emerald-300",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:y}})},e)}function ae(y){return y.option_text}export{je as default};
