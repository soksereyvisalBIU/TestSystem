import{c as ee,n as te,j as s,r as W,A as ie,m as O,L as ae}from"./app-CRA1eXYu.js";import{B as re}from"./button-BHhRvuKs.js";import{u as oe}from"./useCan-B7ppjaOW.js";import{s as Z}from"./index-ikzcNs2d.js";import{C as le}from"./check-DAeFH2iA.js";import{C as ne}from"./copy-BVdHRsfQ.js";import{L as ce}from"./lock-Di9egslX.js";import{P as de}from"./pen-B4dRs6lT.js";function pe(U){const i=ee.c(4),{permission:e,children:t,fallback:l}=U,o=l===void 0?null:l,{props:T}=te();if(!(T.auth?.can?.[e]===!0)){let r;return i[0]!==o?(r=s.jsx(s.Fragment,{children:o}),i[0]=o,i[1]=r):r=i[1],r}let a;return i[2]!==t?(a=s.jsx(s.Fragment,{children:t}),i[2]=t,i[3]=a):a=i[3],a}const me="/assets/img/class/39323.jpg",fe={y:-10},xe={duration:.5,ease:[.22,1,.36,1]},Ne=W.memo(function(i){const e=ee.c(73),{classroom:t,onEdit:l}=i,{url:o}=te(),[T,R]=W.useState(!1),a=oe("access-instructor-page"),r=t?.cover?`/storage/${t.cover}`:me;let n;e[0]!==a||e[1]!==t.id||e[2]!==o?(n=a&&o.includes("/instructor")?Z("instructor.classes.show",t.id):Z("student.classes.show",t.id),e[0]=a,e[1]=t.id,e[2]=o,e[3]=n):n=e[3];let _;e[4]!==r||e[5]!==n?(_={backgroundImage:r,routeToClass:n},e[4]=r,e[5]=n,e[6]=_):_=e[6];const{backgroundImage:se,routeToClass:D}=_;let $;e[7]!==t||e[8]!==l?($=P=>{P.preventDefault(),P.stopPropagation(),l?.(t)},e[7]=t,e[8]=l,e[9]=$):$=e[9];const G=$;let L;e[10]!==t.code?(L=P=>{P.preventDefault(),P.stopPropagation(),t.code&&(navigator.clipboard.writeText(t.code),R(!0),setTimeout(()=>R(!1),2e3))},e[10]=t.code,e[11]=L):L=e[11];const H=L,M=`classroom-card-${t.id}`,X=`group relative h-56 w-full overflow-hidden rounded-[2.5rem] bg-card transition-all duration-500 will-change-transform sm:h-72 ${t.joined?"shadow-2xl ring-2 shadow-primary/20 ring-primary/50":"shadow-lg hover:shadow-2xl hover:shadow-black/30"}`,z=`url('${se}')`;let c;e[12]!==z?(c=s.jsx("div",{className:"absolute inset-0 transform-gpu bg-cover bg-center transition-transform duration-700 ease-out group-hover:scale-110",style:{backgroundImage:z}}),e[12]=z,e[13]=c):c=e[13];const J=`absolute inset-0 transition-opacity duration-500 ${t.joined?"bg-gradient-to-t from-primary/95 via-primary/40 to-black/20 opacity-90":"bg-gradient-to-t from-black/95 via-black/20 to-transparent opacity-80 group-hover:opacity-90"}`;let d;e[14]!==J?(d=s.jsx("div",{className:J}),e[14]=J,e[15]=d):d=e[15];let p;e[16]!==t.joined||e[17]!==t.visibility?(p=t.joined?s.jsx("span",{className:"flex items-center gap-1.5 rounded-full bg-white px-4 py-1.5 text-[10px] font-black tracking-wider text-primary uppercase shadow-xl",children:"Joined"}):s.jsx("span",{className:"rounded-full bg-primary px-4 py-1.5 text-[11px] font-black tracking-widest text-primary-foreground uppercase shadow-lg",children:t?.visibility}),e[16]=t.joined,e[17]=t.visibility,e[18]=p):p=e[18];let m;e[19]!==t.code?(m=s.jsx("span",{className:"font-mono tracking-wider",children:t.code}),e[19]=t.code,e[20]=m):m=e[20];let f;e[21]!==T?(f=s.jsx("div",{className:"ml-1 border-l border-white/20 pl-2",children:s.jsx(ie,{mode:"wait",children:T?s.jsx(O.div,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},exit:{y:-5,opacity:0},children:s.jsx(le,{className:"h-3.5 w-3.5 text-green-400"})},"check"):s.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},children:s.jsx(ne,{className:"h-3 w-3 opacity-60 group-hover/code:opacity-100"})},"copy")})}),e[21]=T,e[22]=f):f=e[22];let x;e[23]!==H||e[24]!==m||e[25]!==f?(x=s.jsxs("button",{onClick:H,className:"group/code relative flex items-center gap-2 overflow-hidden rounded-full border border-white/10 bg-black/30 px-4 py-1.5 text-[11px] font-bold text-white backdrop-blur-md transition-all hover:bg-black/50 active:scale-95",children:[m,f]}),e[23]=H,e[24]=m,e[25]=f,e[26]=x):x=e[26];let h;e[27]!==p||e[28]!==x?(h=s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p,x]}),e[27]=p,e[28]=x,e[29]=h):h=e[29];let S;e[30]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(de,{className:"h-4 w-4"}),e[30]=S):S=e[30];let u;e[31]!==G?(u=s.jsx(pe,{permission:"access-instructor-page",children:s.jsx(re,{variant:"secondary",size:"icon",className:"h-9 w-9 rounded-xl border border-white/10 bg-white/10 text-white backdrop-blur-md hover:bg-white hover:text-primary",onClick:G,children:S})}),e[31]=G,e[32]=u):u=e[32];let b;e[33]!==h||e[34]!==u?(b=s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h,u]}),e[33]=h,e[34]=u,e[35]=b):b=e[35];let g;e[36]!==t.visibility?(g=t.visibility==="private"&&s.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-bold tracking-widest text-red-300 uppercase",children:[s.jsx(ce,{className:"h-2.5 w-2.5"})," Private Session"]}),e[36]=t.visibility,e[37]=g):g=e[37];const K=t?.name;let y;e[38]!==K?(y=s.jsx("h3",{className:"text-2xl leading-tight font-black text-white drop-shadow-md sm:text-3xl",children:K}),e[38]=K,e[39]=y):y=e[39];let j;e[40]!==g||e[41]!==y?(j=s.jsxs("div",{className:"space-y-1",children:[g,y]}),e[40]=g,e[41]=y,e[42]=j):j=e[42];const V=t?.year,Y=t?.semester||1;let v;e[43]!==V||e[44]!==Y?(v=s.jsx("div",{className:"flex items-center gap-1.5 rounded-lg border border-white/5 bg-white/10 px-2 py-1 backdrop-blur-sm",children:s.jsxs("span",{children:["Y",V," S",Y]})}),e[43]=V,e[44]=Y,e[45]=v):v=e[45];let B;e[46]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("span",{className:"h-1 w-1 rounded-full bg-white/40"}),e[46]=B):B=e[46];const q=t?.batch;let w;e[47]!==q?(w=s.jsxs("span",{className:"rounded-lg border border-white/5 bg-white/10 px-2 py-1 backdrop-blur-sm",children:["Batch ",q]}),e[47]=q,e[48]=w):w=e[48];let N;e[49]!==v||e[50]!==w?(N=s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs font-bold text-white/90",children:[v,B,w]}),e[49]=v,e[50]=w,e[51]=N):N=e[51];const Q=t?.description||"Explore this classroom to start your journey.";let k;e[52]!==Q?(k=s.jsx("p",{className:"line-clamp-2 text-xs leading-relaxed font-medium text-white/70 italic",children:Q}),e[52]=Q,e[53]=k):k=e[53];let C;e[54]!==j||e[55]!==N||e[56]!==k?(C=s.jsxs("div",{className:"space-y-3",children:[j,N,k]}),e[54]=j,e[55]=N,e[56]=k,e[57]=C):C=e[57];let I;e[58]!==b||e[59]!==C?(I=s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between p-5 sm:p-6",children:[b,C]}),e[58]=b,e[59]=C,e[60]=I):I=e[60];let A;e[61]!==t.joined?(A=t.joined&&s.jsx(O.div,{initial:{scaleX:0},animate:{scaleX:1},className:"absolute right-0 bottom-0 left-0 h-1.5 origin-left transform-gpu bg-gradient-to-r from-primary via-blue-400 to-primary"}),e[61]=t.joined,e[62]=A):A=e[62];let E;e[63]!==d||e[64]!==I||e[65]!==A||e[66]!==M||e[67]!==X||e[68]!==c?(E=s.jsxs(O.div,{layoutId:M,className:X,whileHover:fe,transition:xe,children:[c,d,I,A]}),e[63]=d,e[64]=I,e[65]=A,e[66]=M,e[67]=X,e[68]=c,e[69]=E):E=e[69];let F;return e[70]!==D||e[71]!==E?(F=s.jsx(ae,{prefetch:!0,href:D,className:"group/link block outline-none",children:E}),e[70]=D,e[71]=E,e[72]=F):F=e[72],F});export{Ne as C};
