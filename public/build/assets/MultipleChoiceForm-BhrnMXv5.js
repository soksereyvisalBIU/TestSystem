import{c as I,r as L,j as r}from"./app-DOexATz8.js";import{L as z}from"./label-B8z-0cNd.js";import{T as M}from"./textarea-BsNou_JT.js";import{I as P}from"./input--pI8Kted.js";import{B}from"./button-BRVN6i6H.js";import{c as O}from"./utils-CFcDjcb_.js";import{C as R}from"./circle-check-BbXVY_J9.js";import{C as $}from"./circle-BdnuV9lG.js";import{T as Q}from"./trash-2-BjJHxuLT.js";import{P as W}from"./plus-Cl_g_eWc.js";import"./app-Dkd-uU77.js";import"./index-CsaJF3T3.js";import"./index-Dghi0PCu.js";import"./index-DQ5CcXw7.js";import"./index-CHXMgrNC.js";import"./createLucideIcon-j6D0D3Y_.js";function ae(F){const e=I.c(49),{data:t,onChange:i}=F;let g;e[0]!==t.options?(g=t.options||["",""],e[0]=t.options,e[1]=g):g=e[1];const[s,S]=L.useState(g);let y;e[2]!==t||e[3]!==i||e[4]!==s?(y=(o,a)=>{const n=[...s];n[o]=a,S(n);const l=t.answer===s[o];i({...t,options:n,answer:l?a:t.answer})},e[2]=t,e[3]=i,e[4]=s,e[5]=y):y=e[5];const h=y;let v;e[6]!==t||e[7]!==i||e[8]!==s?(v=()=>{if(s.length>=6)return;const o=[...s,""];S(o),i({...t,options:o})},e[6]=t,e[7]=i,e[8]=s,e[9]=v):v=e[9];const _=v;let w;e[10]!==t||e[11]!==i||e[12]!==s?(w=o=>{if(s.length<=2)return;const a=s.filter((l,E)=>E!==o),n=t.answer===s[o];S(a),i({...t,options:a,answer:n?"":t.answer})},e[10]=t,e[11]=i,e[12]=s,e[13]=w):w=e[13];const x=w;let j;e[14]!==t||e[15]!==i?(j=o=>{i({...t,answer:o})},e[14]=t,e[15]=i,e[16]=j):j=e[16];const b=j;let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=r.jsx(z,{htmlFor:"question",className:"text-sm font-semibold text-subtitle ml-1",children:"Question Stem"}),e[17]=C):C=e[17];const T=t.question||"";let c;e[18]!==t||e[19]!==i?(c=o=>i({...t,question:o.target.value}),e[18]=t,e[19]=i,e[20]=c):c=e[20];let m;e[21]!==T||e[22]!==c?(m=r.jsxs("div",{className:"space-y-3",children:[C,r.jsx(M,{id:"question",required:!0,placeholder:"e.g., Which of the following is a primary color?",className:"min-h-[100px] bg-background border-input focus:border-primary focus:ring-4 focus:ring-primary/5 transition-all resize-none text-lg text-body shadow-sm",value:T,onChange:c})]}),e[21]=T,e[22]=c,e[23]=m):m=e[23];let N;e[24]===Symbol.for("react.memo_cache_sentinel")?(N=r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsx(z,{className:"text-sm font-semibold text-subtitle",children:"Answer Options"}),r.jsx("span",{className:"text-[10px] text-description font-medium uppercase tracking-tighter opacity-70",children:"Mark one as correct"})]}),e[24]=N):N=e[24];let d;if(e[25]!==t.answer||e[26]!==s||e[27]!==x||e[28]!==b||e[29]!==h){let o;e[31]!==t.answer||e[32]!==s.length||e[33]!==x||e[34]!==b||e[35]!==h?(o=(a,n)=>{const l=t.answer===a&&a!=="";return r.jsxs("div",{className:O("group flex items-center gap-3 p-2 rounded-xl border transition-all duration-200",l?"bg-success/10 border-success/50 shadow-sm":"bg-card border-border hover:border-primary/30"),children:[r.jsx("button",{type:"button",onClick:()=>b(a),disabled:!a.trim(),className:O("flex-shrink-0 ml-2 transition-transform active:scale-90 disabled:opacity-30",l?"text-success":"text-description/40 hover:text-primary"),children:l?r.jsx(R,{className:"w-6 h-6 fill-success/10"}):r.jsx($,{className:"w-6 h-6"})}),r.jsx(P,{required:!0,type:"text",placeholder:`Option ${n+1}`,value:a,onChange:E=>h(n,E.target.value),className:O("flex-1 border-none bg-transparent shadow-none focus-visible:ring-0 text-base font-medium",l?"text-success-foreground":"text-body")}),r.jsx(B,{type:"button",variant:"ghost",size:"icon",onClick:()=>x(n),className:O("opacity-0 group-hover:opacity-100 transition-opacity text-description/60 hover:text-destructive hover:bg-destructive/10",s.length<=2&&"hidden"),children:r.jsx(Q,{className:"w-4 h-4"})})]},n)},e[31]=t.answer,e[32]=s.length,e[33]=x,e[34]=b,e[35]=h,e[36]=o):o=e[36],d=s.map(o),e[25]=t.answer,e[26]=s,e[27]=x,e[28]=b,e[29]=h,e[30]=d}else d=e[30];let p;e[37]!==d?(p=r.jsx("div",{className:"space-y-3",children:d}),e[37]=d,e[38]=p):p=e[38];const A=s.length>=6;let k;e[39]===Symbol.for("react.memo_cache_sentinel")?(k=r.jsx(W,{className:"w-4 h-4 mr-2 group-hover:rotate-90 transition-transform"}),e[39]=k):k=e[39];let u;e[40]!==_||e[41]!==A?(u=r.jsxs(B,{type:"button",variant:"outline",disabled:A,onClick:_,className:"w-full py-6 border-dashed border-2 border-border text-description hover:text-primary hover:border-primary hover:bg-primary/5 transition-all group rounded-xl bg-transparent",children:[k,"Add Choice"]}),e[40]=_,e[41]=A,e[42]=u):u=e[42];let f;e[43]!==p||e[44]!==u?(f=r.jsxs("div",{className:"space-y-4",children:[N,p,u]}),e[43]=p,e[44]=u,e[45]=f):f=e[45];let q;return e[46]!==f||e[47]!==m?(q=r.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-top-2 duration-500",children:[m,f]}),e[46]=f,e[47]=m,e[48]=q):q=e[48],q}export{ae as default};
