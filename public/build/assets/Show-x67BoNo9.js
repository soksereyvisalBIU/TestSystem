import{r as v,c as A,j as t,m as J,A as H,e as I,H as R}from"./app-CRA1eXYu.js";import{S as $,C as P}from"./subject-card-DoEKZzNX.js";import{A as U}from"./app-layout-D5_7Esi3.js";import{B as E}from"./button-BHhRvuKs.js";import{b as Q,D as T,a as q,k as Y,c as G,d as K}from"./dialog-jlnzsGlm.js";import{s as V}from"./index-ikzcNs2d.js";import{S as W}from"./shield-check-Xd9U5M6g.js";import{L as X}from"./loader-circle-dJ0ezH-U.js";import{U as F}from"./user-plus-DQgPH7W1.js";import{S as Z}from"./search-DG--vAbT.js";import{B as ee}from"./book-open-CVFk1hrp.js";import{L as te}from"./lock-Di9egslX.js";/* empty css            */import"./users-4wCCl1VO.js";import"./createLucideIcon-CcuKRHvM.js";import"./useCan-B7ppjaOW.js";import"./trash-B_9vIJtb.js";import"./copy-BVdHRsfQ.js";import"./arrow-right-DutMujUs.js";import"./clock-CAzJ6aeb.js";import"./index-Dbc6kKSl.js";import"./index-orVQwjsG.js";import"./index-CazKOIFm.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./x-B4EKJ2tf.js";import"./tooltip-B-a5Zijt.js";import"./index-DWt97Um5.js";import"./index-DEJRnXql.js";import"./index-BehOW2SC.js";import"./index-B-Fu5yA4.js";import"./index-CRg26qOe.js";import"./index-CaZPPBLQ.js";import"./index-DtszCXuJ.js";import"./index-Ri525iDf.js";import"./index-BLDnxaSS.js";import"./index-Bq792NnG.js";import"./index-DTiRgZsv.js";import"./index-Da3dCVaE.js";import"./avatar-BY_IFAwV.js";import"./index-BAkLishO.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-ByuqWSCB.js";import"./app-logo-icon-DWOLLIp3.js";import"./layout-grid-Bcphp_ZL.js";import"./settings-2-C-6EfrHS.js";import"./appearance-tabs-header-D0K124XH.js";import"./sun-DqKC8TXB.js";import"./chevron-right-ChBQl-V6.js";const se=v.memo(o=>{const e=A.c(9),{filteredSubjects:i,classroom:l}=o;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={opacity:0},e[0]=c):c=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={hidden:c,show:{opacity:1,transition:{staggerChildren:.05}}},e[1]=a):a=e[1];let r;if(e[2]!==l||e[3]!==i){let s;e[5]!==l?(s=m=>t.jsx($,{subject:m,classId:l.id},m.id),e[5]=l,e[6]=s):s=e[6],r=i.map(s),e[2]=l,e[3]=i,e[4]=r}else r=e[4];let n;return e[7]!==r?(n=t.jsx(J.div,{layout:!0,variants:a,initial:"hidden",animate:"show",className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.jsx(H,{mode:"popLayout",initial:!1,children:r})}),e[7]=r,e[8]=n):n=e[8],n});function le(o){const e=A.c(45),{isOpen:i,setIsOpen:l,classroomName:c,code:a}=o;let r;e[0]!==a?(r={code:a},e[0]=a,e[1]=r):r=e[1];const{post:n,processing:s,reset:m,setData:d}=I(r);let y,k;e[2]!==a||e[3]!==d?(y=()=>{d("code",a)},k=[a,d],e[2]=a,e[3]=d,e[4]=y,e[5]=k):(y=e[4],k=e[5]),v.useEffect(y,k);let C;e[6]!==n||e[7]!==s||e[8]!==m||e[9]!==l?(C=B=>{B.preventDefault(),!s&&n(V("student.class.join"),{preserveScroll:!0,onSuccess:()=>{l(!1),m()}})},e[6]=n,e[7]=s,e[8]=m,e[9]=l,e[10]=C):C=e[10];const M=C;let S;e[11]!==s||e[12]!==l?(S=B=>{s||l(B)},e[11]=s,e[12]=l,e[13]=S):S=e[13];const u=S;let _;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("div",{className:"h-1.5 w-full bg-blue-600 transition-all duration-500"}),e[14]=_):_=e[14];let D,z;e[15]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"mb-5 flex size-20 transform-gpu animate-in items-center justify-center rounded-3xl bg-blue-50 text-blue-600 duration-300 zoom-in-50 dark:bg-blue-900/20",children:t.jsx(W,{className:"size-10"})}),z=t.jsx(Q,{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white",children:"Join Classroom?"}),e[15]=D,e[16]=z):(D=e[15],z=e[16]);let x;e[17]!==c?(x=t.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:[" ",c]}),e[17]=c,e[18]=x):x=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This gives you immediate access to curriculum modules, assignments, and peer discussions."}),e[19]=L):L=e[19];let p;e[20]!==x?(p=t.jsxs(T,{className:"flex flex-col items-center text-center",children:[D,z,t.jsxs(q,{className:"pt-3 text-base leading-relaxed text-center",children:["You are about to enroll in",x,".",L]})]}),e[20]=x,e[21]=p):p=e[21];let f;e[22]!==s?(f=s?t.jsxs(t.Fragment,{children:[t.jsx(X,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"mr-2 h-5 w-5"}),"Confirm Enrollment"]}),e[22]=s,e[23]=f):f=e[23];let h;e[24]!==s||e[25]!==f?(h=t.jsx(E,{type:"submit",className:"h-14 w-full rounded-2xl bg-blue-600 font-bold text-white shadow-lg shadow-blue-600/20 transition-all hover:bg-blue-700 active:scale-[0.98]",disabled:s,children:f}),e[24]=s,e[25]=f,e[26]=h):h=e[26];let b;e[27]!==u?(b=()=>u(!1),e[27]=u,e[28]=b):b=e[28];let g;e[29]!==s||e[30]!==b?(g=t.jsx(E,{type:"button",variant:"ghost",className:"h-12 w-full rounded-xl text-slate-500 hover:text-slate-900 dark:hover:text-slate-200",onClick:b,disabled:s,children:"Not now, go back"}),e[29]=s,e[30]=b,e[31]=g):g=e[31];let j;e[32]!==h||e[33]!==g?(j=t.jsxs(Y,{className:"mt-10 flex flex-col gap-3 sm:flex-col",children:[h,g]}),e[32]=h,e[33]=g,e[34]=j):j=e[34];let N;e[35]!==p||e[36]!==j?(N=t.jsxs("div",{className:"p-8",children:[p,j]}),e[35]=p,e[36]=j,e[37]=N):N=e[37];let w;e[38]!==M||e[39]!==N?(w=t.jsx(G,{className:"overflow-hidden rounded-[2rem] border-none p-0 shadow-2xl sm:max-w-[400px]",children:t.jsxs("form",{onSubmit:M,className:"relative",children:[_,N]})}),e[38]=M,e[39]=N,e[40]=w):w=e[40];let O;return e[41]!==u||e[42]!==i||e[43]!==w?(O=t.jsx(K,{open:i,onOpenChange:u,children:w}),e[41]=u,e[42]=i,e[43]=w,e[44]=O):O=e[44],O}const ae=[{title:"Classrooms",href:"/"}];function tt({classroom:o,isJoined:e}){const[i,l]=v.useState(""),[c,a]=v.useState(!1),r=v.useMemo(()=>{const s=o?.subjects??[];if(!i.trim())return s;const m=i.toLowerCase();return s.filter(d=>d.name.toLowerCase().includes(m))},[o?.subjects,i]),n=v.useCallback(s=>{a(s)},[]);return t.jsxs(U,{breadcrumbs:ae,children:[t.jsx(R,{title:`${o.name} | Curriculum`}),t.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-1 flex-col gap-8 p-4 md:p-8",children:[t.jsx(P,{classroom:o}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-8 w-1 rounded-full bg-blue-600 shadow-[0_0_10px_rgba(37,99,235,0.5)]"}),t.jsx("h2",{className:"font-black tracking-tight text-slate-900 uppercase sm:text-xl dark:text-white",children:"Subject Modules"})]}),e&&t.jsxs("div",{className:"group relative",children:[t.jsx(Z,{className:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-blue-500"}),t.jsx("input",{type:"text",placeholder:"Filter curriculum...",value:i,onChange:s=>l(s.target.value),className:"w-full rounded-2xl border border-slate-200 bg-white py-2.5 pr-4 pl-10 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 md:w-[300px] dark:border-slate-800 dark:bg-slate-900"})]})]}),t.jsxs("div",{className:"relative min-h-[400px]",children:[t.jsxs("div",{className:`transition-all duration-700 ease-in-out transform-gpu ${e?"opacity-100":"pointer-events-none blur-xl grayscale opacity-40 select-none will-change-[filter]"}`,children:[t.jsx(se,{filteredSubjects:r,classroom:o}),r.length===0&&t.jsxs("div",{className:"rounded-[2.5rem] border-2 border-dashed border-slate-200 py-20 text-center dark:border-slate-800",children:[t.jsx("div",{className:"mx-auto mb-4 flex size-12 items-center justify-center rounded-2xl bg-slate-100 text-slate-400 dark:bg-slate-800",children:t.jsx(ee,{})}),t.jsx("p",{className:"text-xs font-bold tracking-widest text-slate-500 uppercase",children:"No matching subjects found"})]})]}),!e&&t.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center rounded-[2.5rem] bg-white/10 text-center dark:bg-slate-950/10",children:t.jsxs("div",{className:"animate-in fade-in zoom-in duration-500 flex flex-col items-center",children:[t.jsx("div",{className:"mb-6 flex size-20 items-center justify-center rounded-3xl bg-blue-600 text-white shadow-2xl shadow-blue-500/40 transform-gpu hover:scale-110 transition-transform",children:t.jsx(te,{className:"size-10"})}),t.jsx("h3",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Curriculum Locked"}),t.jsx("p",{className:"mt-3 mb-10 max-w-sm px-6 text-base font-medium text-slate-600 dark:text-slate-400",children:"Join this classroom to unlock subject modules, assignments, and exclusive resources."}),t.jsxs("button",{onClick:()=>n(!0),className:"group flex items-center gap-3 rounded-2xl bg-blue-600 px-10 py-5 font-bold text-white shadow-xl shadow-blue-600/30 transition-all hover:bg-blue-700 active:scale-95",children:[t.jsx(F,{className:"size-5 transition-transform group-hover:rotate-12"}),"Join Classroom"]})]})})]})]})]}),t.jsx(le,{classroomName:o.name,code:o.code,isOpen:c,setIsOpen:n})]})}export{tt as default};
