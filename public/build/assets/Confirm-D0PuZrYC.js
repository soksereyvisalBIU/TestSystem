import{c as W,a as q,j as e,H as Y,A as tt,m as H}from"./app-BEjprfpt.js";import{A as et}from"./AssessmentSkeleton-CWYYrtgO.js";import{A as J}from"./app-layout-DfQQ_XDM.js";import{d as m}from"./dayjs.min-ELk8fNw-.js";import{ActionButtons as st}from"./ActionButtons-D2XVBopr.js";import{AssessmentHeader as rt}from"./AssessmentHeader-CoA0pIKS.js";import{AssessmentStatusContent as it}from"./AssessmentStatusContent-CywPvZxZ.js";import{InfoGrid as at}from"./InfoGrid-FznRbvYd.js";import{u as ot,t as mt,r as lt}from"./utc-D3BmVeqc.js";import{d as nt}from"./duration-CJzLYHhk.js";import"./app-C2HJU6IN.js";import"./index-BYiI1tkd.js";import"./index-sZL0LmKN.js";import"./index-joJZZ6T8.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./button-DGod-GTx.js";import"./dialog-isigwEAQ.js";import"./index-DsHUgfkw.js";import"./index-CVovHSZ1.js";import"./index-Db_ipX0A.js";import"./index-DH1X2cpJ.js";import"./index-rsEto4aw.js";import"./index-DU3jUZ6J.js";import"./index-Da8MCGzP.js";import"./x-9rjc8L--.js";import"./createLucideIcon-SD458vc9.js";import"./tooltip-CpjmRnmA.js";import"./index-Brhvp-qm.js";import"./index-Bnui9FJL.js";import"./index-COWxmS2u.js";import"./index-dA-rYMbt.js";import"./index-CBL-cnJN.js";import"./avatar-Dgk1JwKp.js";import"./index-CI6TeYZF.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-CmqXW0w-.js";import"./search-BL-QF0Rx.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-BXO135UB.js";import"./layout-grid-BLMpB1Jf.js";import"./users-D2d18B4g.js";import"./settings-2-BMKDjTqy.js";import"./cpu-BLXfwEsG.js";import"./book-open-CRzmW_vb.js";import"./chevron-right-CrOEsWah.js";import"./appearance-tabs-header-CsIvXzNJ.js";import"./sun-CRFjhy0H.js";import"./loader-circle-bmERupY8.js";import"./play-DcFkcKP4.js";import"./circle-plus-JoU-MqgV.js";import"./arrow-right-C6kumotC.js";import"./circle-check-D0q-_Uz_.js";import"./sparkles-CUsC-2pB.js";import"./file-check-CRW6QCyc.js";import"./AssessmentResultCard-JgERIGo5.js";import"./confetti.module-Cx83yTHA.js";import"./use-transform-CuaxQsEb.js";import"./StatusCards-Cn0e9wuP.js";import"./hourglass-4gI70nEv.js";import"./CountdownTimer-DpgkepVi.js";import"./layers-BFKQ4yKg.js";import"./clock-C_uYab5X.js";import"./refresh-cw-BUpJYAbM.js";const ct=(g,t,s,l)=>{if(!g)return"LOADING";const v=m(t.start_time),o=m(t.end_time),a=s?.attempted_amount??0,n=t.max_attempts,j=n===0||a<n;return s?.status==="scored"||l?.status==="graded"?"GRADED":l?.status==="draft"?"RESUME":g.isBefore(v)?"UPCOMING":g.isAfter(o)?"EXPIRED":j?"ACTIVE":l?.status==="submitted"&&l.score===void 0?"PENDING_GRADING":"NO_ATTEMPTS_LEFT"};m.extend(ot);m.extend(mt);m.extend(lt);m.extend(nt);function je(g){const t=W.c(62),{assessment:s,class_id:l,subject_id:v,studentAssessment:o,studentAssessmentAttempt:a}=g,[n,j]=q.useState(null);let A,N;t[0]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{j(m());const i=setInterval(()=>j(m()),6e4);return()=>clearInterval(i)},N=[],t[0]=A,t[1]=N):(A=t[0],N=t[1]),q.useEffect(A,N);let V;t:{if(!n){V=null;break t}let i;t[2]!==s||t[3]!==n||t[4]!==o||t[5]!==a?(i=ct(n,s,o,a),t[2]=s,t[3]=n,t[4]=o,t[5]=a,t[6]=i):i=t[6],V=i}const r=V;let S;t[7]===Symbol.for("react.memo_cache_sentinel")?(S=()=>j(m()),t[7]=S):S=t[7];const K=S;if(!n||!r){let i;t[8]===Symbol.for("react.memo_cache_sentinel")?(i=[{title:"Assessments",href:"#"}],t[8]=i):i=t[8];let z;return t[9]===Symbol.for("react.memo_cache_sentinel")?(z=e.jsx(J,{breadcrumbs:i,children:e.jsx("div",{className:"flex min-h-[80vh] items-center justify-center p-4",children:e.jsx(et,{})})}),t[9]=z):z=t[9],z}let E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E={ACTIVE:"from-emerald-500/10 via-transparent to-transparent",UPCOMING:"from-amber-500/10 via-transparent to-transparent",COMPLETED:"from-blue-500/10 via-transparent to-transparent",EXPIRED:"from-red-500/10 via-transparent to-transparent"},t[10]=E):E=t[10];const Q=E;let I;t[11]===Symbol.for("react.memo_cache_sentinel")?(I=[{title:"Assessments",href:"#"}],t[11]=I):I=t[11];let c;t[12]!==s.title?(c=e.jsx(Y,{title:s.title}),t[12]=s.title,t[13]=c):c=t[13];const B=`relative flex min-h-[92vh] flex-col items-center justify-center overflow-hidden px-3 py-6 sm:px-4 sm:py-12 transition-colors duration-1000 bg-gradient-to-br ${Q[r]||""}`;let w;t[14]===Symbol.for("react.memo_cache_sentinel")?(w=e.jsx("div",{className:"absolute top-0 left-1/2 -z-10 h-[300px] w-[300px] sm:h-[500px] sm:w-[500px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-primary/5 blur-[80px] sm:blur-[120px]"}),t[14]=w):w=t[14];let k,P,T;t[15]===Symbol.for("react.memo_cache_sentinel")?(k={opacity:0,y:20},P={opacity:1,y:0},T={type:"spring",damping:25,stiffness:120},t[15]=k,t[16]=P,t[17]=T):(k=t[15],P=t[16],T=t[17]);let p;t[18]!==s.description||t[19]!==s.title?(p=e.jsx("div",{className:"relative overflow-hidden bg-gray-50/50 p-0.5 dark:bg-gray-800/50",children:e.jsx(rt,{title:s.title,description:s.description})}),t[18]=s.description,t[19]=s.title,t[20]=p):p=t[20];let C,D,G,R;t[21]===Symbol.for("react.memo_cache_sentinel")?(C={opacity:0,scale:.98},D={opacity:1,scale:1},G={opacity:0,scale:1.02},R={duration:.2},t[21]=C,t[22]=D,t[23]=G,t[24]=R):(C=t[21],D=t[22],G=t[23],R=t[24]);let d;t[25]!==s||t[26]!==r||t[27]!==o||t[28]!==a?(d=e.jsx(it,{currentStatus:r,assessment:s,studentAssessment:o,studentAssessmentAttempt:a,onTimerZero:K}),t[25]=s,t[26]=r,t[27]=o,t[28]=a,t[29]=d):d=t[29];let f;t[30]!==r||t[31]!==d?(f=e.jsx(tt,{mode:"wait",children:e.jsx(H.div,{initial:C,animate:D,exit:G,transition:R,className:"relative z-10",children:d},r)}),t[30]=r,t[31]=d,t[32]=f):f=t[32];let L;t[33]===Symbol.for("react.memo_cache_sentinel")?(L=e.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:e.jsx("div",{className:"w-full border-t border-gray-100 dark:border-gray-800"})}),t[33]=L):L=t[33];let M;t[34]===Symbol.for("react.memo_cache_sentinel")?(M=e.jsxs("div",{className:"relative py-1",children:[L,e.jsx("div",{className:"relative flex justify-center",children:e.jsx("span",{className:"bg-white px-2 text-[10px] font-bold uppercase tracking-widest text-gray-400 dark:bg-gray-900",children:"Assessment Details"})})]}),t[34]=M):M=t[34];const X=o?.attempted_amount??0,$=r==="ACTIVE";let u;t[35]!==s||t[36]!==X||t[37]!==$?(u=e.jsx("div",{className:"rounded-2xl bg-gray-50/40 p-3 sm:p-4 dark:bg-gray-800/30",children:e.jsx(at,{assessment:s,attemptsUsed:X,highlightAttempts:$})}),t[35]=s,t[36]=X,t[37]=$,t[38]=u):u=t[38];const F=a?.id,Z=a?.status;let x;t[39]!==s.id||t[40]!==l||t[41]!==r||t[42]!==v||t[43]!==F||t[44]!==Z?(x=e.jsx(H.div,{layout:!0,className:"pt-1",children:e.jsx(st,{currentStatus:r,classId:l,subjectId:v,assessmentId:s.id,attemptId:F,attemptStatus:Z})}),t[39]=s.id,t[40]=l,t[41]=r,t[42]=v,t[43]=F,t[44]=Z,t[45]=x):x=t[45];let h;t[46]!==f||t[47]!==u||t[48]!==x?(h=e.jsxs("div",{className:"space-y-2 xs:space-y-4 p-4 sm:p-8 sm:pt-2",children:[f,M,u,x]}),t[46]=f,t[47]=u,t[48]=x,t[49]=h):h=t[49];let y;t[50]!==p||t[51]!==h?(y=e.jsxs("div",{className:"group overflow-hidden rounded-3xl sm:rounded-[2.5rem] border border-white/20 bg-white/90 shadow-[0_24px_48px_-12px_rgba(0,0,0,0.1)] backdrop-blur-xl dark:border-gray-700/50 dark:bg-gray-900/90",children:[p,h]}),t[50]=p,t[51]=h,t[52]=y):y=t[52];let O;t[53]===Symbol.for("react.memo_cache_sentinel")?(O=e.jsx(H.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 px-6 text-center text-[11px] leading-relaxed text-gray-500 dark:text-gray-400",children:"Please ensure a stable connection. If you get disconnected, you can resume your attempt within the time limit."}),t[53]=O):O=t[53];let b;t[54]!==y?(b=e.jsxs(H.div,{initial:k,animate:P,transition:T,className:"relative w-full max-w-2xl",children:[y,O]}),t[54]=y,t[55]=b):b=t[55];let _;t[56]!==b||t[57]!==B?(_=e.jsxs("div",{className:B,children:[w,b]}),t[56]=b,t[57]=B,t[58]=_):_=t[58];let U;return t[59]!==_||t[60]!==c?(U=e.jsxs(J,{breadcrumbs:I,children:[c,_]}),t[59]=_,t[60]=c,t[61]=U):U=t[61],U}export{je as default};
