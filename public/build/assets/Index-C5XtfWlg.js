import{c as oe,u as Se,r as te,j as s,t as ne,L as pe,m as re,H as we}from"./app-DOexATz8.js";import{B as ye}from"./badge-CPBjG4_l.js";import{b as xe,C as Ce,d as Ae,a as De,c as Me,e as $e}from"./card-DK5YW5r0.js";import{s as fe}from"./index-ikzcNs2d.js";import{B as ae}from"./button-BRVN6i6H.js";import{a as Te,d as Ie,c as ce,e as ke,D as Oe,b as Le,A as Fe}from"./app-layout-CQOHcJhl.js";import{C as Pe,a as Ee,b as he,c as Be,d as Ge,e as ze}from"./command-BJUssI3G.js";import{D as He,a as Ve,b as Qe,c as qe,d as Re}from"./dialog-TFrJjmZh.js";import{L as Ue}from"./label-B8z-0cNd.js";import{P as Xe,a as Je,b as Ke}from"./popover-C4Np6-RM.js";import{X as We}from"./x-xRkXIo8D.js";import{C as be}from"./check-B5V9zjb2.js";import{E as Ye}from"./ellipsis-CBJCIQFX.js";import{P as Ze,T as es}from"./trash-CESOkXQK.js";import{C as ss}from"./copy-Dn5lwVwC.js";import{c as me}from"./utils-CFcDjcb_.js";import{f as de}from"./format-CSQe5d3I.js";import{F as ue}from"./file-text-E7NUJkYY.js";import{C as ts}from"./calendar-BpA6SgI5.js";import{C as ls}from"./clock-JNa168ul.js";import{A as rs}from"./assessment-modal-rIrkPKBn.js";import{I as as}from"./input--pI8Kted.js";import{a as is,b as os,c as ns,d as ie,S as cs}from"./select-CH_F3wFZ.js";import{S as ms}from"./separator-Bo1imyXr.js";import{T as ge,G as ds,a as fs}from"./toggle-group-Cr-vO7mD.js";import{P as us}from"./plus-Cl_g_eWc.js";import{S as ps}from"./search-BJrQLS36.js";import{F as xs}from"./filter-aqRts7eu.js";import{L as hs}from"./layout-list-C1WqZiYl.js";import"./app-Dkd-uU77.js";import"./index-DQ5CcXw7.js";import"./index-Dghi0PCu.js";import"./index-CHXMgrNC.js";import"./index-BCjrxXRD.js";import"./tooltip-ByYNg7VM.js";import"./index-BZcpqnGn.js";import"./index-DM2N5xoF.js";import"./index-BEPutMgU.js";import"./index-CsaJF3T3.js";import"./index-CbEB6B2s.js";import"./index-BiXTY-N1.js";import"./index-DI0Uf7dS.js";import"./index-CPEYA-OZ.js";import"./index-D8NCBvGj.js";import"./index-C8DTQ8L6.js";import"./createLucideIcon-j6D0D3Y_.js";import"./index-D2V0qVjz.js";import"./index-Z9JsAk8n.js";import"./avatar-_pMFpJ1a.js";import"./index-C5FbGKEL.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-B6GRV3HK.js";import"./layout-grid-BfACZU2C.js";import"./users-YRzjUlzr.js";import"./settings-2-CHSmb4cp.js";import"./cpu-Dh4fUxB8.js";import"./book-open--LA4IL-m.js";import"./chevron-right-CqdRtJ2F.js";import"./appearance-tabs-header-CF3ajYXV.js";import"./sun-BG-XGb8r.js";import"./modal-CHnu2P-i.js";import"./textarea-BsNou_JT.js";import"./loader-circle-xDQqgRtj.js";import"./index-BF4E9qjg.js";import"./chevron-up-_obE1ikU.js";function bs(T){const e=oe.c(67),{isOpen:t,setIsOpen:g,assessmentToCopy:r,availableClasses:i}=T;let q;e[0]===Symbol.for("react.memo_cache_sentinel")?(q={targets:[]},e[0]=q):q=e[0];const{data:l,setData:N,post:m,processing:F,errors:v,reset:S}=Se(q);let X;e[1]!==t||e[2]!==S?(X=()=>{t&&S("targets")},e[1]=t,e[2]=S,e[3]=X):X=e[3];let j;e[4]!==t?(j=[t],e[4]=t,e[5]=j):j=e[5],te.useEffect(X,j);const p=l.targets.reduce(_s,0);let y;if(e[6]!==i||e[7]!==l.targets){let a;e[9]!==i?(a=o=>{const d=i.find(n=>n.id.toString()===o.class_id);return d?o.subject_ids.map(n=>{const G=d.subjects.find(c=>c.id.toString()===n);return G?{key:`${o.class_id}-${n}`,label:`${d.name}: ${G.name}`,classId:o.class_id,subjectId:n}:null}).filter(ys):[]},e[9]=i,e[10]=a):a=e[10],y=l.targets.flatMap(a),e[6]=i,e[7]=l.targets,e[8]=y}else y=e[8];const _=y;let u;e[11]!==l.targets||e[12]!==N?(u=(a,o)=>{if(o){const d=l.targets.filter(n=>n.class_id!==a);N("targets",d)}else N("targets",[...l.targets,{class_id:a,subject_ids:[]}])},e[11]=l.targets,e[12]=N,e[13]=u):u=e[13];const f=u;let w;e[14]!==l.targets||e[15]!==N?(w=(a,o,d)=>{let n;d?n=l.targets.map(c=>{if(c.class_id!==a)return c;const $=c.subject_ids.includes(o);return{...c,subject_ids:$?c.subject_ids.filter(z=>z!==o):[...c.subject_ids,o]}}):n=[...l.targets,{class_id:a,subject_ids:[o]}];const G=n.filter(js);N("targets",G)},e[14]=l.targets,e[15]=N,e[16]=w):w=e[16];const x=w;let I;e[17]!==r.id||e[18]!==r.title||e[19]!==l||e[20]!==v||e[21]!==m||e[22]!==g?(I=a=>{a.preventDefault();const o=l.targets.some(gs);if(l.targets.length===0||!o){ne.error("Please select at least one Class and one Subject.");return}m(fe("instructor.classes.subjects.assessments.copy",{assessment:r.id}),{data:l,preserveScroll:!0,onSuccess:()=>{ne.success(`Assessment "${r.title}" copied successfully to ${l.targets.length} class(es)!`),g(!1)},onError:d=>{console.error("Inertia Errors:",v),ne.error("Failed to copy assessment. Please try again.")}})},e[17]=r.id,e[18]=r.title,e[19]=l,e[20]=v,e[21]=m,e[22]=g,e[23]=I):I=e[23];const P=I;let C;e[24]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(Qe,{children:"Copy Assessment"}),e[24]=C):C=e[24];let h;e[25]!==r.title?(h=s.jsxs(He,{children:[C,s.jsxs(Ve,{children:["Duplicate ",s.jsxs("strong",{children:['"',r.title,'"']})," to another Subject/Classroom."]})]}),e[25]=r.title,e[26]=h):h=e[26];let H;e[27]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(Ue,{className:"font-semibold",children:"Copy To"}),e[27]=H):H=e[27];let b;e[28]!==_||e[29]!==x?(b=_.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:_.map(a=>s.jsxs(ye,{variant:"secondary",className:"flex items-center space-x-1 pr-1",children:[a.label,s.jsx("button",{type:"button",onClick:()=>{x(a.classId,a.subjectId,!0)},className:"p-0.5 rounded-full hover:bg-red-500/20 transition-colors",children:s.jsx(We,{className:"h-3 w-3"})})]},a.key))}),e[28]=_,e[29]=x,e[30]=b):b=e[30];const R=l.targets.length===0?"Select Classes & Subjects":`${l.targets.length} Class${l.targets.length>1?"es":""} (${p} Subject${p>1?"s":""} Selected)`;let A;e[31]!==F||e[32]!==R?(A=s.jsx(Xe,{asChild:!0,children:s.jsx(ae,{variant:"outline",className:"w-full justify-between",disabled:F,children:R})}),e[31]=F,e[32]=R,e[33]=A):A=e[33];let B;e[34]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("div",{className:"border-b px-3 py-2",children:s.jsx(Pe,{placeholder:"Search class or subject..."})}),e[34]=B):B=e[34];let J;e[35]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(Ee,{className:"p-3 text-sm",children:"No results found."}),e[35]=J):J=e[35];let D;if(e[36]!==i||e[37]!==l.targets||e[38]!==f||e[39]!==x){let a;e[41]!==l.targets||e[42]!==f||e[43]!==x?(a=o=>{const d=o.id.toString(),n=l.targets.some(c=>c.class_id===d),G=l.targets.find(c=>c.class_id===d)??{subject_ids:[]};return s.jsxs("div",{className:"border-b",children:[s.jsxs(he,{value:`class-${o.name}-${d}`,className:"flex cursor-pointer items-center justify-between px-3 py-2 hover:bg-accent",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-800 font-bold",children:o.name.charAt(0)}),s.jsx("span",{className:"font-semibold",children:o.name})]}),s.jsx("div",{onClick:()=>f(d,n),className:`flex h-5 w-5 items-center justify-center rounded-full border cursor-pointer ${n?"border-blue-600 bg-blue-600 text-white":"border-gray-400"}`,children:n&&s.jsx(be,{className:"h-3 w-3"})})]}),n&&s.jsx("div",{className:"space-y-1 bg-muted/40 py-2 pl-12",children:o.subjects.map(c=>{const $=c.id.toString(),z=G.subject_ids.includes($);return s.jsxs(he,{onSelect:()=>x(d,$,n),value:`subject-${o.name}-${c.name}-${$}`,className:"flex cursor-pointer items-center justify-between rounded px-2 py-1 hover:bg-accent",children:[s.jsx("span",{children:c.name}),s.jsx("div",{className:`flex h-4 w-4 items-center justify-center rounded-full border ${z?"border-blue-600 bg-blue-600 text-white":"border-gray-400"} `,children:z&&s.jsx(be,{className:"h-3 w-3"})})]},$)})})]},d)},e[41]=l.targets,e[42]=f,e[43]=x,e[44]=a):a=e[44],D=i.map(a),e[36]=i,e[37]=l.targets,e[38]=f,e[39]=x,e[40]=D}else D=e[40];let k;e[45]!==D?(k=s.jsx(Je,{className:"max-h-80 w-full overflow-hidden p-0",children:s.jsxs(Be,{children:[B,s.jsxs(Ge,{className:"max-h-72 overflow-y-auto",children:[J,s.jsx(ze,{children:D})]})]})}),e[45]=D,e[46]=k):k=e[46];let O;e[47]!==A||e[48]!==k?(O=s.jsxs(Ke,{children:[A,k]}),e[47]=A,e[48]=k,e[49]=O):O=e[49];let U;e[50]!==b||e[51]!==O?(U=s.jsxs("div",{className:"grid gap-2",children:[H,b,O]}),e[50]=b,e[51]=O,e[52]=U):U=e[52];const V=F||p===0,K=F?"Copying...":"Copy Assessment";let L;e[53]!==V||e[54]!==K?(L=s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(ae,{type:"submit",disabled:V,children:K})}),e[53]=V,e[54]=K,e[55]=L):L=e[55];let E;e[56]!==P||e[57]!==U||e[58]!==L?(E=s.jsxs("form",{onSubmit:P,children:[U,L]}),e[56]=P,e[57]=U,e[58]=L,e[59]=E):E=e[59];let M;e[60]!==E||e[61]!==h?(M=s.jsxs(qe,{className:"sm:max-w-[425px]",children:[h,E]}),e[60]=E,e[61]=h,e[62]=M):M=e[62];let Q;return e[63]!==t||e[64]!==g||e[65]!==M?(Q=s.jsx(Re,{open:t,onOpenChange:g,children:M}),e[63]=t,e[64]=g,e[65]=M,e[66]=Q):Q=e[66],Q}function gs(T){return T.subject_ids.length>0}function js(T){return T.subject_ids.length>0}function ys(T){return T!==null}function _s(T,e){return T+e.subject_ids.length}function je(T){const e=oe.c(23),{assessment:t,availableClasses:g,classId:r,subjectId:i,setSelectedAssessment:q,setOpenAssessmentModal:l}=T,[N,m]=te.useState(!1);let F;e[0]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(Te,{asChild:!0,children:s.jsx(ae,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-400 hover:text-slate-900",children:s.jsx(Ye,{className:"h-4 w-4"})})}),e[0]=F):F=e[0];let v;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(Ie,{children:"Actions"}),e[1]=v):v=e[1];let S;e[2]!==t||e[3]!==l||e[4]!==q?(S=()=>{q(t),l(!0)},e[2]=t,e[3]=l,e[4]=q,e[5]=S):S=e[5];let X;e[6]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(Ze,{className:"mr-2 h-4 w-4"}),e[6]=X):X=e[6];let j;e[7]!==S?(j=s.jsxs(ce,{onClick:S,children:[X," Edit"]}),e[7]=S,e[8]=j):j=e[8];let p,y;e[9]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsxs(ce,{onClick:()=>m(!0),children:[s.jsx(ss,{className:"mr-2 h-4 w-4"})," Copy to..."]}),y=s.jsx(ke,{}),e[9]=p,e[10]=y):(p=e[9],y=e[10]);let _;e[11]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsxs(ce,{className:"text-red-600 focus:bg-red-50 focus:text-red-600",children:[s.jsx(es,{className:"mr-2 h-4 w-4"})," Delete"]}),e[11]=_):_=e[11];let u;e[12]!==j?(u=s.jsxs(Oe,{children:[F,s.jsxs(Le,{align:"end",className:"w-[160px]",children:[v,j,p,y,_]})]}),e[12]=j,e[13]=u):u=e[13];let f;e[14]!==t||e[15]!==g||e[16]!==r||e[17]!==N||e[18]!==i?(f=s.jsx(bs,{isOpen:N,setIsOpen:m,assessmentToCopy:t,availableClasses:g,sourceClassId:r,sourceSubjectId:i}),e[14]=t,e[15]=g,e[16]=r,e[17]=N,e[18]=i,e[19]=f):f=e[19];let w;return e[20]!==f||e[21]!==u?(w=s.jsxs(s.Fragment,{children:[u,f]}),e[20]=f,e[21]=u,e[22]=w):w=e[22],w}function Ns(T){const e=oe.c(92),{assessment:t,viewMode:g,classId:r,subjectId:i,getStatus:q,availableClasses:l,setSelectedAssessment:N,setOpenAssessmentModal:m}=T;let F;e[0]!==t.end_time||e[1]!==t.start_time||e[2]!==q?(F=q(t.start_time,t.end_time),e[0]=t.end_time,e[1]=t.start_time,e[2]=q,e[3]=F):F=e[3];const v=F;let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S={upcoming:"bg-primary/10 text-primary border-primary/20",ongoing:"bg-success/10 text-success border-success/20 animate-pulse",closed:"bg-muted text-description border-border",draft:"bg-orange-500/10 text-orange-600 border-orange-500/20"},e[4]=S):S=e[4];const X=S;let j;e[5]!==v?(j=()=>s.jsxs(ye,{variant:"outline",className:me("gap-1.5 font-bold uppercase text-[10px] tracking-tight",X[v]),children:[s.jsx("span",{className:me("h-1.5 w-1.5 rounded-full",v==="ongoing"?"bg-success":"bg-current")}),v]}),e[5]=v,e[6]=j):j=e[6];const p=j;if(g==="list"){let n,G;e[7]===Symbol.for("react.memo_cache_sentinel")?(n={opacity:0},G={opacity:1},e[7]=n,e[8]=G):(n=e[7],G=e[8]);let c;e[9]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10 text-primary",children:s.jsx(ue,{className:"h-5 w-5"})}),e[9]=c):c=e[9];let $;e[10]!==t.id||e[11]!==r||e[12]!==i?($=fe("instructor.classes.subjects.assessments.show",[r,i,t.id]),e[10]=t.id,e[11]=r,e[12]=i,e[13]=$):$=e[13];let z;e[14]!==t.title||e[15]!==$?(z=s.jsxs("div",{className:"flex items-center gap-4",children:[c,s.jsx("div",{children:s.jsx(pe,{href:$,className:"font-bold text-title hover:text-primary transition-colors",children:t.title})})]}),e[14]=t.title,e[15]=$,e[16]=z):z=e[16];let W;e[17]!==p?(W=s.jsx(p,{}),e[17]=p,e[18]=W):W=e[18];let Y;e[19]!==t||e[20]!==l||e[21]!==r||e[22]!==m||e[23]!==N||e[24]!==i?(Y=s.jsx(je,{assessment:t,availableClasses:l,classId:r,subjectId:i,setSelectedAssessment:N,setOpenAssessmentModal:m}),e[19]=t,e[20]=l,e[21]=r,e[22]=m,e[23]=N,e[24]=i,e[25]=Y):Y=e[25];let Z;e[26]!==Y||e[27]!==W?(Z=s.jsxs("div",{className:"flex items-center gap-4",children:[W,Y]}),e[26]=Y,e[27]=W,e[28]=Z):Z=e[28];let ee;return e[29]!==Z||e[30]!==z?(ee=s.jsx(re.div,{initial:n,animate:G,children:s.jsxs(xe,{className:"flex items-center justify-between p-4 transition-all hover:border-primary/50 hover:shadow-md bg-card",children:[z,Z]})}),e[29]=Z,e[30]=z,e[31]=ee):ee=e[31],ee}let y,_,u,f;e[32]===Symbol.for("react.memo_cache_sentinel")?(y={opacity:0,y:20},_={opacity:1,y:0},u={y:-4},f={duration:.2},e[32]=y,e[33]=_,e[34]=u,e[35]=f):(y=e[32],_=e[33],u=e[34],f=e[35]);const w=v==="ongoing"?"bg-success":v==="upcoming"?"bg-primary":"bg-muted-foreground/30";let x;e[36]!==w?(x=me("absolute top-0 left-0 h-1 w-full",w),e[36]=w,e[37]=x):x=e[37];let I;e[38]!==x?(I=s.jsx("div",{className:x}),e[38]=x,e[39]=I):I=e[39];let P;e[40]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-muted text-description group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:s.jsx(ue,{className:"h-5 w-5"})}),e[40]=P):P=e[40];let C;e[41]!==t||e[42]!==l||e[43]!==r||e[44]!==m||e[45]!==N||e[46]!==i?(C=s.jsxs(Ae,{className:"flex flex-row items-start justify-between space-y-0",children:[P,s.jsx(je,{assessment:t,availableClasses:l,classId:r,subjectId:i,setSelectedAssessment:N,setOpenAssessmentModal:m})]}),e[41]=t,e[42]=l,e[43]=r,e[44]=m,e[45]=N,e[46]=i,e[47]=C):C=e[47];let h;e[48]!==t.id||e[49]!==r||e[50]!==i?(h=fe("instructor.classes.subjects.assessments.show",[r,i,t.id]),e[48]=t.id,e[49]=r,e[50]=i,e[51]=h):h=e[51];const H=`assessment-title-${t.id}`;let b;e[52]!==t.title||e[53]!==H?(b=s.jsx(Ce,{className:"line-clamp-1 text-lg font-bold text-title group-hover:text-primary transition-colors",children:s.jsx(re.div,{layoutId:H,children:t.title})}),e[52]=t.title,e[53]=H,e[54]=b):b=e[54];const R=t.description||"No description provided.";let A;e[55]!==R?(A=s.jsx(De,{className:"mt-1 line-clamp-2 text-xs text-description",children:R}),e[55]=R,e[56]=A):A=e[56];let B;e[57]!==h||e[58]!==b||e[59]!==A?(B=s.jsxs(pe,{href:h,children:[b,A]}),e[57]=h,e[58]=b,e[59]=A,e[60]=B):B=e[60];let J;e[61]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(ts,{className:"h-4 w-4 text-description/50"}),e[61]=J):J=e[61];let D;e[62]!==t.start_time?(D=t.start_time?de(new Date(t.start_time),"MMM d"):"TBA",e[62]=t.start_time,e[63]=D):D=e[63];let k;e[64]!==t.end_time?(k=t.end_time?de(new Date(t.end_time),"MMM d, yyyy"):"",e[64]=t.end_time,e[65]=k):k=e[65];let O;e[66]!==D||e[67]!==k?(O=s.jsxs("div",{className:"flex items-center gap-2 text-body",children:[J,s.jsxs("span",{className:"text-xs font-medium",children:[D," - ",k]})]}),e[66]=D,e[67]=k,e[68]=O):O=e[68];let U;e[69]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(ls,{className:"h-4 w-4 text-description/50"}),e[69]=U):U=e[69];let V;e[70]!==t.start_time?(V=t.start_time?de(new Date(t.start_time),"h:mm a"):"--:--",e[70]=t.start_time,e[71]=V):V=e[71];let K;e[72]!==V?(K=s.jsxs("div",{className:"flex items-center gap-2 text-body",children:[U,s.jsx("span",{className:"text-xs font-medium",children:V})]}),e[72]=V,e[73]=K):K=e[73];let L;e[74]!==O||e[75]!==K?(L=s.jsxs("div",{className:"mt-4 space-y-2",children:[O,K]}),e[74]=O,e[75]=K,e[76]=L):L=e[76];let E;e[77]!==B||e[78]!==L?(E=s.jsxs(Me,{className:"pb-3",children:[B,L]}),e[77]=B,e[78]=L,e[79]=E):E=e[79];let M;e[80]!==p?(M=s.jsx(p,{}),e[80]=p,e[81]=M):M=e[81];const Q=t.questions_count||0;let a;e[82]!==Q?(a=s.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-description/70",children:[Q," Questions"]}),e[82]=Q,e[83]=a):a=e[83];let o;e[84]!==M||e[85]!==a?(o=s.jsxs($e,{className:"flex items-center justify-between border-t border-border bg-muted/30 px-4 py-3",children:[M,a]}),e[84]=M,e[85]=a,e[86]=o):o=e[86];let d;return e[87]!==I||e[88]!==C||e[89]!==E||e[90]!==o?(d=s.jsx(re.div,{initial:y,animate:_,whileHover:u,transition:f,children:s.jsxs(xe,{className:"group pb-0 relative overflow-hidden border-border bg-card transition-all hover:border-primary/40 hover:shadow-lg",children:[I,C,E,o]})}),e[87]=I,e[88]=C,e[89]=E,e[90]=o,e[91]=d):d=e[91],d}const vs=[{title:"Class",href:"/"},{title:"Subjects",href:"/subjects"},{title:"Assessments",href:"/assessments"}];function Pt(T){const e=oe.c(77),{subject:t,availableClasses:g}=T,r=t?.id,[i,q]=te.useState("grid"),[l,N]=te.useState("all"),[m,F]=te.useState(""),[v,S]=te.useState(!1),[X,j]=te.useState(null),p=t.class_id,y=t.id;let _,u,f,w,x,I,P,C,h,H,b;if(e[0]!==g||e[1]!==p||e[2]!==r||e[3]!==m||e[4]!==l||e[5]!==t.assessments||e[6]!==t.name||e[7]!==y||e[8]!==i){const O=t.assessments||[],U=Ss;let V;e[20]!==m||e[21]!==l?(V=se=>{const _e=U(se.start_time,se.end_time),Ne=l==="all"||_e===l,ve=se.title.toLowerCase().includes(m.toLowerCase());return Ne&&ve},e[20]=m,e[21]=l,e[22]=V):V=e[22];const K=O.filter(V);u=Fe,H=vs,e[23]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(we,{title:"Assessments"}),e[23]=b):b=e[23],I="flex h-full min-h-screen w-full flex-col space-y-6 p-6 md:p-8 bg-background";let L;e[24]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-title",children:"Assessments"}),e[24]=L):L=e[24];const E=`subject-title-${r}`;let M;e[25]!==t.name?(M=s.jsxs("p",{className:"text-description",children:["Manage quizzes, exams, and assignments for"," ",s.jsx("span",{className:"font-semibold text-body",children:t.name}),"."]}),e[25]=t.name,e[26]=M):M=e[26];let Q;e[27]!==E||e[28]!==M?(Q=s.jsxs("div",{children:[L,s.jsx(re.div,{layoutId:E,children:M})]}),e[27]=E,e[28]=M,e[29]=Q):Q=e[29];let a;e[30]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(ae,{onClick:()=>{j(null),S(!0)},size:"lg",className:"shadow-lg shadow-primary/20",children:[s.jsx(us,{className:"mr-2 h-4 w-4"})," Create Assessment"]}),e[30]=a):a=e[30],e[31]!==Q?(P=s.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[Q,a]}),e[31]=Q,e[32]=P):P=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(ms,{className:"bg-border"}),e[33]=C):C=e[33];let o;e[34]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(ps,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[34]=o):o=e[34];let d;e[35]===Symbol.for("react.memo_cache_sentinel")?(d=se=>F(se.target.value),e[35]=d):d=e[35];let n;e[36]!==m?(n=s.jsxs("div",{className:"relative flex-1 md:max-w-md",children:[o,s.jsx(as,{placeholder:"Search assessments...",className:"border-border bg-muted/50 pl-9 focus-visible:ring-primary",value:m,onChange:d})]}),e[36]=m,e[37]=n):n=e[37];let G;e[38]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(is,{className:"w-[160px] bg-muted/50 border-border",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xs,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx(os,{placeholder:"Filter status"})]})}),e[38]=G):G=e[38];let c;e[39]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsxs(ns,{children:[s.jsx(ie,{value:"all",children:"All Statuses"}),s.jsx(ie,{value:"upcoming",children:"Upcoming"}),s.jsx(ie,{value:"ongoing",children:"Ongoing"}),s.jsx(ie,{value:"closed",children:"Closed"})]}),e[39]=c):c=e[39];let $;e[40]!==l?($=s.jsxs(cs,{value:l,onValueChange:N,children:[G,c]}),e[40]=l,e[41]=$):$=e[41];let z;e[42]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("div",{className:"hidden h-8 w-px bg-border md:block"}),e[42]=z):z=e[42];let W;e[43]===Symbol.for("react.memo_cache_sentinel")?(W=se=>se&&q(se),e[43]=W):W=e[43];let Y;e[44]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(ge,{value:"list",size:"sm",className:"data-[state=on]:bg-card",children:s.jsx(hs,{className:"h-4 w-4"})}),e[44]=Y):Y=e[44];let Z;e[45]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(ge,{value:"grid",size:"sm",className:"data-[state=on]:bg-card",children:s.jsx(ds,{className:"h-4 w-4"})}),e[45]=Z):Z=e[45];let ee;e[46]!==i?(ee=s.jsxs(fs,{variant:"outline",type:"single",value:i,onValueChange:W,className:"border border-border rounded-lg p-1 bg-muted/30",children:[Y,Z]}),e[46]=i,e[47]=ee):ee=e[47];let le;e[48]!==$||e[49]!==ee?(le=s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[$,z,ee]}),e[48]=$,e[49]=ee,e[50]=le):le=e[50],e[51]!==n||e[52]!==le?(h=s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl bg-card p-4 shadow-sm border border-border md:flex-row md:items-center md:justify-between",children:[n,le]}),e[51]=n,e[52]=le,e[53]=h):h=e[53],_=re.div,f=!0,w=i==="grid"?"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"flex flex-col gap-4",x=K.length>0?K.map(se=>s.jsx(Ns,{assessment:se,viewMode:i,classId:p,subjectId:y,getStatus:U,availableClasses:g,setSelectedAssessment:j,setOpenAssessmentModal:S},se.id)):s.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-2xl border border-dashed border-border bg-muted/20 py-16 text-center",children:[s.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:s.jsx(ue,{className:"h-8 w-8 text-description/50"})}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-title",children:"No assessments found"}),s.jsx("p",{className:"mt-2 max-w-sm text-sm text-description",children:m?`No results found for "${m}". Try adjusting your filters.`:"Get started by creating a new assessment for your students."}),!m&&s.jsx(ae,{variant:"link",onClick:()=>{j(null),S(!0)},className:"mt-4 text-primary font-bold",children:"Create your first assessment"})]}),e[0]=g,e[1]=p,e[2]=r,e[3]=m,e[4]=l,e[5]=t.assessments,e[6]=t.name,e[7]=y,e[8]=i,e[9]=_,e[10]=u,e[11]=f,e[12]=w,e[13]=x,e[14]=I,e[15]=P,e[16]=C,e[17]=h,e[18]=H,e[19]=b}else _=e[9],u=e[10],f=e[11],w=e[12],x=e[13],I=e[14],P=e[15],C=e[16],h=e[17],H=e[18],b=e[19];let R;e[54]!==_||e[55]!==f||e[56]!==w||e[57]!==x?(R=s.jsx(_,{layout:f,className:w,children:x}),e[54]=_,e[55]=f,e[56]=w,e[57]=x,e[58]=R):R=e[58];let A;e[59]!==R||e[60]!==I||e[61]!==P||e[62]!==C||e[63]!==h?(A=s.jsxs("div",{className:I,children:[P,C,h,R]}),e[59]=R,e[60]=I,e[61]=P,e[62]=C,e[63]=h,e[64]=A):A=e[64];let B;e[65]===Symbol.for("react.memo_cache_sentinel")?(B=O=>{S(O),O||j(null)},e[65]=B):B=e[65];const J=X??void 0;let D;e[66]!==p||e[67]!==v||e[68]!==y||e[69]!==J?(D=s.jsx(rs,{isOpen:v,setIsOpen:B,classId:p,subjectId:y,assessment:J}),e[66]=p,e[67]=v,e[68]=y,e[69]=J,e[70]=D):D=e[70];let k;return e[71]!==u||e[72]!==A||e[73]!==D||e[74]!==H||e[75]!==b?(k=s.jsxs(u,{breadcrumbs:H,children:[b,A,D]}),e[71]=u,e[72]=A,e[73]=D,e[74]=H,e[75]=b,e[76]=k):k=e[76],k}function Ss(T,e){const t=new Date,g=T?new Date(T):null,r=e?new Date(e):null;return g&&t<g?"upcoming":g&&r&&t>=g&&t<=r?"ongoing":r&&t>r?"closed":"draft"}export{Pt as default};
