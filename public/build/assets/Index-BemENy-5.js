import{c as R,a as I,j as t,m as B,L as q,H as Q,t as U}from"./app-BEjprfpt.js";import{A as J}from"./assessment-modal-B5FkiUH0.js";import{B as K}from"./badge-DVoRCxHz.js";import{B as V}from"./button-DGod-GTx.js";import{a as W,b as X,c as Y,d as E,S as Z}from"./select-B9AeDQUe.js";import{T as F,G as ee,a as te}from"./toggle-group-BALVPnZp.js";import{A as se}from"./app-layout-DfQQ_XDM.js";import{P as ie}from"./pen-_oQBhMrZ.js";import{L as oe}from"./list-D283kaZy.js";import{P as le}from"./plus-fFbh7Iuh.js";import"./app-C2HJU6IN.js";import"./modal-BQMMrss4.js";import"./dialog-isigwEAQ.js";import"./index-DsHUgfkw.js";import"./index-CVovHSZ1.js";import"./index-joJZZ6T8.js";import"./index-Db_ipX0A.js";import"./index-DH1X2cpJ.js";import"./index-rsEto4aw.js";import"./index-DU3jUZ6J.js";import"./index-Da8MCGzP.js";import"./utils-CFcDjcb_.js";import"./x-9rjc8L--.js";import"./createLucideIcon-SD458vc9.js";import"./input-D01gTe9K.js";import"./label-tp4e9AWt.js";import"./textarea-CgG8HGNy.js";import"./index-ikzcNs2d.js";import"./loader-circle-bmERupY8.js";import"./index-sZL0LmKN.js";import"./index-CHXMgrNC.js";import"./index-dA-rYMbt.js";import"./index-Brhvp-qm.js";import"./index-Bnui9FJL.js";import"./index-DjAg5VJJ.js";import"./index-COWxmS2u.js";import"./chevron-up-CElMC7bz.js";import"./check-DNy6Q5Gp.js";import"./index-CBL-cnJN.js";import"./index-BYiI1tkd.js";import"./tooltip-CpjmRnmA.js";import"./avatar-Dgk1JwKp.js";import"./index-CI6TeYZF.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-CmqXW0w-.js";import"./search-BL-QF0Rx.js";import"./app-logo-icon-BXO135UB.js";import"./layout-grid-BLMpB1Jf.js";import"./users-D2d18B4g.js";import"./settings-2-BMKDjTqy.js";import"./cpu-BLXfwEsG.js";import"./book-open-CRzmW_vb.js";import"./chevron-right-CrOEsWah.js";import"./appearance-tabs-header-CsIvXzNJ.js";import"./sun-CRFjhy0H.js";const re=[{title:"Class",href:"/"},{title:"Subjects",href:"/subjects"},{title:"Assessments",href:"/assessments"}];function pt(r){const e=R.c(38),{subject:o}=r,[i,a]=I.useState("grid"),[l,O]=I.useState("all"),[G,M]=I.useState(!1),n=o.class_id,m=o.id;let x;e[0]!==o.assessments?(x=o.assessments||[],e[0]=o.assessments,e[1]=x):x=e[1];const g=x;let j;e[2]!==g||e[3]!==l?(j=l==="all"?g:g.filter(s=>s.status===l),e[2]=g,e[3]=l,e[4]=j):j=e[4];const b=j,$=ne,z=ae;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y={upcoming:"bg-blue-500",ongoing:"bg-green-500",closed:"bg-red-500",unknown:"bg-gray-500"},e[5]=y):y=e[5];const H=y;let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(Q,{title:"Assessments"}),e[6]=w):w=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("h2",{className:"text-xl font-bold",children:"Assessments"}),e[7]=v):v=e[7];let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=s=>O(s),e[8]=S):S=e[8];let N;e[9]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(W,{className:"w-[140px]",children:t.jsx(X,{placeholder:"Filter status"})}),e[9]=N):N=e[9];let _;e[10]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs(Y,{children:[t.jsx(E,{value:"active",children:"Active"}),t.jsx(E,{value:"upcoming",children:"Upcoming"}),t.jsx(E,{value:"closed",children:"Closed"}),t.jsx(E,{value:"all",children:"All"})]}),e[10]=_):_=e[10];let c;e[11]!==l?(c=t.jsxs(Z,{value:l,onValueChange:S,children:[N,_]}),e[11]=l,e[12]=c):c=e[12];let A;e[13]===Symbol.for("react.memo_cache_sentinel")?(A=s=>s&&a(s),e[13]=A):A=e[13];let C;e[14]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(F,{value:"list","aria-label":"List view",children:t.jsx(oe,{className:"h-4 w-4"})}),e[14]=C):C=e[14];let L;e[15]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(F,{value:"grid","aria-label":"Grid view",children:t.jsx(ee,{className:"h-4 w-4"})}),e[15]=L):L=e[15];let p;e[16]!==i?(p=t.jsxs(te,{type:"single",value:i,onValueChange:A,children:[C,L]}),e[16]=i,e[17]=p):p=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs(V,{onClick:()=>M(!0),className:"gap-2",children:[t.jsx(le,{className:"h-4 w-4"})," New"]}),e[18]=k):k=e[18];let d;e[19]!==p||e[20]!==c?(d=t.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-3",children:[v,t.jsxs("div",{className:"flex items-center gap-3",children:[c,p,k]})]}),e[19]=p,e[20]=c,e[21]=d):d=e[21];let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T=!1,e[22]=T):T=e[22];let u;e[23]!==n||e[24]!==b||e[25]!==m||e[26]!==i?(u=b.length>0?t.jsx(B.div,{initial:"hidden",animate:"show",variants:{hidden:{},show:{transition:{staggerChildren:.1}}},className:i==="grid"?"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3":"space-y-3",children:b.map(s=>{const P=z(s.start_time,s.end_time);return t.jsxs(B.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.35}}},className:`group relative block rounded-lg border p-4 transition hover:shadow-md ${i==="list"?"flex items-start justify-between":""}`,children:[t.jsxs(q,{href:route("instructor.classes.subjects.assessments.show",[n,m,s.id]),className:i==="list"?"flex-1":"",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("h3",{className:"text-base leading-tight font-semibold",children:[s.title," ",t.jsx(K,{className:`text-white capitalize ${H[P]}`,children:P})]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.start_time?new Date(s.start_time).toLocaleString():""," ","â€“"," ",s.end_time?new Date(s.end_time).toLocaleString():""]})]}),t.jsxs("span",{className:"mt-1 text-xs text-gray-400",children:[s.questions_count??0," ","Questions"]})]}),t.jsx(V,{type:"button",size:"sm",variant:"outline",onClick:()=>$(s),className:"absolute top-2 right-2 p-1 opacity-0 transition-opacity duration-200 group-hover:opacity-100",children:t.jsx(ie,{className:"h-4 w-4"})})]},s.id)})}):t.jsx("p",{className:"py-6 text-center text-sm text-gray-500",children:"No assessments found."}),e[23]=n,e[24]=b,e[25]=m,e[26]=i,e[27]=u):u=e[27];let f;e[28]!==d||e[29]!==u?(f=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:t.jsxs("div",{className:"rounded-xl border p-5 shadow-sm",children:[d,T,u]})}),e[28]=d,e[29]=u,e[30]=f):f=e[30];let h;e[31]!==n||e[32]!==G||e[33]!==m?(h=t.jsx(J,{isOpen:G,setIsOpen:M,classId:n,subjectId:m,mode:"create"}),e[31]=n,e[32]=G,e[33]=m,e[34]=h):h=e[34];let D;return e[35]!==f||e[36]!==h?(D=t.jsxs(se,{breadcrumbs:re,children:[w,f,h]}),e[35]=f,e[36]=h,e[37]=D):D=e[37],D}function ae(r,e){const o=new Date,i=r?new Date(r):null,a=e?new Date(e):null;return i&&o<i?"upcoming":i&&a&&o>=i&&o<=a?"ongoing":a&&o>a?"closed":"unknown"}function ne(r){U.info("Edit mode not implemented yet: "+r.title)}export{pt as default};
