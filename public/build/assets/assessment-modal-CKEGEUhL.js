import{c as be,e as ge,a as ve,j as t}from"./app-qZM_P6kk.js";import{M as Se}from"./modal-DFFjQ3fm.js";import{B as je}from"./button-Cu49OhpK.js";import{I as V}from"./input-B34mZL1D.js";import{L as o}from"./label-D6XQn7HL.js";import{S as Ne,b as Ce,a as Ee,c as Te,d as $}from"./select-CEalXL7-.js";import{T as Ae}from"./textarea-zBOVOH_v.js";import{s as _e}from"./index-ikzcNs2d.js";import{L as Ie}from"./loader-circle-CEjNlLKZ.js";function Re(ye){const e=be.c(115),{isOpen:c,setIsOpen:m,classId:q,subjectId:H,assessment:i}=ye,n=!!i;let P;e[0]===Symbol.for("react.memo_cache_sentinel")?(P={title:"",description:"",type:"",max_attempts:"1",start_time:"",end_time:"",duration:""},e[0]=P):P=e[0];const{data:l,setData:s,post:ae,put:re,processing:d,reset:p,errors:r,clearErrors:ne}=ge(P);let Q;e[1]!==i||e[2]!==ne||e[3]!==n||e[4]!==c||e[5]!==p||e[6]!==s?(Q=()=>{c&&(n?s({title:i.title??"",description:i.description??"",type:i.type??"",max_attempts:i.max_attempts?.toString()??"1",start_time:i.start_time?.replace(" ","T").slice(0,16)??"",end_time:i.end_time?.replace(" ","T").slice(0,16)??"",duration:i.duration?.toString()??""}):(p(),ne()))},e[1]=i,e[2]=ne,e[3]=n,e[4]=c,e[5]=p,e[6]=s,e[7]=Q):Q=e[7];let G;e[8]!==i||e[9]!==c?(G=[c,i],e[8]=i,e[9]=c,e[10]=G):G=e[10],ve.useEffect(Q,G);let J;e[11]!==i||e[12]!==q||e[13]!==n||e[14]!==ae||e[15]!==re||e[16]!==p||e[17]!==m||e[18]!==H?(J=a=>{a.preventDefault();const ue={onSuccess:()=>{p(),m(!1)}};n?re(_e("instructor.classes.subjects.assessments.update",[q,H,i.id]),ue):ae(_e("instructor.classes.subjects.assessments.store",[q,H]),ue)},e[11]=i,e[12]=q,e[13]=n,e[14]=ae,e[15]=re,e[16]=p,e[17]=m,e[18]=H,e[19]=J):J=e[19];const ce=J,me=n?"Edit Assessment":"Create New Assessment";let K;e[20]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(o,{htmlFor:"title",children:"Assessment Title"}),e[20]=K):K=e[20];let f;e[21]!==s?(f=a=>s("title",a.target.value),e[21]=s,e[22]=f):f=e[22];const oe=r.title?"border-red-500 focus-visible:ring-red-500":"";let x;e[23]!==l.title||e[24]!==f||e[25]!==oe?(x=t.jsx(V,{id:"title",placeholder:"e.g. Midterm Physics Exam",value:l.title,onChange:f,className:oe}),e[23]=l.title,e[24]=f,e[25]=oe,e[26]=x):x=e[26];let h;e[27]!==r.title?(h=r.title&&t.jsx("p",{className:"text-xs font-medium text-red-500",children:r.title}),e[27]=r.title,e[28]=h):h=e[28];let u;e[29]!==h||e[30]!==x?(u=t.jsxs("div",{className:"space-y-1",children:[K,x,h]}),e[29]=h,e[30]=x,e[31]=u):u=e[31];let U;e[32]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(o,{children:"Instructions / Description"}),e[32]=U):U=e[32];let j;e[33]!==s?(j=a=>s("description",a.target.value),e[33]=s,e[34]=j):j=e[34];const de=`min-h-[100px] ${r.description?"border-red-500":""}`;let _;e[35]!==l.description||e[36]!==j||e[37]!==de?(_=t.jsxs("div",{className:"space-y-1",children:[U,t.jsx(Ae,{placeholder:"Explain the rules or topics covered...",value:l.description,onChange:j,className:de})]}),e[35]=l.description,e[36]=j,e[37]=de,e[38]=_):_=e[38];let W;e[39]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(o,{children:"Type"}),e[39]=W):W=e[39];let y;e[40]!==s?(y=a=>s("type",a),e[40]=s,e[41]=y):y=e[41];const pe=r.type?"border-red-500":"";let X;e[42]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Ce,{placeholder:"Select type"}),e[42]=X):X=e[42];let b;e[43]!==pe?(b=t.jsx(Ee,{className:pe,children:X}),e[43]=pe,e[44]=b):b=e[44];let Y;e[45]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(Te,{children:[t.jsx($,{value:"quiz",children:"Quiz"}),t.jsx($,{value:"exam",children:"Exam"}),t.jsx($,{value:"homework",children:"Homework"}),t.jsx($,{value:"midterm",children:"Midterm"}),t.jsx($,{value:"final",children:"Final Exam"})]}),e[45]=Y):Y=e[45];let g;e[46]!==l.type||e[47]!==y||e[48]!==b?(g=t.jsxs(Ne,{value:l.type,onValueChange:y,children:[b,Y]}),e[46]=l.type,e[47]=y,e[48]=b,e[49]=g):g=e[49];let v;e[50]!==r.type?(v=r.type&&t.jsx("p",{className:"text-xs font-medium text-red-500",children:r.type}),e[50]=r.type,e[51]=v):v=e[51];let S;e[52]!==g||e[53]!==v?(S=t.jsxs("div",{className:"space-y-1",children:[W,g,v]}),e[52]=g,e[53]=v,e[54]=S):S=e[54];let Z;e[55]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(o,{children:"Max Attempts"}),e[55]=Z):Z=e[55];let N;e[56]!==s?(N=a=>s("max_attempts",a.target.value),e[56]=s,e[57]=N):N=e[57];let C;e[58]!==l.max_attempts||e[59]!==N?(C=t.jsxs("div",{className:"space-y-1",children:[Z,t.jsx(V,{type:"number",min:"1",value:l.max_attempts,onChange:N})]}),e[58]=l.max_attempts,e[59]=N,e[60]=C):C=e[60];let E;e[61]!==S||e[62]!==C?(E=t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[S,C]}),e[61]=S,e[62]=C,e[63]=E):E=e[63];let ee;e[64]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(o,{children:"Start Date & Time"}),e[64]=ee):ee=e[64];let T;e[65]!==s?(T=a=>s("start_time",a.target.value),e[65]=s,e[66]=T):T=e[66];const fe=r.start_time?"border-red-500":"";let A;e[67]!==l.start_time||e[68]!==T||e[69]!==fe?(A=t.jsxs("div",{className:"space-y-1",children:[ee,t.jsx(V,{type:"datetime-local",value:l.start_time,onChange:T,className:fe})]}),e[67]=l.start_time,e[68]=T,e[69]=fe,e[70]=A):A=e[70];let te;e[71]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(o,{children:"end_time (End Time)"}),e[71]=te):te=e[71];let I;e[72]!==s?(I=a=>s("end_time",a.target.value),e[72]=s,e[73]=I):I=e[73];const xe=r.end_time?"border-red-500":"";let M;e[74]!==l.end_time||e[75]!==I||e[76]!==xe?(M=t.jsxs("div",{className:"space-y-1",children:[te,t.jsx(V,{type:"datetime-local",value:l.end_time,onChange:I,className:xe})]}),e[74]=l.end_time,e[75]=I,e[76]=xe,e[77]=M):M=e[77];let w;e[78]!==A||e[79]!==M?(w=t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[A,M]}),e[78]=A,e[79]=M,e[80]=w):w=e[80];let se;e[81]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(o,{children:"Duration (Minutes)"}),e[81]=se):se=e[81];let D;e[82]!==s?(D=a=>s("duration",a.target.value),e[82]=s,e[83]=D):D=e[83];const he=r.duration?"border-red-500":"";let F;e[84]!==l.duration||e[85]!==D||e[86]!==he?(F=t.jsx(V,{type:"number",placeholder:"e.g. 60",value:l.duration,onChange:D,className:he}),e[84]=l.duration,e[85]=D,e[86]=he,e[87]=F):F=e[87];let le;e[88]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("p",{className:"text-[11px] font-medium text-slate-400",children:"Set to 0 or leave empty for no time limit."}),e[88]=le):le=e[88];let L;e[89]!==F?(L=t.jsxs("div",{className:"space-y-1",children:[se,F,le]}),e[89]=F,e[90]=L):L=e[90];let k;e[91]!==m?(k=t.jsx(je,{type:"button",variant:"ghost",onClick:()=>m(!1),className:"font-semibold text-slate-500 hover:text-slate-700",children:"Cancel"}),e[91]=m,e[92]=k):k=e[92];let z;e[93]!==n||e[94]!==d?(z=d?t.jsxs(t.Fragment,{children:[t.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):n?"Save Changes":"Create Assessment",e[93]=n,e[94]=d,e[95]=z):z=e[95];let B;e[96]!==d||e[97]!==z?(B=t.jsx(je,{type:"submit",disabled:d,className:"bg-blue-600 px-8 font-bold text-white hover:bg-blue-700",children:z}),e[96]=d,e[97]=z,e[98]=B):B=e[98];let O;e[99]!==k||e[100]!==B?(O=t.jsxs("div",{className:"mt-8 flex items-center justify-end gap-3 border-t pt-6",children:[k,B]}),e[99]=k,e[100]=B,e[101]=O):O=e[101];let R;e[102]!==ce||e[103]!==u||e[104]!==_||e[105]!==E||e[106]!==w||e[107]!==L||e[108]!==O?(R=t.jsxs("form",{className:"space-y-5 py-2",onSubmit:ce,children:[u,_,E,w,L,O]}),e[102]=ce,e[103]=u,e[104]=_,e[105]=E,e[106]=w,e[107]=L,e[108]=O,e[109]=R):R=e[109];let ie;return e[110]!==c||e[111]!==m||e[112]!==R||e[113]!==me?(ie=t.jsx(Se,{isOpen:c,setIsOpen:m,title:me,children:R}),e[110]=c,e[111]=m,e[112]=R,e[113]=me,e[114]=ie):ie=e[114],ie}export{Re as A};
