import{c as ye,j as t,m as H,L as _e,r as ue,A as we,a as Ne,t as Se,H as Ce}from"./app-DOexATz8.js";import{s as he}from"./index-ikzcNs2d.js";import{a as ke,d as De,c as je,e as Ae,D as Ie,b as Me,A as Le}from"./app-layout-CQOHcJhl.js";import{B as be}from"./button-BRVN6i6H.js";import{S as Pe}from"./subject-modal-Dx9BQ0D3.js";import $e from"./copy-subject-modal-DuIj-wQd.js";import{E as Ee}from"./ellipsis-CBJCIQFX.js";import{P as ze,T as ge}from"./trash-CESOkXQK.js";import{C as Oe}from"./copy-Dn5lwVwC.js";import{L as Te}from"./lock-KiZZ4kiS.js";import{A as Re}from"./arrow-right-Cr5VBfnV.js";import{C as Be}from"./clock-JNa168ul.js";import{B as ve}from"./book-open--LA4IL-m.js";import{A as He,a as Ue,b as Fe,c as qe,d as Ge,e as We,f as Je}from"./alert-dialog-BU-MJVM3.js";import{L as Ke}from"./index-7XyYV-Uy.js";import{P as Qe}from"./plus-Cl_g_eWc.js";import{L as Ve}from"./loader-circle-xDQqgRtj.js";import"./app-Dkd-uU77.js";import"./index-BCjrxXRD.js";import"./index-DQ5CcXw7.js";import"./index-Dghi0PCu.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./dialog-TFrJjmZh.js";import"./index-BZcpqnGn.js";import"./index-DM2N5xoF.js";import"./index-BiXTY-N1.js";import"./index-BEPutMgU.js";import"./index-CsaJF3T3.js";import"./index-CbEB6B2s.js";import"./index-D8NCBvGj.js";import"./x-xRkXIo8D.js";import"./createLucideIcon-j6D0D3Y_.js";import"./tooltip-ByYNg7VM.js";import"./index-DI0Uf7dS.js";import"./index-CPEYA-OZ.js";import"./index-C8DTQ8L6.js";import"./index-D2V0qVjz.js";import"./index-Z9JsAk8n.js";import"./avatar-_pMFpJ1a.js";import"./index-C5FbGKEL.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-BJUssI3G.js";import"./search-BJrQLS36.js";import"./app-logo-icon-B6GRV3HK.js";import"./layout-grid-BfACZU2C.js";import"./users-YRzjUlzr.js";import"./settings-2-CHSmb4cp.js";import"./cpu-Dh4fUxB8.js";import"./chevron-right-CqdRtJ2F.js";import"./appearance-tabs-header-CF3ajYXV.js";import"./sun-BG-XGb8r.js";import"./input--pI8Kted.js";import"./label-B8z-0cNd.js";import"./select-CH_F3wFZ.js";import"./index-BF4E9qjg.js";import"./chevron-up-_obE1ikU.js";import"./check-B5V9zjb2.js";import"./textarea-BsNou_JT.js";import"./modal-CHnu2P-i.js";import"./upload-C5XbYVl2.js";import"./badge-CPBjG4_l.js";import"./popover-C4Np6-RM.js";function Xe(a){const e=ye.c(63),{subject:s,classId:I,onEdit:M,onCopy:U,onDelete:L}=a,i=s.visibility==="private";let c,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},l={y:-5},e[0]=c,e[1]=l):(c=e[0],l=e[1]);const P=`subject-card-${s.id}`;let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(ke,{asChild:!0,children:t.jsx(be,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full border border-white/20 bg-black/60 shadow-lg backdrop-blur-md hover:bg-black/80 text-white",children:t.jsx(Ee,{className:"h-4 w-4"})})}),e[2]=o):o=e[2];let F;e[3]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(De,{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:"Management"}),e[3]=F):F=e[3];let f;e[4]!==M||e[5]!==s?(f=()=>M(s),e[4]=M,e[5]=s,e[6]=f):f=e[6];let q;e[7]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(ze,{className:"mr-2 h-4 w-4"}),e[7]=q):q=e[7];let u;e[8]!==f?(u=t.jsxs(je,{onClick:f,className:"rounded-lg cursor-pointer",children:[q," Edit Details"]}),e[8]=f,e[9]=u):u=e[9];let $;e[10]!==U||e[11]!==s?($=()=>U(s),e[10]=U,e[11]=s,e[12]=$):$=e[12];let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(Oe,{className:"mr-2 h-4 w-4"}),e[13]=k):k=e[13];let E;e[14]!==$?(E=t.jsxs(je,{onClick:$,className:"rounded-lg cursor-pointer",children:[k," Duplicate"]}),e[14]=$,e[15]=E):E=e[15];let D;e[16]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(Ae,{}),e[16]=D):D=e[16];let z;e[17]!==L||e[18]!==s?(z=()=>L(s),e[17]=L,e[18]=s,e[19]=z):z=e[19];let A;e[20]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(ge,{className:"mr-2 h-4 w-4"}),e[20]=A):A=e[20];let N;e[21]!==z?(N=t.jsxs(je,{onClick:z,className:"rounded-lg cursor-pointer text-destructive focus:bg-destructive/10 focus:text-destructive",children:[A," Delete Subject"]}),e[21]=z,e[22]=N):N=e[22];let h;e[23]!==E||e[24]!==N||e[25]!==u?(h=t.jsx("div",{className:"absolute top-4 right-4 z-30 opacity-0 transition-opacity duration-200 group-hover:opacity-100",children:t.jsxs(Ie,{children:[o,t.jsxs(Me,{align:"end",className:"w-52 rounded-xl p-2 shadow-xl",children:[F,u,E,D,N]})]})}),e[23]=E,e[24]=N,e[25]=u,e[26]=h):h=e[26];let O;e[27]!==I||e[28]!==s.id?(O=he("instructor.classes.subjects.show",[I,s.id]),e[27]=I,e[28]=s.id,e[29]=O):O=e[29];const S=`url('${s.cover?`/storage/${s.cover}`:"https://images.unsplash.com/photo-1517842645767-c639042777db?q=80&w=2070&auto=format&fit=crop"}')`;let n;e[30]!==S?(n=t.jsx("div",{className:"h-full w-full bg-cover bg-center transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:S}}),e[30]=S,e[31]=n):n=e[31];let T;e[32]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),e[32]=T):T=e[32];let m;e[33]!==i?(m=i&&t.jsx("div",{className:"absolute top-4 left-4 rounded-lg border border-white/20 bg-black/60 p-1.5 text-white backdrop-blur-md",children:t.jsx(Te,{size:12,strokeWidth:3})}),e[33]=i,e[34]=m):m=e[34];let R;e[35]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"absolute bottom-4 left-4 translate-y-4 opacity-0 transition-all duration-300 group-hover:translate-y-0 group-hover:opacity-100",children:t.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-black tracking-widest text-white uppercase",children:["Manage Lessons ",t.jsx(Re,{size:12})]})}),e[35]=R):R=e[35];let C;e[36]!==n||e[37]!==m?(C=t.jsxs("div",{className:"relative h-44 w-full overflow-hidden",children:[n,T,m,R]}),e[36]=n,e[37]=m,e[38]=C):C=e[38];const G=s.code||"CURRICULUM";let d;e[39]!==G?(d=t.jsx("div",{className:"mb-2 flex items-start justify-between",children:t.jsx("span",{className:"text-[9px] font-black tracking-[0.2em] text-blue-500 uppercase",children:G})}),e[39]=G,e[40]=d):d=e[40];let b;e[41]!==s.name?(b=t.jsx("h3",{className:"line-clamp-2 min-h-[3.5rem] text-lg leading-tight font-black text-slate-900 transition-colors group-hover:text-blue-600 dark:text-white",children:s.name}),e[41]=s.name,e[42]=b):b=e[42];let x;e[43]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(Be,{size:14}),e[43]=x):x=e[43];const B=s.visibility==="public"?"Public Access":"Private Draft";let j;e[44]!==B?(j=t.jsxs("div",{className:"flex items-center gap-2",children:[x,t.jsx("span",{className:"text-xs font-bold",children:B})]}),e[44]=B,e[45]=j):j=e[45];let y;e[46]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 transition-colors group-hover:bg-blue-600 group-hover:text-white dark:bg-slate-800",children:t.jsx(ve,{size:14})}),e[46]=y):y=e[46];let g;e[47]!==j?(g=t.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-100 pt-4 text-slate-400 dark:border-slate-800",children:[j,y]}),e[47]=j,e[48]=g):g=e[48];let v;e[49]!==d||e[50]!==b||e[51]!==g?(v=t.jsxs("div",{className:"p-6",children:[d,b,g]}),e[49]=d,e[50]=b,e[51]=g,e[52]=v):v=e[52];let _;e[53]!==C||e[54]!==v?(_=t.jsxs("div",{className:"relative h-full overflow-hidden rounded-[2rem] border border-slate-200 bg-white shadow-sm transition-all hover:border-blue-500/50 hover:shadow-xl dark:border-slate-800 dark:bg-[#09090b]",children:[C,v]}),e[53]=C,e[54]=v,e[55]=_):_=e[55];let p;e[56]!==O||e[57]!==_?(p=t.jsx(_e,{href:O,children:_}),e[56]=O,e[57]=_,e[58]=p):p=e[58];let w;return e[59]!==h||e[60]!==P||e[61]!==p?(w=t.jsxs(H.div,{layout:!0,variants:c,whileHover:l,layoutId:P,className:"group relative",children:[h,p]}),e[59]=h,e[60]=P,e[61]=p,e[62]=w):w=e[62],w}const Ye=ue.memo(Xe);function us(a){const e=ye.c(93),{classroom:s,allAvailableClasses:I}=a;let M;e[0]!==I?(M=I===void 0?[]:I,e[0]=I,e[1]=M):M=e[1];const U=M;let L;e[2]===Symbol.for("react.memo_cache_sentinel")?(L={subject:!1,copy:!1,delete:!1},e[2]=L):L=e[2];const[i,c]=ue.useState(L),[l,P]=ue.useState(null),[o,F]=ue.useState(!1);let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{P(null),c(lt)},e[3]=f):f=e[3];const q=f;let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=r=>{P(r),c(st)},e[4]=u):u=e[4];const $=u;let k;e[5]===Symbol.for("react.memo_cache_sentinel")?(k=r=>{P(r),c(tt)},e[5]=k):k=e[5];const E=k;let D;e[6]===Symbol.for("react.memo_cache_sentinel")?(D=r=>{P(r),c(et)},e[6]=D):D=e[6];const z=D;let A;e[7]!==l||e[8]!==s.id?(A=()=>{l&&Ne.delete(he("instructor.classes.subjects.destroy",[s.id,l.id]),{preserveScroll:!0,onStart:()=>F(!0),onSuccess:()=>{Se.success("Subject removed"),c(Ze)},onFinish:()=>F(!1)})},e[7]=l,e[8]=s.id,e[9]=A):A=e[9];const N=A;let h;e[10]===Symbol.for("react.memo_cache_sentinel")?(h={title:"Classes",href:he("instructor.classes.index")},e[10]=h):h=e[10];const O=s.name;let S;e[11]!==s.id?(S=he("instructor.classes.show",s.id),e[11]=s.id,e[12]=S):S=e[12];let n;e[13]!==s.name||e[14]!==S?(n=[h,{title:O,href:S}],e[13]=s.name,e[14]=S,e[15]=n):n=e[15];const T=`${s.name} | Curriculum`;let m;e[16]!==T?(m=t.jsx(Ce,{title:T}),e[16]=T,e[17]=m):m=e[17];const R=`class-card-${s.id}`,C=`class-bg-${s.id}`,G=`url('${s.cover?`/storage/${s.cover}`:"/assets/img/class/39323.jpg"}')`;let d;e[18]!==G?(d={backgroundImage:G},e[18]=G,e[19]=d):d=e[19];let b;e[20]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-900/40 to-transparent"}),e[20]=b):b=e[20];let x;e[21]!==C||e[22]!==d?(x=t.jsx(H.div,{layoutId:C,className:"absolute inset-0 bg-cover bg-center",style:d,children:b}),e[21]=C,e[22]=d,e[23]=x):x=e[23];let B,j;e[24]===Symbol.for("react.memo_cache_sentinel")?(B={y:20,opacity:0},j={y:0,opacity:1},e[24]=B,e[25]=j):(B=e[24],j=e[25]);let y;e[26]!==s.name?(y=t.jsx(H.h1,{initial:B,animate:j,className:"text-4xl text-primary-foreground font-black tracking-tight sm:text-6xl",children:s.name}),e[26]=s.name,e[27]=y):y=e[27];let g,v,_;e[28]===Symbol.for("react.memo_cache_sentinel")?(g={y:20,opacity:0},v={y:0,opacity:1},_={delay:.1},e[28]=g,e[29]=v,e[30]=_):(g=e[28],v=e[29],_=e[30]);let p;e[31]!==s.description?(p=t.jsx(H.p,{initial:g,animate:v,transition:_,className:"mt-4 max-w-2xl text-lg text-slate-200 line-clamp-2",children:s.description}),e[31]=s.description,e[32]=p):p=e[32];let w;e[33]!==y||e[34]!==p?(w=t.jsxs("div",{className:"relative flex h-full flex-col justify-end p-8 text-white sm:p-12",children:[y,p]}),e[33]=y,e[34]=p,e[35]=w):w=e[35];let J;e[36]!==R||e[37]!==x||e[38]!==w?(J=t.jsxs(H.div,{layoutId:R,className:"relative mb-12 h-72 w-full overflow-hidden rounded-[2rem] shadow-2xl",children:[x,w]}),e[36]=R,e[37]=x,e[38]=w,e[39]=J):J=e[39];let ce;e[40]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Course Subjects"}),e[40]=ce):ce=e[40];let ne;e[41]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b pb-6",children:[ce,t.jsxs(be,{onClick:q,className:"h-11 rounded-full px-6 shadow-lg transition-all hover:scale-105 active:scale-95",children:[t.jsx(Qe,{className:"mr-2 h-5 w-5"})," Add Subject"]})]}),e[41]=ne):ne=e[41];let K;e[42]!==s.id||e[43]!==s.subjects?(K=s?.subjects?.map((r,W)=>t.jsx(H.div,{layout:!0,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,transition:{duration:.2}},transition:{type:"spring",stiffness:300,damping:25,delay:W*.05},children:t.jsx(Ye,{subject:r,classId:s.id,onEdit:$,onCopy:E,onDelete:z})},r.id)),e[42]=s.id,e[43]=s.subjects,e[44]=K):K=e[44];let Q;e[45]!==K?(Q=t.jsx(Ke,{children:t.jsx(H.div,{layout:!0,className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.jsx(we,{mode:"popLayout",children:K})})}),e[45]=K,e[46]=Q):Q=e[46];let V;e[47]!==s.subjects?(V=(!s?.subjects||s.subjects.length===0)&&t.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"flex h-80 flex-col items-center justify-center rounded-[2rem] border-2 border-dashed border-muted bg-muted/20",children:[t.jsx(ve,{className:"mb-4 h-12 w-12 text-muted-foreground/50"}),t.jsx("p",{className:"text-xl font-medium text-muted-foreground",children:"No subjects found"}),t.jsx(be,{variant:"link",onClick:q,children:"Create your first subject"})]}),e[47]=s.subjects,e[48]=V):V=e[48];let X;e[49]!==Q||e[50]!==V?(X=t.jsxs("div",{className:"space-y-8",children:[ne,Q,V]}),e[49]=Q,e[50]=V,e[51]=X):X=e[51];let Y;e[52]!==J||e[53]!==X?(Y=t.jsxs("div",{className:" p-6 lg:p-8 lg:px-12",children:[J,X]}),e[52]=J,e[53]=X,e[54]=Y):Y=e[54];let me;e[55]===Symbol.for("react.memo_cache_sentinel")?(me=r=>c(W=>({...W,subject:r})),e[55]=me):me=e[55];let Z;e[56]!==l||e[57]!==s.id||e[58]!==i.subject?(Z=t.jsx(Pe,{isOpen:i.subject,setIsOpen:me,classId:s.id,editingSubject:l}),e[56]=l,e[57]=s.id,e[58]=i.subject,e[59]=Z):Z=e[59];let ee;e[60]!==l||e[61]!==U||e[62]!==s.id||e[63]!==i.copy?(ee=i.copy&&l&&t.jsx($e,{isOpen:i.copy,setIsOpen:r=>c(W=>({...W,copy:r})),subjectToCopy:l,availableClasses:U,sourceClassId:s.id}),e[60]=l,e[61]=U,e[62]=s.id,e[63]=i.copy,e[64]=ee):ee=e[64];let de;e[65]===Symbol.for("react.memo_cache_sentinel")?(de=r=>c(W=>({...W,delete:r})),e[65]=de):de=e[65];let pe;e[66]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(Ue,{className:"text-2xl font-bold",children:"Delete Subject?"}),e[66]=pe):pe=e[66];const xe=l?.name;let te;e[67]!==xe?(te=t.jsxs(Fe,{children:[pe,t.jsxs(qe,{children:["Are you sure you want to remove ",t.jsx("span",{className:"font-bold text-foreground",children:xe}),"? This action cannot be undone."]})]}),e[67]=xe,e[68]=te):te=e[68];let se;e[69]!==o?(se=t.jsx(Ge,{disabled:o,className:"rounded-full",children:"Cancel"}),e[69]=o,e[70]=se):se=e[70];let le;e[71]!==o?(le=o?t.jsx(Ve,{className:"animate-spin"}):t.jsx(ge,{className:"mr-2 h-4 w-4"}),e[71]=o,e[72]=le):le=e[72];let ie;e[73]!==N||e[74]!==o||e[75]!==le?(ie=t.jsxs(be,{variant:"destructive",onClick:N,disabled:o,className:"rounded-full px-6",children:[le,"Confirm Delete"]}),e[73]=N,e[74]=o,e[75]=le,e[76]=ie):ie=e[76];let oe;e[77]!==se||e[78]!==ie?(oe=t.jsxs(We,{className:"gap-2",children:[se,ie]}),e[77]=se,e[78]=ie,e[79]=oe):oe=e[79];let re;e[80]!==te||e[81]!==oe?(re=t.jsxs(Je,{className:"rounded-[2rem]",children:[te,oe]}),e[80]=te,e[81]=oe,e[82]=re):re=e[82];let ae;e[83]!==i.delete||e[84]!==re?(ae=t.jsx(He,{open:i.delete,onOpenChange:de,children:re}),e[83]=i.delete,e[84]=re,e[85]=ae):ae=e[85];let fe;return e[86]!==n||e[87]!==m||e[88]!==Y||e[89]!==Z||e[90]!==ee||e[91]!==ae?(fe=t.jsxs(Le,{breadcrumbs:n,children:[m,Y,Z,ee,ae]}),e[86]=n,e[87]=m,e[88]=Y,e[89]=Z,e[90]=ee,e[91]=ae,e[92]=fe):fe=e[92],fe}function Ze(a){return{...a,delete:!1}}function et(a){return{...a,delete:!0}}function tt(a){return{...a,copy:!0}}function st(a){return{...a,subject:!0}}function lt(a){return{...a,subject:!0}}export{us as default};
