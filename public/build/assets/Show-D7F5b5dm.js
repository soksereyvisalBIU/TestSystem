import{c as re,a as K,j as t,m as X,A as ae,r as ce,t as me,H as ne}from"./app-BEjprfpt.js";import{s as Y}from"./index-ikzcNs2d.js";import{C as de,S as pe}from"./subject-card-dwq73lTM.js";import{S as ue}from"./subject-modal-CTiO-bFi.js";import{A as fe,a as xe,b as be,c as je,d as he,e as ye,f as ge}from"./alert-dialog-CP9MTcaE.js";import{B as Z}from"./button-DGod-GTx.js";import{A as Se}from"./app-layout-DfQQ_XDM.js";import _e from"./copy-subject-modal-DReG5tTJ.js";import{L as Ce}from"./index-Cjf-KDZI.js";import{B as Ne}from"./book-open-CRzmW_vb.js";import{S as ve}from"./search-BL-QF0Rx.js";import{P as Ae}from"./plus-fFbh7Iuh.js";import{L as we}from"./loader-circle-bmERupY8.js";import{T as De}from"./trash-BBtnRUmb.js";import"./app-C2HJU6IN.js";import"./users-D2d18B4g.js";import"./createLucideIcon-SD458vc9.js";import"./useCan-BGFsELKm.js";import"./ellipsis-B5MBjMep.js";import"./copy-CKNCpahE.js";import"./lock-DIlBrIeZ.js";import"./shield-check-DSE1M90D.js";import"./arrow-right-C6kumotC.js";import"./clock-C_uYab5X.js";import"./input-D01gTe9K.js";import"./utils-CFcDjcb_.js";import"./label-tp4e9AWt.js";import"./index-rsEto4aw.js";import"./index-joJZZ6T8.js";import"./select-B9AeDQUe.js";import"./index-DsHUgfkw.js";import"./index-CVovHSZ1.js";import"./index-dA-rYMbt.js";import"./index-DH1X2cpJ.js";import"./index-DU3jUZ6J.js";import"./dialog-isigwEAQ.js";import"./index-Db_ipX0A.js";import"./index-Da8MCGzP.js";import"./x-9rjc8L--.js";import"./index-Brhvp-qm.js";import"./index-Bnui9FJL.js";import"./index-DjAg5VJJ.js";import"./index-COWxmS2u.js";import"./chevron-up-CElMC7bz.js";import"./check-DNy6Q5Gp.js";import"./textarea-CgG8HGNy.js";import"./modal-BQMMrss4.js";import"./upload-DcndAHuz.js";import"./index-sZL0LmKN.js";import"./index-CHXMgrNC.js";import"./index-BYiI1tkd.js";import"./tooltip-CpjmRnmA.js";import"./index-CBL-cnJN.js";import"./avatar-Dgk1JwKp.js";import"./index-CI6TeYZF.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-CmqXW0w-.js";import"./app-logo-icon-BXO135UB.js";import"./layout-grid-BLMpB1Jf.js";import"./settings-2-BMKDjTqy.js";import"./cpu-BLXfwEsG.js";import"./chevron-right-CrOEsWah.js";import"./appearance-tabs-header-CsIvXzNJ.js";import"./sun-CRFjhy0H.js";import"./badge-DVoRCxHz.js";import"./popover-B1sOJ-pt.js";const ke=K.memo(pe);function Ut(o){const e=re.c(75),{classroom:s,allAvailableClasses:D}=o;let k;e[0]!==D?(k=D===void 0?[]:D,e[0]=D,e[1]=k):k=e[1];const Q=k;let I;e[2]===Symbol.for("react.memo_cache_sentinel")?(I={subject:!1,copy:!1,delete:!1},e[2]=I):I=e[2];const[r,c]=K.useState(I),[i,L]=K.useState(null),[a,ee]=K.useState(!1);let M;e[3]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{L(null),c(Ee)},e[3]=M):M=e[3];const te=M;let O;e[4]===Symbol.for("react.memo_cache_sentinel")?(O=l=>{L(l),c(Oe)},e[4]=O):O=e[4];const se=O;let E;e[5]===Symbol.for("react.memo_cache_sentinel")?(E=l=>{L(l),c(Me)},e[5]=E):E=e[5];const le=E;let P;e[6]===Symbol.for("react.memo_cache_sentinel")?(P=l=>{L(l),c(Le)},e[6]=P):P=e[6];const ie=P;let T;e[7]!==i||e[8]!==s.id?(T=()=>{i&&ce.delete(Y("instructor.classes.subjects.destroy",[s.id,i.id]),{preserveScroll:!0,onStart:()=>ee(!0),onSuccess:()=>{me.success("Subject removed"),c(Ie)},onFinish:()=>ee(!1)})},e[7]=i,e[8]=s.id,e[9]=T):T=e[9];const U=T;let B;e[10]===Symbol.for("react.memo_cache_sentinel")?(B={title:"Classes",href:Y("instructor.classes.index")},e[10]=B):B=e[10];const oe=s.name;let n;e[11]!==s.id?(n=Y("instructor.classes.show",s.id),e[11]=s.id,e[12]=n):n=e[12];let d;e[13]!==s.name||e[14]!==n?(d=[B,{title:oe,href:n}],e[13]=s.name,e[14]=n,e[15]=d):d=e[15];const V=`${s.name} | Curriculum`;let p;e[16]!==V?(p=t.jsx(ne,{title:V}),e[16]=V,e[17]=p):p=e[17];let u;e[18]!==s?(u=t.jsx(de,{classroom:s}),e[18]=s,e[19]=u):u=e[19];let H;e[20]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-8 w-1 rounded-full bg-blue-600"}),t.jsx("h2",{className:"text-sm sm:text-xl font-black tracking-tight text-slate-900 uppercase dark:text-white",children:"Subject Modules"})]}),e[20]=H):H=e[20];let F;e[21]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsxs("div",{className:"group relative",children:[t.jsx(ve,{className:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-blue-500"}),t.jsx("input",{type:"text",placeholder:"Filter curriculum...",className:"w-full rounded-2xl border border-slate-200 bg-white py-2.5 pr-4 pl-10 text-sm font-medium transition-all focus:ring-2 focus:ring-blue-500 md:w-[300px] dark:border-slate-800 dark:bg-slate-900"})]}),e[21]=F):F=e[21];let z;e[22]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(Ae,{className:"sm:mr-2 h-5 w-5"}),e[22]=z):z=e[22];let R;e[23]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between",children:[H,t.jsxs("div",{className:"flex items-center gap-4",children:[F,t.jsxs(Z,{onClick:te,className:"sm:h-11 rounded-full px-6 shadow-lg transition-all hover:scale-105 active:scale-95",children:[z," Add ",t.jsx("span",{className:"hidden sm:block",children:"Subject"})]})]})]}),e[23]=R):R=e[23];let f;e[24]!==s.id||e[25]!==s.subjects?(f=s?.subjects?.map((l,m)=>t.jsx(X.div,{layout:!0,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,transition:{duration:.2}},transition:{type:"spring",stiffness:300,damping:25,delay:m*.05},children:t.jsx(ke,{subject:l,classId:s.id,onEdit:se,onCopy:le,onDelete:ie})},l.id)),e[24]=s.id,e[25]=s.subjects,e[26]=f):f=e[26];let x;e[27]!==f?(x=t.jsx(Ce,{children:t.jsx(X.div,{layout:!0,className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.jsx(ae,{mode:"popLayout",children:f})})}),e[27]=f,e[28]=x):x=e[28];let b;e[29]!==s.subjects?(b=(!s?.subjects||s.subjects.length===0)&&t.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"flex h-80 flex-col items-center justify-center rounded-[2rem] border-2 border-dashed border-muted bg-muted/20",children:[t.jsx(Ne,{className:"mb-4 h-12 w-12 text-muted-foreground/50"}),t.jsx("p",{className:"text-xl font-medium text-muted-foreground",children:"No subjects found"}),t.jsx(Z,{variant:"link",onClick:te,children:"Create your first subject"})]}),e[29]=s.subjects,e[30]=b):b=e[30];let j;e[31]!==x||e[32]!==b?(j=t.jsxs("div",{className:"space-y-6",children:[R,x,b]}),e[31]=x,e[32]=b,e[33]=j):j=e[33];let h;e[34]!==u||e[35]!==j?(h=t.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 lg:px-12",children:[u,j]}),e[34]=u,e[35]=j,e[36]=h):h=e[36];let $;e[37]===Symbol.for("react.memo_cache_sentinel")?($=l=>c(m=>({...m,subject:l})),e[37]=$):$=e[37];let y;e[38]!==i||e[39]!==s.id||e[40]!==r.subject?(y=t.jsx(ue,{isOpen:r.subject,setIsOpen:$,classId:s.id,editingSubject:i}),e[38]=i,e[39]=s.id,e[40]=r.subject,e[41]=y):y=e[41];let g;e[42]!==i||e[43]!==Q||e[44]!==s.id||e[45]!==r.copy?(g=r.copy&&i&&t.jsx(_e,{isOpen:r.copy,setIsOpen:l=>c(m=>({...m,copy:l})),subjectToCopy:i,availableClasses:Q,sourceClassId:s.id}),e[42]=i,e[43]=Q,e[44]=s.id,e[45]=r.copy,e[46]=g):g=e[46];let G;e[47]===Symbol.for("react.memo_cache_sentinel")?(G=l=>c(m=>({...m,delete:l})),e[47]=G):G=e[47];let q;e[48]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(xe,{className:"text-2xl font-bold",children:"Delete Subject?"}),e[48]=q):q=e[48];const W=i?.name;let S;e[49]!==W?(S=t.jsxs(be,{children:[q,t.jsxs(je,{children:["Are you sure you want to remove"," ",t.jsx("span",{className:"font-bold text-foreground",children:W}),"? This action cannot be undone."]})]}),e[49]=W,e[50]=S):S=e[50];let _;e[51]!==a?(_=t.jsx(he,{disabled:a,className:"rounded-full",children:"Cancel"}),e[51]=a,e[52]=_):_=e[52];let C;e[53]!==a?(C=a?t.jsx(we,{className:"animate-spin"}):t.jsx(De,{className:"mr-2 h-4 w-4"}),e[53]=a,e[54]=C):C=e[54];let N;e[55]!==U||e[56]!==a||e[57]!==C?(N=t.jsxs(Z,{variant:"destructive",onClick:U,disabled:a,className:"rounded-full px-6",children:[C,"Confirm Delete"]}),e[55]=U,e[56]=a,e[57]=C,e[58]=N):N=e[58];let v;e[59]!==_||e[60]!==N?(v=t.jsxs(ye,{className:"gap-2",children:[_,N]}),e[59]=_,e[60]=N,e[61]=v):v=e[61];let A;e[62]!==S||e[63]!==v?(A=t.jsxs(ge,{className:"rounded-[2rem]",children:[S,v]}),e[62]=S,e[63]=v,e[64]=A):A=e[64];let w;e[65]!==r.delete||e[66]!==A?(w=t.jsx(fe,{open:r.delete,onOpenChange:G,children:A}),e[65]=r.delete,e[66]=A,e[67]=w):w=e[67];let J;return e[68]!==d||e[69]!==p||e[70]!==h||e[71]!==y||e[72]!==g||e[73]!==w?(J=t.jsxs(Se,{breadcrumbs:d,children:[p,h,y,g,w]}),e[68]=d,e[69]=p,e[70]=h,e[71]=y,e[72]=g,e[73]=w,e[74]=J):J=e[74],J}function Ie(o){return{...o,delete:!1}}function Le(o){return{...o,delete:!0}}function Me(o){return{...o,copy:!0}}function Oe(o){return{...o,subject:!0}}function Ee(o){return{...o,subject:!0}}export{Ut as default};
