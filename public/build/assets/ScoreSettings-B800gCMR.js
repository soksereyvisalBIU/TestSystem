import{a as N,j as t,c as ce}from"./app-C4-wZLjv.js";import{d as he,C as xe,a as be,c as ge,e as ye,b as ve}from"./card-BPWCgs6A.js";import{I as oe}from"./input-CvWwLIjv.js";import{L as re}from"./label-BeNpEvcw.js";import{u as je,c as Ne}from"./index-DeD9CSgl.js";import{u as ie}from"./index-Buz4j_7Y.js";import{c as we}from"./index-CNKjpVcS.js";import{u as ke}from"./index-WR0EuoJH.js";import{u as Se}from"./index-CeYVXcUJ.js";import{P as le}from"./index-Bhes_7Zs.js";import{c as D}from"./utils-CFcDjcb_.js";import{P as Ce}from"./progress-C6pzaZOO.js";import{T as _e}from"./target-Ba3C7Uac.js";import{H as Pe}from"./hash-Bobvnp5p.js";import{C as Ee}from"./circle-alert-BQkIx_3U.js";import{C as Te}from"./circle-check-CE5iqhEP.js";import{c as Re}from"./createLucideIcon-DDKIJ2e3.js";import{S as Ie}from"./sparkles-Dy7xQZPs.js";import"./app-Ctpas7OY.js";import"./index-CmRgzCPv.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],ze=Re("Percent",qe);var K="Switch",[Ae,nt]=we(K),[Be,Fe]=Ae(K),ne=N.forwardRef((i,e)=>{const{__scopeSwitch:a,name:o,checked:s,defaultChecked:c,required:r,disabled:n,value:x="on",onCheckedChange:y,form:d,...v}=i,[f,b]=N.useState(null),l=ie(e,u=>b(u)),m=N.useRef(!1),w=f?d||!!f.closest("form"):!0,[g,j]=je({prop:s,defaultProp:c??!1,onChange:y,caller:K});return t.jsxs(Be,{scope:a,checked:g,disabled:n,children:[t.jsx(le.button,{type:"button",role:"switch","aria-checked":g,"aria-required":r,"data-state":pe(g),"data-disabled":n?"":void 0,disabled:n,value:x,...v,ref:l,onClick:Ne(i.onClick,u=>{j(k=>!k),w&&(m.current=u.isPropagationStopped(),m.current||u.stopPropagation())})}),w&&t.jsx(ue,{control:f,bubbles:!m.current,name:o,value:x,checked:g,required:r,disabled:n,form:d,style:{transform:"translateX(-100%)"}})]})});ne.displayName=K;var de="SwitchThumb",me=N.forwardRef((i,e)=>{const{__scopeSwitch:a,...o}=i,s=Fe(de,a);return t.jsx(le.span,{"data-state":pe(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:e})});me.displayName=de;var He="SwitchBubbleInput",ue=N.forwardRef(({__scopeSwitch:i,control:e,checked:a,bubbles:o=!0,...s},c)=>{const r=N.useRef(null),n=ie(r,c),x=ke(a),y=Se(e);return N.useEffect(()=>{const d=r.current;if(!d)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(x!==a&&b){const l=new Event("click",{bubbles:o});b.call(d,a),d.dispatchEvent(l)}},[x,a,o]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...s,tabIndex:-1,ref:n,style:{...s.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ue.displayName=He;function pe(i){return i?"checked":"unchecked"}var Me=ne,Le=me;function Oe(i){const e=ce.c(9);let a,o;e[0]!==i?({className:a,...o}=i,e[0]=i,e[1]=a,e[2]=o):(a=e[1],o=e[2]);let s;e[3]!==a?(s=D("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),e[3]=a,e[4]=s):s=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(Le,{"data-slot":"switch-thumb",className:D("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=c):c=e[5];let r;return e[6]!==o||e[7]!==s?(r=t.jsx(Me,{"data-slot":"switch",className:s,...o,children:c}),e[6]=o,e[7]=s,e[8]=r):r=e[8],r}function dt(i){const e=ce.c(73),{totalScore:a,setTotalScore:o,typePercentages:s,setTypePercentages:c,questionTypes:r,autoPoints:n,setAutoPoints:x}=i;let y,d;e[0]!==r||e[1]!==c||e[2]!==s?(y=()=>{if(r.length>0&&Object.keys(s).length===0){const p=parseFloat((100/r.length).toFixed(2)),Q=r.reduce((h,$,se)=>{const{type:ae}=$;if(se===r.length-1){const fe=100-p*(r.length-1);h[ae]=parseFloat(fe.toFixed(2))}else h[ae]=p;return h},{});c(Q)}},d=[r,s,c],e[0]=r,e[1]=c,e[2]=s,e[3]=y,e[4]=d):(y=e[3],d=e[4]),N.useEffect(y,d);let v;e[5]!==c?(v=(p,Q)=>{const h=Math.min(100,Math.max(0,Number(Q)));c($=>({...$,[p]:h}))},e[5]=c,e[6]=v):v=e[6];const f=v;let b;e[7]!==s?(b=Object.values(s).reduce($e,0),e[7]=s,e[8]=b):b=e[8];const l=b,m=l!==100;let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs(he,{className:"bg-muted/30 border-b border-border py-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_e,{className:"w-5 h-5 text-primary"}),t.jsx(xe,{className:"text-lg text-title",children:"Scoring Logic"})]}),t.jsx(be,{className:"text-description",children:"Define how points are distributed across your quiz."})]}),e[9]=w):w=e[9];let g;e[10]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(re,{className:"text-sm font-bold text-subtitle",children:"Quiz Total Points"}),e[10]=g):g=e[10];let j;e[11]!==o?(j=p=>o(Number(p.target.value)),e[11]=o,e[12]=j):j=e[12];let u;e[13]!==j||e[14]!==a?(u=t.jsx(oe,{type:"number",min:1,className:"h-12 text-lg font-black pl-10 bg-background border-input focus:ring-ring",value:a,onChange:j}),e[13]=j,e[14]=a,e[15]=u):u=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(Pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e[16]=k):k=e[16];let S;e[17]!==u?(S=t.jsxs("div",{className:"space-y-2",children:[g,t.jsxs("div",{className:"relative",children:[u,k]})]}),e[17]=u,e[18]=S):S=e[18];let U;e[19]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("hr",{className:"border-border"}),e[19]=U):U=e[19];let W;e[20]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(re,{className:"text-sm font-bold text-subtitle",children:"Weighting by Type"}),e[20]=W):W=e[20];const V=m?"bg-destructive/10 text-destructive":"bg-success/10 text-success";let C;e[21]!==V?(C=D("flex items-center gap-1.5 px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-tighter transition-colors",V),e[21]=V,e[22]=C):C=e[22];let _;e[23]!==m?(_=m?t.jsx(Ee,{className:"w-3 h-3"}):t.jsx(Te,{className:"w-3 h-3"}),e[23]=m,e[24]=_):_=e[24];let P;e[25]!==C||e[26]!==_||e[27]!==l?(P=t.jsxs("div",{className:"flex items-center justify-between",children:[W,t.jsxs("div",{className:C,children:[_,l,"% / 100%"]})]}),e[25]=C,e[26]=_,e[27]=l,e[28]=P):P=e[28];let E;if(e[29]!==f||e[30]!==r||e[31]!==s){let p;e[33]!==f||e[34]!==s?(p=Q=>{const{type:h,count:$}=Q;return t.jsxs("div",{className:"flex items-center justify-between gap-4 group",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs font-bold text-body capitalize",children:h.replace("_"," ")}),t.jsxs("span",{className:"text-[10px] text-description font-medium italic",children:[$," ",$===1?"Question":"Questions"]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"relative",children:[t.jsx(oe,{type:"number",min:0,max:100,value:s[h]??0,onChange:se=>f(h,se.target.value),className:"w-20 h-9 pr-7 text-right font-bold bg-background border-input text-body focus:ring-ring"}),t.jsx(ze,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-muted-foreground"})]})})]},h)},e[33]=f,e[34]=s,e[35]=p):p=e[35],E=r.map(p),e[29]=f,e[30]=r,e[31]=s,e[32]=E}else E=e[32];let T;e[36]!==E?(T=t.jsx("div",{className:"space-y-3 bg-muted/20 p-4 rounded-xl border border-border",children:E}),e[36]=E,e[37]=T):T=e[37];const Y=m?"[&>div]:bg-destructive":"[&>div]:bg-success";let R;e[38]!==Y?(R=D("h-1.5 transition-all bg-muted",Y),e[38]=Y,e[39]=R):R=e[39];let I;e[40]!==R||e[41]!==l?(I=t.jsx(Ce,{value:l,className:R}),e[40]=R,e[41]=l,e[42]=I):I=e[42];const Z=m?"text-destructive italic":"text-success";let q;e[43]!==Z?(q=D("text-[10px] font-medium text-center",Z),e[43]=Z,e[44]=q):q=e[44];const ee=m?`Error: Total weighting must equal 100% (currently ${l}%)`:"Weighting is balanced perfectly!";let z;e[45]!==q||e[46]!==ee?(z=t.jsx("p",{className:q,children:ee}),e[45]=q,e[46]=ee,e[47]=z):z=e[47];let A;e[48]!==I||e[49]!==z?(A=t.jsxs("div",{className:"space-y-1.5 px-1",children:[I,z]}),e[48]=I,e[49]=z,e[50]=A):A=e[50];let B;e[51]!==P||e[52]!==T||e[53]!==A?(B=t.jsxs("div",{className:"space-y-4",children:[P,T,A]}),e[51]=P,e[52]=T,e[53]=A,e[54]=B):B=e[54];let F;e[55]!==S||e[56]!==B?(F=t.jsxs(ge,{className:"space-y-6",children:[S,U,B]}),e[55]=S,e[56]=B,e[57]=F):F=e[57];let X;e[58]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(re,{htmlFor:"auto",className:"text-sm font-bold text-subtitle cursor-pointer",children:"Smart Point Allocation"}),t.jsx("p",{className:"text-[10px] text-description font-medium",children:"Automatically divide total score by type weights."})]}),e[58]=X):X=e[58];const te=n?"bg-primary/20 text-primary":"bg-muted text-muted-foreground";let H;e[59]!==te?(H=D("p-1.5 rounded-lg transition-colors",te),e[59]=te,e[60]=H):H=e[60];let G;e[61]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(Ie,{className:"w-4 h-4"}),e[61]=G):G=e[61];let M;e[62]!==H?(M=t.jsx("div",{className:H,children:G}),e[62]=H,e[63]=M):M=e[63];let L;e[64]!==n||e[65]!==x?(L=t.jsx(Oe,{id:"auto",checked:n,onCheckedChange:x,className:"data-[state=checked]:bg-primary"}),e[64]=n,e[65]=x,e[66]=L):L=e[66];let O;e[67]!==M||e[68]!==L?(O=t.jsxs(ye,{className:"bg-muted/30 border-t border-border p-6 flex items-center justify-between",children:[X,t.jsxs("div",{className:"flex items-center gap-3",children:[M,L]})]}),e[67]=M,e[68]=L,e[69]=O):O=e[69];let J;return e[70]!==F||e[71]!==O?(J=t.jsxs(ve,{className:"border-border bg-card text-card-foreground shadow-xl shadow-primary/5 overflow-hidden py-0",children:[w,F,O]}),e[70]=F,e[71]=O,e[72]=J):J=e[72],J}function $e(i,e){return i+e}export{dt as default};
