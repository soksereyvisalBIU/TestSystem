import{c as W,r as q,j as e,H as Y,A as tt,m as H}from"./app-DOexATz8.js";import{A as et}from"./AssessmentSkeleton-DIBBCAWp.js";import{A as J}from"./app-layout-CQOHcJhl.js";import{d as m}from"./dayjs.min-CnGYDrgm.js";import{ActionButtons as rt}from"./ActionButtons-TIzbOw0o.js";import{AssessmentHeader as st}from"./AssessmentHeader-DTZXIGgq.js";import{AssessmentStatusContent as it}from"./AssessmentStatusContent-B6UuZwVj.js";import{InfoGrid as at}from"./InfoGrid-BgJNV-fX.js";import{u as ot,t as mt,r as lt}from"./utc-2ZrOg4W8.js";import{d as nt}from"./duration-CMFRnr51.js";import"./app-Dkd-uU77.js";import"./index-BCjrxXRD.js";import"./index-DQ5CcXw7.js";import"./index-Dghi0PCu.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./button-BRVN6i6H.js";import"./dialog-TFrJjmZh.js";import"./index-BZcpqnGn.js";import"./index-DM2N5xoF.js";import"./index-BiXTY-N1.js";import"./index-BEPutMgU.js";import"./index-CsaJF3T3.js";import"./index-CbEB6B2s.js";import"./index-D8NCBvGj.js";import"./x-xRkXIo8D.js";import"./createLucideIcon-j6D0D3Y_.js";import"./tooltip-ByYNg7VM.js";import"./index-DI0Uf7dS.js";import"./index-CPEYA-OZ.js";import"./index-C8DTQ8L6.js";import"./index-D2V0qVjz.js";import"./index-Z9JsAk8n.js";import"./avatar-_pMFpJ1a.js";import"./index-C5FbGKEL.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-BJUssI3G.js";import"./search-BJrQLS36.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-B6GRV3HK.js";import"./layout-grid-BfACZU2C.js";import"./users-YRzjUlzr.js";import"./settings-2-CHSmb4cp.js";import"./cpu-Dh4fUxB8.js";import"./book-open--LA4IL-m.js";import"./chevron-right-CqdRtJ2F.js";import"./appearance-tabs-header-CF3ajYXV.js";import"./sun-BG-XGb8r.js";import"./loader-circle-xDQqgRtj.js";import"./play-DzHkeGci.js";import"./circle-plus-B2T26ofK.js";import"./arrow-right-Cr5VBfnV.js";import"./circle-check-BbXVY_J9.js";import"./sparkles-B9N20wy8.js";import"./file-check-6yq4XLlD.js";import"./AssessmentResultCard-D7C0zdYz.js";import"./confetti.module-Cx83yTHA.js";import"./use-transform-M7KT3T3P.js";import"./StatusCards-B0rXYyO4.js";import"./hourglass-D5gGpz9E.js";import"./CountdownTimer-DwwWpHuF.js";import"./layers-DEMtcPp7.js";import"./clock-JNa168ul.js";import"./refresh-cw-D6F8OfQv.js";const ct=(g,t,r,l)=>{if(!g)return"LOADING";const v=m(t.start_time),o=m(t.end_time),a=r?.attempted_amount??0,n=t.max_attempts,j=n===0||a<n;return r?.status==="scored"||l?.status==="graded"?"GRADED":l?.status==="draft"?"RESUME":g.isBefore(v)?"UPCOMING":g.isAfter(o)?"EXPIRED":j?"ACTIVE":l?.status==="submitted"&&l.score===void 0?"PENDING_GRADING":"NO_ATTEMPTS_LEFT"};m.extend(ot);m.extend(mt);m.extend(lt);m.extend(nt);function je(g){const t=W.c(62),{assessment:r,class_id:l,subject_id:v,studentAssessment:o,studentAssessmentAttempt:a}=g,[n,j]=q.useState(null);let A,N;t[0]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{j(m());const i=setInterval(()=>j(m()),6e4);return()=>clearInterval(i)},N=[],t[0]=A,t[1]=N):(A=t[0],N=t[1]),q.useEffect(A,N);let V;t:{if(!n){V=null;break t}let i;t[2]!==r||t[3]!==n||t[4]!==o||t[5]!==a?(i=ct(n,r,o,a),t[2]=r,t[3]=n,t[4]=o,t[5]=a,t[6]=i):i=t[6],V=i}const s=V;let S;t[7]===Symbol.for("react.memo_cache_sentinel")?(S=()=>j(m()),t[7]=S):S=t[7];const K=S;if(!n||!s){let i;t[8]===Symbol.for("react.memo_cache_sentinel")?(i=[{title:"Assessments",href:"#"}],t[8]=i):i=t[8];let z;return t[9]===Symbol.for("react.memo_cache_sentinel")?(z=e.jsx(J,{breadcrumbs:i,children:e.jsx("div",{className:"flex min-h-[80vh] items-center justify-center p-4",children:e.jsx(et,{})})}),t[9]=z):z=t[9],z}let E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E={ACTIVE:"from-emerald-500/10 via-transparent to-transparent",UPCOMING:"from-amber-500/10 via-transparent to-transparent",COMPLETED:"from-blue-500/10 via-transparent to-transparent",EXPIRED:"from-red-500/10 via-transparent to-transparent"},t[10]=E):E=t[10];const Q=E;let I;t[11]===Symbol.for("react.memo_cache_sentinel")?(I=[{title:"Assessments",href:"#"}],t[11]=I):I=t[11];let c;t[12]!==r.title?(c=e.jsx(Y,{title:r.title}),t[12]=r.title,t[13]=c):c=t[13];const B=`relative flex min-h-[92vh] flex-col items-center justify-center overflow-hidden px-3 py-6 sm:px-4 sm:py-12 transition-colors duration-1000 bg-gradient-to-br ${Q[s]||""}`;let w;t[14]===Symbol.for("react.memo_cache_sentinel")?(w=e.jsx("div",{className:"absolute top-0 left-1/2 -z-10 h-[300px] w-[300px] sm:h-[500px] sm:w-[500px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-primary/5 blur-[80px] sm:blur-[120px]"}),t[14]=w):w=t[14];let k,P,T;t[15]===Symbol.for("react.memo_cache_sentinel")?(k={opacity:0,y:20},P={opacity:1,y:0},T={type:"spring",damping:25,stiffness:120},t[15]=k,t[16]=P,t[17]=T):(k=t[15],P=t[16],T=t[17]);let p;t[18]!==r.description||t[19]!==r.title?(p=e.jsx("div",{className:"relative overflow-hidden bg-gray-50/50 p-0.5 dark:bg-gray-800/50",children:e.jsx(st,{title:r.title,description:r.description})}),t[18]=r.description,t[19]=r.title,t[20]=p):p=t[20];let C,D,G,R;t[21]===Symbol.for("react.memo_cache_sentinel")?(C={opacity:0,scale:.98},D={opacity:1,scale:1},G={opacity:0,scale:1.02},R={duration:.2},t[21]=C,t[22]=D,t[23]=G,t[24]=R):(C=t[21],D=t[22],G=t[23],R=t[24]);let d;t[25]!==r||t[26]!==s||t[27]!==o||t[28]!==a?(d=e.jsx(it,{currentStatus:s,assessment:r,studentAssessment:o,studentAssessmentAttempt:a,onTimerZero:K}),t[25]=r,t[26]=s,t[27]=o,t[28]=a,t[29]=d):d=t[29];let f;t[30]!==s||t[31]!==d?(f=e.jsx(tt,{mode:"wait",children:e.jsx(H.div,{initial:C,animate:D,exit:G,transition:R,className:"relative z-10",children:d},s)}),t[30]=s,t[31]=d,t[32]=f):f=t[32];let L;t[33]===Symbol.for("react.memo_cache_sentinel")?(L=e.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:e.jsx("div",{className:"w-full border-t border-gray-100 dark:border-gray-800"})}),t[33]=L):L=t[33];let M;t[34]===Symbol.for("react.memo_cache_sentinel")?(M=e.jsxs("div",{className:"relative py-1",children:[L,e.jsx("div",{className:"relative flex justify-center",children:e.jsx("span",{className:"bg-white px-2 text-[10px] font-bold uppercase tracking-widest text-gray-400 dark:bg-gray-900",children:"Assessment Details"})})]}),t[34]=M):M=t[34];const X=o?.attempted_amount??0,$=s==="ACTIVE";let u;t[35]!==r||t[36]!==X||t[37]!==$?(u=e.jsx("div",{className:"rounded-2xl bg-gray-50/40 p-3 sm:p-4 dark:bg-gray-800/30",children:e.jsx(at,{assessment:r,attemptsUsed:X,highlightAttempts:$})}),t[35]=r,t[36]=X,t[37]=$,t[38]=u):u=t[38];const F=a?.id,Z=a?.status;let x;t[39]!==r.id||t[40]!==l||t[41]!==s||t[42]!==v||t[43]!==F||t[44]!==Z?(x=e.jsx(H.div,{layout:!0,className:"pt-1",children:e.jsx(rt,{currentStatus:s,classId:l,subjectId:v,assessmentId:r.id,attemptId:F,attemptStatus:Z})}),t[39]=r.id,t[40]=l,t[41]=s,t[42]=v,t[43]=F,t[44]=Z,t[45]=x):x=t[45];let h;t[46]!==f||t[47]!==u||t[48]!==x?(h=e.jsxs("div",{className:"space-y-2 xs:space-y-4 p-4 sm:p-8 sm:pt-2",children:[f,M,u,x]}),t[46]=f,t[47]=u,t[48]=x,t[49]=h):h=t[49];let y;t[50]!==p||t[51]!==h?(y=e.jsxs("div",{className:"group overflow-hidden rounded-3xl sm:rounded-[2.5rem] border border-white/20 bg-white/90 shadow-[0_24px_48px_-12px_rgba(0,0,0,0.1)] backdrop-blur-xl dark:border-gray-700/50 dark:bg-gray-900/90",children:[p,h]}),t[50]=p,t[51]=h,t[52]=y):y=t[52];let O;t[53]===Symbol.for("react.memo_cache_sentinel")?(O=e.jsx(H.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 px-6 text-center text-[11px] leading-relaxed text-gray-500 dark:text-gray-400",children:"Please ensure a stable connection. If you get disconnected, you can resume your attempt within the time limit."}),t[53]=O):O=t[53];let b;t[54]!==y?(b=e.jsxs(H.div,{initial:k,animate:P,transition:T,className:"relative w-full max-w-2xl",children:[y,O]}),t[54]=y,t[55]=b):b=t[55];let _;t[56]!==b||t[57]!==B?(_=e.jsxs("div",{className:B,children:[w,b]}),t[56]=b,t[57]=B,t[58]=_):_=t[58];let U;return t[59]!==_||t[60]!==c?(U=e.jsxs(J,{breadcrumbs:I,children:[c,_]}),t[59]=_,t[60]=c,t[61]=U):U=t[61],U}export{je as default};
