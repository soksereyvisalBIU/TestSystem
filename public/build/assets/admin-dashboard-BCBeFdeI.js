import{S as re,n as U,s as ie,r as ae,u as X,a as w,b as ne,R as oe,d as T,t as Z,j as s,c as Y}from"./app-D3v83aNE.js";import{B as le}from"./button-CkZfxf4k.js";import{L as ce}from"./loader-circle-Dnga2KxL.js";import{C as de}from"./circle-check-big-B2J0Fe86.js";import{T as me}from"./triangle-alert-Ck9F925P.js";import{Z as ee}from"./zap-BiT5iujU.js";import{A as ue}from"./app-layout-CZjyt6Bj.js";import{Q as te,u as he,a as pe,e as xe,b as fe,c as ge,s as W,f as G,w as be,g as ve}from"./suspense-TcmUC-nK.js";import{C as ye}from"./circle-check-CdY3rOqM.js";import{A as je}from"./activity-CDYvkzfV.js";import{c as se}from"./createLucideIcon-Bx5B_t47.js";import{R as we}from"./refresh-cw-d-Kmu63P.js";import{C as Ne}from"./appearance-tabs-header-D-Fh74tB.js";import{T as _e}from"./terminal-BFizAn2j.js";import{H as ke}from"./hard-drive-CMFQCVeJ.js";/* empty css            */import"./index-Cifq7s8n.js";import"./index-B3W9NeVP.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./index-BxyYlp3t.js";import"./dialog-CGkf8qx2.js";import"./index-BkjJeiVU.js";import"./index-DSCjTn9X.js";import"./index-msESsogX.js";import"./index-C-cUUGjt.js";import"./index-dC8YG1Mj.js";import"./index-DCVabXTp.js";import"./index-Bk4iotEb.js";import"./x-Bp5xAbVl.js";import"./tooltip-DvxyFyoO.js";import"./index-DtiKGPcz.js";import"./index-B0Xsg3al.js";import"./index-Bz3y0_w_.js";import"./index-B5ny6Fz2.js";import"./index-CeZ2-dZm.js";import"./avatar-BaSzT9LI.js";import"./index-BEDIOPDU.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-DpLf9FTD.js";import"./search-CiqbTfau.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-Cp5cERZq.js";import"./layout-grid-YL4wIruB.js";import"./users-9yJrgc_c.js";import"./settings-2-9ujR7KCJ.js";import"./book-open-21xbYr3z.js";import"./chevron-right-AbhQ5mGS.js";import"./sun-BXaJEomN.js";function J(e,t){const i=new Set(t);return e.filter(a=>!i.has(a))}function Ce(e,t,i){const a=e.slice(0);return a[t]=i,a}var Re=class extends re{#r;#e;#i;#a;#t;#s;#n;#o;#l=[];constructor(e,t,i){super(),this.#r=e,this.#a=i,this.#i=[],this.#t=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#t.forEach(e=>{e.subscribe(t=>{this.#u(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#t.forEach(e=>{e.destroy()})}setQueries(e,t){this.#i=e,this.#a=t,U.batch(()=>{const i=this.#t,a=this.#m(this.#i);this.#l=a,a.forEach(n=>n.observer.setOptions(n.defaultedQueryOptions));const r=a.map(n=>n.observer),o=r.map(n=>n.getCurrentResult()),l=i.length!==r.length,h=r.some((n,u)=>n!==i[u]),m=l||h,x=m?!0:o.some((n,u)=>{const f=this.#e[u];return!f||!ie(n,f)});!m&&!x||(m&&(this.#t=r),this.#e=o,this.hasListeners()&&(m&&(J(i,r).forEach(n=>{n.destroy()}),J(r,i).forEach(n=>{n.subscribe(u=>{this.#u(n,u)})})),this.#h()))})}getCurrentResult(){return this.#e}getQueries(){return this.#t.map(e=>e.getCurrentQuery())}getObservers(){return this.#t}getOptimisticResult(e,t){const i=this.#m(e),a=i.map(r=>r.observer.getOptimisticResult(r.defaultedQueryOptions));return[a,r=>this.#d(r??a,t),()=>this.#c(a,i)]}#c(e,t){return t.map((i,a)=>{const r=e[a];return i.defaultedQueryOptions.notifyOnChangeProps?r:i.observer.trackResult(r,o=>{t.forEach(l=>{l.observer.trackProp(o)})})})}#d(e,t){return t?((!this.#s||this.#e!==this.#o||t!==this.#n)&&(this.#n=t,this.#o=this.#e,this.#s=ae(this.#s,t(e))),this.#s):e}#m(e){const t=new Map;this.#t.forEach(a=>{const r=a.options.queryHash;if(!r)return;const o=t.get(r);o?o.push(a):t.set(r,[a])});const i=[];return e.forEach(a=>{const r=this.#r.defaultQueryOptions(a),l=t.get(r.queryHash)?.shift()??new te(this.#r,r);i.push({defaultedQueryOptions:r,observer:l})}),i}#u(e,t){const i=this.#t.indexOf(e);i!==-1&&(this.#e=Ce(this.#e,i,t),this.#h())}#h(){if(this.hasListeners()){const e=this.#s,t=this.#c(this.#e,this.#l),i=this.#d(t,this.#a?.combine);e!==i&&U.batch(()=>{this.listeners.forEach(a=>{a(this.#e)})})}}};function Se({queries:e,...t},i){const a=X(),r=he(),o=pe(),l=w.useMemo(()=>e.map(c=>{const p=a.defaultQueryOptions(c);return p._optimisticResults=r?"isRestoring":"optimistic",p}),[e,a,r]);l.forEach(c=>{xe(c),fe(c,o)}),ge(o);const[h]=w.useState(()=>new Re(a,l,t)),[m,x,n]=h.getOptimisticResult(l,t.combine),u=!r&&t.subscribed!==!1;w.useSyncExternalStore(w.useCallback(c=>u?h.subscribe(U.batchCalls(c)):ne,[h,u]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),w.useEffect(()=>{h.setQueries(l,t)},[l,t,h]);const g=m.some((c,p)=>W(l[p],c))?m.flatMap((c,p)=>{const d=l[p];if(d){const v=new te(a,d);if(W(d,c))return G(d,v,o);be(c,r)&&G(d,v,o)}return[]}):[];if(g.length>0)throw Promise.all(g);const b=m.find((c,p)=>{const d=l[p];return d&&ve({result:c,errorResetBoundary:o,throwOnError:d.throwOnError,query:a.getQueryCache().get(d.queryHash),suspense:d.suspense})});if(b?.error)throw b.error;return x(n())}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ze=se("Database",Oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qe=se("Shield",Ee),Ae=({label:e,endpoint:t,danger:i,onSuccess:a})=>{const[r,o]=w.useState("idle"),l=w.useRef(0),h=w.useCallback(async()=>{const x=Date.now();if(!(x-l.current<2e3||r==="loading")&&!(i&&!window.confirm(`Critical Operation: Are you sure you want to ${e}?`))){o("loading"),l.current=x;try{const{data:n}=await T.post(t,{},{timeout:15e3});o("success"),Z.success(n?.message||`${e} executed successfully`),a?.(),setTimeout(()=>o("idle"),2e3)}catch(n){o("error");const u=n.response?.data?.message||"Execution failed";Z.error(u,{description:"Check Laravel logs for kernel details."}),setTimeout(()=>o("idle"),3e3)}}},[t,e,i,a,r]),m=()=>i?"bg-red-500/10 text-red-500 border-red-500/20 hover:bg-red-500 hover:text-white hover:shadow-[0_0_20px_rgba(239,68,68,0.4)]":r==="success"?"bg-emerald-500 text-white border-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.4)]":"bg-slate-900/5 text-slate-700 border-slate-200 hover:bg-slate-900 hover:text-white hover:border-slate-900";return s.jsxs(le,{onClick:h,disabled:r==="loading",className:`
                group relative flex w-full items-center justify-between gap-3 overflow-hidden 
                rounded-2xl border px-5 py-6 text-xs font-black uppercase tracking-widest 
                transition-all duration-300 active:scale-[0.97] disabled:cursor-not-allowed
                ${m()}
            `,children:[r==="loading"&&s.jsx("div",{className:"absolute inset-0 bg-current opacity-10 animate-pulse"}),s.jsxs("div",{className:"flex items-center gap-3",children:[r==="loading"?s.jsx(ce,{size:16,className:"animate-spin"}):r==="success"?s.jsx(de,{size:16,className:"animate-in zoom-in"}):i?s.jsx(me,{size:16,className:"transition-transform group-hover:scale-110"}):s.jsx(ee,{size:16,className:"text-indigo-500 transition-transform group-hover:rotate-12"}),s.jsx("span",{className:"relative z-10",children:e})]}),s.jsx("div",{className:`transition-transform duration-300 ${r==="loading"?"translate-x-4 opacity-0":"group-hover:translate-x-1"}`,children:s.jsx("div",{className:"h-1 w-1 rounded-full bg-current opacity-50"})})]})},N=oe.memo(Ae),V=w.memo(e=>{const t=Y.c(31),{title:i,value:a,sub:r,icon:o,color:l,trend:h}=e;let m;t[0]!==o?(m=s.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12",children:s.jsx(o,{size:120})}),t[0]=o,t[1]=m):m=t[1];const x=`flex h-12 w-12 items-center justify-center rounded-2xl ${l} bg-opacity-10 shadow-inner`;let n;t[2]!==l?(n=l.replace("bg-","text-"),t[2]=l,t[3]=n):n=t[3];let u;t[4]!==o||t[5]!==n?(u=s.jsx(o,{size:24,className:n}),t[4]=o,t[5]=n,t[6]=u):u=t[6];let f;t[7]!==x||t[8]!==u?(f=s.jsx("div",{className:x,children:u}),t[7]=x,t[8]=u,t[9]=f):f=t[9];let g;t[10]!==i?(g=s.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] text-slate-400 uppercase",children:i}),t[10]=i,t[11]=g):g=t[11];let b;t[12]!==a?(b=s.jsx("h2",{className:"text-3xl font-black tracking-tight text-slate-900",children:a}),t[12]=a,t[13]=b):b=t[13];let c;t[14]!==h?(c=h&&s.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:h}),t[14]=h,t[15]=c):c=t[15];let p;t[16]!==b||t[17]!==c?(p=s.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[b,c]}),t[16]=b,t[17]=c,t[18]=p):p=t[18];let d;t[19]!==r?(d=s.jsx("p",{className:"mt-1 text-xs font-medium text-slate-500/80 italic",children:r}),t[19]=r,t[20]=d):d=t[20];let v;t[21]!==d||t[22]!==g||t[23]!==p?(v=s.jsxs("div",{children:[g,p,d]}),t[21]=d,t[22]=g,t[23]=p,t[24]=v):v=t[24];let y;t[25]!==v||t[26]!==f?(y=s.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[f,v]}),t[25]=v,t[26]=f,t[27]=y):y=t[27];let j;return t[28]!==m||t[29]!==y?(j=s.jsxs("div",{className:"group relative overflow-hidden rounded-[2rem] border border-white/40 bg-white/80 p-6 backdrop-blur-xl transition-all duration-300 hover:-translate-y-2 hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] hover:border-indigo-200",children:[m,y]}),t[28]=m,t[29]=y,t[30]=j):j=t[30],j}),Bt=()=>{const e=Y.c(51),t=X();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={queries:[{queryKey:["admin","sys"],queryFn:Me,refetchInterval:3e4},{queryKey:["admin","db"],queryFn:$e},{queryKey:["admin","storage"],queryFn:Te}]},e[0]=i):i=e[0];const a=Se(i),[r,o,l]=a;let h;e[1]!==a?(h=a.some(De),e[1]=a,e[2]=h):h=e[2];const m=h;let x;e[3]!==t?(x=()=>t.invalidateQueries({queryKey:["admin"]}),e[3]=t,e[4]=x):x=e[4];const n=x;let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 via-purple-500 to-cyan-400 opacity-20"}),e[5]=u):u=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"absolute -inset-1 animate-pulse rounded-2xl bg-indigo-500 opacity-20 blur-lg transition group-hover:opacity-50"}),e[6]=f):f=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("div",{className:"group relative",children:[f,s.jsx("div",{className:"relative flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-600 to-violet-700 shadow-2xl",children:s.jsx(Qe,{size:38,className:"text-white"})})]}),e[7]=g):g=e[7];let b;e[8]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-white uppercase sm:text-5xl",children:["Nexus",s.jsx("span",{className:"text-indigo-500",children:"OS"})]}),s.jsx("span",{className:"rounded-full bg-indigo-500/10 px-3 py-1 text-[10px] font-black text-indigo-400 border border-indigo-500/20",children:"v4.0.2"})]}),e[8]=b):b=e[8];let c;e[9]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsxs("div",{className:"flex items-center gap-6",children:[g,s.jsxs("div",{children:[b,s.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-mono text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:[s.jsx("span",{className:"flex h-2 w-2 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"}),"System Optimized"]}),s.jsx("div",{className:"h-1 w-1 rounded-full bg-slate-700"}),s.jsx("div",{className:"font-mono text-[10px] font-bold text-slate-500 uppercase",children:"Node: primary-cluster-01"})]})]})]}),e[9]=c):c=e[9];const p=`${m?"animate-spin":"group-hover:rotate-180 transition-transform duration-500"}`;let d;e[10]!==p?(d=s.jsx(we,{size:18,className:p}),e[10]=p,e[11]=d):d=e[11];const v=m?"Syncing...":"Sync Telemetry";let y;e[12]!==v?(y=s.jsx("span",{children:v}),e[12]=v,e[13]=y):y=e[13];let j;e[14]!==m||e[15]!==n||e[16]!==y||e[17]!==d?(j=s.jsxs("header",{className:"relative mb-10 overflow-hidden rounded-[3rem] bg-slate-950 p-1px shadow-2xl transition-all",children:[u,s.jsxs("div",{className:"relative flex flex-col justify-between gap-6 bg-slate-950/90 p-8 backdrop-blur-3xl md:flex-row md:items-center",children:[c,s.jsxs("button",{onClick:n,disabled:m,className:"group relative flex items-center gap-3 overflow-hidden rounded-2xl bg-white px-8 py-4 text-sm font-black uppercase tracking-tighter text-slate-950 transition-all hover:pr-10 active:scale-95 disabled:opacity-50",children:[d,y]})]})]}),e[14]=m,e[15]=n,e[16]=y,e[17]=d,e[18]=j):j=e[18];const D=r.data?.hardware?.load[0]||"0.00",F=`PHP ${r.data?.engine?.php} Runtime`;let _;e[19]!==D||e[20]!==F?(_=s.jsx(V,{title:"Core Load",value:D,sub:F,icon:Ne,color:"bg-blue-500",trend:"+2.1%"}),e[19]=D,e[20]=F,e[21]=_):_=e[21];const P=`${o.data?.size_mb||0} MB`,H=`${o.data?.open_connections} Active Sockets`;let k;e[22]!==P||e[23]!==H?(k=s.jsx(V,{title:"Data Density",value:P,sub:H,icon:ze,color:"bg-indigo-500"}),e[22]=P,e[23]=H,e[24]=k):k=e[24];const I=r.data?.hardware?.memory_usage||"0 B",K=r.data?.engine?.opcache?"L2 Cache Optimized":"Cache Bypassed";let C;e[25]!==I||e[26]!==K?(C=s.jsx(V,{title:"Memory Map",value:I,sub:K,icon:ee,color:"bg-amber-500"}),e[25]=I,e[26]=K,e[27]=C):C=e[27];let R;e[28]!==_||e[29]!==k||e[30]!==C?(R=s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[_,k,C]}),e[28]=_,e[29]=k,e[30]=C,e[31]=R):R=e[31];let A;e[32]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsxs("div",{className:"mb-10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-950 text-white",children:s.jsx(_e,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black tracking-tight text-slate-900",children:"Artisan Control"}),s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Kernel Operations"})]})]}),s.jsx("div",{className:"hidden h-px flex-1 bg-slate-100 mx-8 lg:block"})]}),e[32]=A):A=e[32];let q;e[33]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsxs("section",{className:"group rounded-[3rem] border border-slate-200 bg-white p-10 shadow-xl transition-all hover:border-indigo-100",children:[A,s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[s.jsx(N,{label:"Optimize",endpoint:"/admin/artisan/optimize"}),s.jsx(N,{label:"Rebuild Routes",endpoint:"/admin/artisan/route-cache"}),s.jsx(N,{label:"Refresh Config",endpoint:"/admin/artisan/config-cache"}),s.jsx(N,{label:"Purge Cache",endpoint:"/admin/artisan/cache-clear",danger:!0}),s.jsx(N,{label:"Run Migrations",endpoint:"/admin/artisan/migrate",danger:!0}),s.jsx(N,{label:"Flush Logs",endpoint:"/admin/logs/clear",danger:!0})]})]}),e[33]=q):q=e[33];let S;e[34]!==R?(S=s.jsxs("div",{className:"space-y-8 lg:col-span-8",children:[R,q]}),e[34]=R,e[35]=S):S=e[35];let M;e[36]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[s.jsx(ke,{size:22,className:"text-slate-400"}),s.jsx("h3",{className:"text-xl font-black tracking-tight",children:"Storage Nodes"})]}),e[36]=M):M=e[36];let O;e[37]!==l.data?(O=l.data&&Object.entries(l.data).map(Fe),e[37]=l.data,e[38]=O):O=e[38];let z;e[39]!==O?(z=s.jsxs("div",{className:"rounded-[3rem] border border-white bg-slate-50/50 p-8 shadow-sm backdrop-blur-md",children:[M,s.jsx("div",{className:"space-y-4",children:O})]}),e[39]=O,e[40]=z):z=e[40];let L;e[41]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("h3",{className:"mb-6 text-xl font-black",children:"Queue Telemetry"}),e[41]=L):L=e[41];let $;e[42]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs("div",{className:"rounded-[3rem] bg-indigo-600 p-8 text-white shadow-2xl shadow-indigo-200",children:[L,s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(N,{label:"Restart Cluster",endpoint:"/admin/artisan/queue-restart",className:"!bg-white/10 !border-white/20 !text-white hover:!bg-white/20"}),s.jsx(N,{label:"Flush Failures",endpoint:"/admin/artisan/queue-flush",danger:!0})]})]}),e[42]=$):$=e[42];let E;e[43]!==z?(E=s.jsxs("div",{className:"space-y-8 lg:col-span-4",children:[z,$]}),e[43]=z,e[44]=E):E=e[44];let Q;e[45]!==S||e[46]!==E?(Q=s.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-12",children:[S,E]}),e[45]=S,e[46]=E,e[47]=Q):Q=e[47];let B;return e[48]!==j||e[49]!==Q?(B=s.jsx(ue,{children:s.jsx("div",{className:"min-h-screen container mx-auto bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-slate-50 via-white to-indigo-50/30 p-6 lg:p-10",children:s.jsxs("div",{className:"mx-auto max-w-[1600px] animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[j,Q]})})}),e[48]=j,e[49]=Q,e[50]=B):B=e[50],B};function qe(e){return e.data}function Me(){return T.get("/admin/telemetry/system").then(qe)}function Le(e){return e.data}function $e(){return T.get("/admin/telemetry/database").then(Le)}function Be(e){return e.data}function Te(){return T.get("/admin/telemetry/storage").then(Be)}function De(e){return e.isFetching}function Fe(e){const[t,i]=e;return s.jsxs("div",{className:"group flex items-center justify-between rounded-3xl border border-slate-200 bg-white p-5 transition-all hover:scale-[1.02] hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${i.writable?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-red-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-black tracking-widest text-slate-400 uppercase",children:i.path}),s.jsx("p",{className:"font-mono text-lg font-bold text-slate-800",children:i.size})]})]}),i.writable?s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:s.jsx(ye,{size:20})}):s.jsx(je,{size:20,className:"animate-pulse text-red-500"})]},t)}export{Bt as default};
