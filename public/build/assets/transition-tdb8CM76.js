import{a as r,R as E,b as Ce}from"./app-C4-wZLjv.js";import{o as R,p as re,n as A,a as le,s as V,K as B,L as ie,O as Ee,b as ye,c as w,u as se,m as Fe,t as Re}from"./appearance-tabs-header-DkuhK1KQ.js";let Te=Symbol();function ae(...e){let n=r.useRef(e);r.useEffect(()=>{n.current=e},[e]);let t=R(l=>{for(let s of n.current)s!=null&&(typeof s=="function"?s(l):s.current=l)});return e.every(l=>l==null||l?.[Te])?void 0:t}function $e(e=0){let[n,t]=r.useState(e),l=r.useCallback(i=>t(i),[n]),s=r.useCallback(i=>t(u=>u|i),[n]),v=r.useCallback(i=>(n&i)===i,[n]),c=r.useCallback(i=>t(u=>u&~i),[t]),f=r.useCallback(i=>t(u=>u^i),[t]);return{flags:n,setFlag:l,addFlag:s,hasFlag:v,removeFlag:c,toggleFlag:f}}var Se={},ne,te;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((ne=process==null?void 0:Se)==null?void 0:ne.NODE_ENV)==="test"&&typeof((te=Element?.prototype)==null?void 0:te.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var we=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(we||{});function xe(e){let n={};for(let t in e)e[t]===!0&&(n[`data-${t}`]="");return n}function Ae(e,n,t,l){let[s,v]=r.useState(t),{hasFlag:c,addFlag:f,removeFlag:i}=$e(e&&s?3:0),u=r.useRef(!1),m=r.useRef(!1),y=re();return A(()=>{var b;if(e){if(t&&v(!0),!n){t&&f(3);return}return(b=l?.start)==null||b.call(l,t),Pe(n,{inFlight:u,prepare(){m.current?m.current=!1:m.current=u.current,u.current=!0,!m.current&&(t?(f(3),i(4)):(f(4),i(2)))},run(){m.current?t?(i(3),f(4)):(i(4),f(3)):t?i(1):f(1)},done(){var o;m.current&&typeof n.getAnimations=="function"&&n.getAnimations().length>0||(u.current=!1,i(7),t||v(!1),(o=l?.end)==null||o.call(l,t))}})}},[e,t,n,y]),e?[s,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Pe(e,{prepare:n,run:t,done:l,inFlight:s}){let v=le();return He(e,{prepare:n,inFlight:s}),v.nextFrame(()=>{t(),v.requestAnimationFrame(()=>{v.add(Oe(e,l))})}),v.dispose}function Oe(e,n){var t,l;let s=le();if(!e)return s.dispose;let v=!1;s.add(()=>{v=!0});let c=(l=(t=e.getAnimations)==null?void 0:t.call(e).filter(f=>f instanceof CSSTransition))!=null?l:[];return c.length===0?(n(),s.dispose):(Promise.allSettled(c.map(f=>f.finished)).then(()=>{v||n()}),s.dispose)}function He(e,{inFlight:n,prepare:t}){if(n!=null&&n.current){t();return}let l=e.style.transition;e.style.transition="none",t(),e.offsetHeight,e.style.transition=l}let G=r.createContext(null);G.displayName="OpenClosedContext";var x=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(x||{});function ue(){return r.useContext(G)}function Le({value:e,children:n}){return E.createElement(G.Provider,{value:e},n)}function Ne(){let e=typeof document>"u";return(n=>n.useSyncExternalStore)(Ce)(()=>()=>{},()=>!1,()=>!e)}function oe(){let e=Ne(),[n,t]=r.useState(V.isHandoffComplete);return n&&V.isHandoffComplete===!1&&t(!1),r.useEffect(()=>{n!==!0&&t(!0)},[n]),r.useEffect(()=>V.handoff(),[]),e?!1:n}function ke(){let e=r.useRef(!1);return A(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ce(e){var n;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((n=e.as)!=null?n:de)!==r.Fragment||E.Children.count(e.children)===1}let M=r.createContext(null);M.displayName="TransitionContext";var je=(e=>(e.Visible="visible",e.Hidden="hidden",e))(je||{});function Me(){let e=r.useContext(M);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ue(){let e=r.useContext(U);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let U=r.createContext(null);U.displayName="NestingContext";function D(e){return"children"in e?D(e.children):e.current.filter(({el:n})=>n.current!==null).filter(({state:n})=>n==="visible").length>0}function fe(e,n){let t=ye(e),l=r.useRef([]),s=ke(),v=re(),c=R((o,a=w.Hidden)=>{let p=l.current.findIndex(({el:d})=>d===o);p!==-1&&(se(a,{[w.Unmount](){l.current.splice(p,1)},[w.Hidden](){l.current[p].state="hidden"}}),v.microTask(()=>{var d;!D(l)&&s.current&&((d=t.current)==null||d.call(t))}))}),f=R(o=>{let a=l.current.find(({el:p})=>p===o);return a?a.state!=="visible"&&(a.state="visible"):l.current.push({el:o,state:"visible"}),()=>c(o,w.Unmount)}),i=r.useRef([]),u=r.useRef(Promise.resolve()),m=r.useRef({enter:[],leave:[]}),y=R((o,a,p)=>{i.current.splice(0),n&&(n.chains.current[a]=n.chains.current[a].filter(([d])=>d!==o)),n?.chains.current[a].push([o,new Promise(d=>{i.current.push(d)})]),n?.chains.current[a].push([o,new Promise(d=>{Promise.all(m.current[a].map(([$,P])=>P)).then(()=>d())})]),a==="enter"?u.current=u.current.then(()=>n?.wait.current).then(()=>p(a)):p(a)}),b=R((o,a,p)=>{Promise.all(m.current[a].splice(0).map(([d,$])=>$)).then(()=>{var d;(d=i.current.shift())==null||d()}).then(()=>p(a))});return r.useMemo(()=>({children:l,register:f,unregister:c,onStart:y,onStop:b,wait:u,chains:m}),[f,c,l,y,b,m,u])}let de=r.Fragment,ve=Ee.RenderStrategy;function De(e,n){var t,l;let{transition:s=!0,beforeEnter:v,afterEnter:c,beforeLeave:f,afterLeave:i,enter:u,enterFrom:m,enterTo:y,entered:b,leave:o,leaveFrom:a,leaveTo:p,...d}=e,[$,P]=r.useState(null),h=r.useRef(null),T=ce(e),S=ae(...T?[h,n,P]:n===null?[]:[n]),Q=(t=d.unmount)==null||t?w.Unmount:w.Hidden,{show:C,appear:W,initial:X}=Me(),[F,I]=r.useState(C?"visible":"hidden"),Y=Ue(),{register:L,unregister:N}=Y;A(()=>L(h),[L,h]),A(()=>{if(Q===w.Hidden&&h.current){if(C&&F!=="visible"){I("visible");return}return se(F,{hidden:()=>N(h),visible:()=>L(h)})}},[F,h,L,N,C,Q]);let z=oe();A(()=>{if(T&&z&&F==="visible"&&h.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[h,F,z,T]);let me=X&&!W,Z=W&&C&&X,_=r.useRef(!1),k=fe(()=>{_.current||(I("hidden"),N(h))},Y),J=R(K=>{_.current=!0;let j=K?"enter":"leave";k.onStart(h,j,H=>{H==="enter"?v?.():H==="leave"&&f?.()})}),ee=R(K=>{let j=K?"enter":"leave";_.current=!1,k.onStop(h,j,H=>{H==="enter"?c?.():H==="leave"&&i?.()}),j==="leave"&&!D(k)&&(I("hidden"),N(h))});r.useEffect(()=>{T&&s||(J(C),ee(C))},[C,T,s]);let he=!(!s||!T||!z||me),[,g]=Ae(he,$,C,{start:J,end:ee}),ge=Fe({ref:S,className:((l=Re(d.className,Z&&u,Z&&m,g.enter&&u,g.enter&&g.closed&&m,g.enter&&!g.closed&&y,g.leave&&o,g.leave&&!g.closed&&a,g.leave&&g.closed&&p,!g.transition&&C&&b))==null?void 0:l.trim())||void 0,...xe(g)}),O=0;F==="visible"&&(O|=x.Open),F==="hidden"&&(O|=x.Closed),C&&F==="hidden"&&(O|=x.Opening),!C&&F==="visible"&&(O|=x.Closing);let be=ie();return E.createElement(U.Provider,{value:k},E.createElement(Le,{value:O},be({ourProps:ge,theirProps:d,defaultTag:de,features:ve,visible:F==="visible",name:"Transition.Child"})))}function Ie(e,n){let{show:t,appear:l=!1,unmount:s=!0,...v}=e,c=r.useRef(null),f=ce(e),i=ae(...f?[c,n]:n===null?[]:[n]);oe();let u=ue();if(t===void 0&&u!==null&&(t=(u&x.Open)===x.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,y]=r.useState(t?"visible":"hidden"),b=fe(()=>{t||y("hidden")}),[o,a]=r.useState(!0),p=r.useRef([t]);A(()=>{o!==!1&&p.current[p.current.length-1]!==t&&(p.current.push(t),a(!1))},[p,t]);let d=r.useMemo(()=>({show:t,appear:l,initial:o}),[t,l,o]);A(()=>{t?y("visible"):!D(b)&&c.current!==null&&y("hidden")},[t,b]);let $={unmount:s},P=R(()=>{var S;o&&a(!1),(S=e.beforeEnter)==null||S.call(e)}),h=R(()=>{var S;o&&a(!1),(S=e.beforeLeave)==null||S.call(e)}),T=ie();return E.createElement(U.Provider,{value:b},E.createElement(M.Provider,{value:d},T({ourProps:{...$,as:r.Fragment,children:E.createElement(pe,{ref:i,...$,...v,beforeEnter:P,beforeLeave:h})},theirProps:{},defaultTag:r.Fragment,features:ve,visible:m==="visible",name:"Transition"})))}function ze(e,n){let t=r.useContext(M)!==null,l=ue()!==null;return E.createElement(E.Fragment,null,!t&&l?E.createElement(q,{ref:n,...e}):E.createElement(pe,{ref:n,...e}))}let q=B(Ie),pe=B(De),_e=B(ze),qe=Object.assign(q,{Child:_e,Root:q});export{qe as z};
