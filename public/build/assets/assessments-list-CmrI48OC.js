import{c as X,g as J,a as V,j as s,L as K,m as P,A as Z}from"./app-qZM_P6kk.js";import{B}from"./button-Cu49OhpK.js";import{c as U,d as W,b as Y,a as ee,C as se}from"./card--P9xS6y-.js";import{I as te}from"./input-B34mZL1D.js";import{u as re}from"./useCan-8-wQ69hp.js";import{s as ae}from"./index-ikzcNs2d.js";import{AssessmentCard as ie}from"./assessment-card-DOS8e6Km.js";import{L as oe}from"./layout-grid-CK8QSpK0.js";import{S as $}from"./search-B1AUUKPB.js";import{B as ne}from"./book-open-o5ZyujDt.js";import{c as le}from"./createLucideIcon-B5oQhXDR.js";import{X as ce}from"./x-DfJvcH5v.js";import{P as me}from"./plus-D5zBjzb-.js";/* empty css            */import"./index-FDL-Y6Vk.js";import"./index-B5hr3jbO.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./badge-D_IJgucQ.js";import"./get-assessment-status-detail-DrAyaXyx.js";import"./circle-check-big-D3qBQ9fq.js";import"./clock-BoT_QSgg.js";import"./hourglass-DckfMewS.js";import"./triangle-alert-Dk1ZHRXf.js";import"./calendar-DQ7HK5Ts.js";import"./circle-check-C8Ig9Wxv.js";import"./target-J6fPiOhi.js";import"./file-text-EJys6wDr.js";import"./circle-alert-D2Ex1bod.js";import"./chevron-right-DbZHf7T7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],pe=le("Newspaper",de);function $e(C){const e=X.c(40),{assessments:S,classId:a,onAddNew:f,subjectId:A}=C,{url:q}=J(),[t,F]=V.useState(!1),[i,E]=V.useState(""),L=re("access-instructor-page")&&q.includes("/instructor"),M=Date.now();let g;if(e[0]!==S||e[1]!==i){const r=i.toLowerCase().trim();let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=(k,O)=>{const z=D=>{const _=D.student_assessment?.status,G=new Date(D.start_time).getTime(),R=new Date(D.end_time).getTime();return M>R?4:_==="in_progress"?1:!_&&M>=G&&M<=R?2:_==="submitted"||_==="scored"?3:5},H=z(k),Q=z(O);return H!==Q?H-Q:new Date(O.start_time).getTime()-new Date(k.start_time).getTime()},e[3]=v):v=e[3],g=S.filter(k=>!r||k.title.toLowerCase().includes(r)).sort(v),e[0]=S,e[1]=i,e[2]=g}else g=e[2];const y=g;let b;e[4]!==t?(b=()=>{F(ue),t&&E("")},e[4]=t,e[5]=b):b=e[5];const T=b;let j;e[6]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx("div",{className:"hidden rounded-2xl bg-primary/10 p-3 sm:block",children:s.jsx(pe,{className:"h-6 w-6 text-primary"})}),e[6]=j):j=e[6];let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs("div",{className:"flex items-center gap-4",children:[j,s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(U,{className:"text-xl font-black tracking-tight text-title sm:text-2xl",children:"Assessments"}),s.jsx(W,{className:"hidden text-xs font-medium text-description sm:block",children:"Manage assignments and upcoming deadlines."})]})]}),e[7]=N):N=e[7];const I=`h-10 w-10 rounded-xl border-border/80 transition-all sm:h-12 sm:w-12 sm:rounded-2xl ${t?"bg-primary text-primary-foreground":"bg-background"}`;let o;e[8]!==t?(o=t?s.jsx(ce,{className:"h-5 w-5"}):s.jsx($,{className:"h-5 w-5"}),e[8]=t,e[9]=o):o=e[9];let n;e[10]!==I||e[11]!==o||e[12]!==T?(n=s.jsx(B,{variant:"outline",size:"icon",onClick:T,className:I,children:o}),e[10]=I,e[11]=o,e[12]=T,e[13]=n):n=e[13];let l;e[14]!==L||e[15]!==a||e[16]!==A?(l=L&&s.jsx(K,{href:ae("instructor.classes.subjects.assessments.index",{class:a,subject:A}),children:s.jsxs(B,{variant:"secondary",className:"h-10 rounded-xl border border-border/50 bg-background font-bold sm:h-12 sm:rounded-2xl",children:[s.jsx(oe,{className:"mr-2 h-4 w-4"}),"Manage"]})}),e[14]=L,e[15]=a,e[16]=A,e[17]=l):l=e[17];let c;e[18]!==f?(c=f&&s.jsxs(B,{onClick:f,className:"h-10 rounded-xl bg-primary px-4 font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-transform active:scale-95 sm:h-12 sm:rounded-2xl sm:px-6",children:[s.jsx(me,{className:"mr-2 h-5 w-5 stroke-[3px]"}),"New"]}),e[18]=f,e[19]=c):c=e[19];let m;e[20]!==n||e[21]!==l||e[22]!==c?(m=s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[N,s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n,l,c]})]}),e[20]=n,e[21]=l,e[22]=c,e[23]=m):m=e[23];let d;e[24]!==t||e[25]!==i?(d=t&&s.jsx(P.div,{initial:{height:0,opacity:0,marginTop:0},animate:{height:"auto",opacity:1,marginTop:8},exit:{height:0,opacity:0,marginTop:0},className:"overflow-hidden",children:s.jsxs("div",{className:"relative",children:[s.jsx($,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(te,{placeholder:"Search by title...",value:i,onChange:r=>E(r.target.value),className:"h-12 rounded-xl border-none bg-muted/40 pl-11 font-medium focus-visible:ring-2 focus-visible:ring-primary sm:rounded-2xl",autoFocus:!0})]})}),e[24]=t,e[25]=i,e[26]=d):d=e[26];let p;e[27]!==d?(p=s.jsx(Z,{children:d}),e[27]=d,e[28]=p):p=e[28];let u;e[29]!==m||e[30]!==p?(u=s.jsxs(Y,{className:"space-y-4 border-b border-border/40 p-6 py-3 sm:p-8 sm:py-6",children:[m,p]}),e[29]=m,e[30]=p,e[31]=u):u=e[31];let h;e[32]!==a||e[33]!==y?(h=y.length>0?y.map(r=>s.jsx(P.div,{layout:!0,initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},className:"transform-gpu",children:s.jsx(ie,{assessment:r,classId:a})},r.id)):s.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"mb-4 flex size-20 items-center justify-center rounded-[2rem] bg-muted/50",children:s.jsx(ne,{className:"h-10 w-10 text-muted-foreground/40"})}),s.jsx("h3",{className:"text-lg font-bold text-title",children:"No matching assessments"}),s.jsx("p",{className:"text-sm text-description",children:"Adjust your search to find what you're looking for."})]}),e[32]=a,e[33]=y,e[34]=h):h=e[34];let x;e[35]!==h?(x=s.jsx(ee,{className:"p-4 sm:p-8",children:s.jsx("div",{className:"grid gap-4 sm:gap-6",children:s.jsx(Z,{mode:"popLayout",initial:!1,children:h})})}),e[35]=h,e[36]=x):x=e[36];let w;return e[37]!==u||e[38]!==x?(w=s.jsxs(se,{className:"overflow-hidden rounded-[2rem] sm:rounded-[2.5rem] border-border/60 bg-card/40 shadow-2xl shadow-black/5 backdrop-blur-md gap-0 py-0",children:[u,x]}),e[37]=u,e[38]=x,e[39]=w):w=e[39],w}function ue(C){return!C}export{$e as AssessmentsList};
