import{c as X,d as q,a as H,j as s,L as J,m as Q,A as R}from"./app-C4-wZLjv.js";import{B as D}from"./button-BtXHUDlw.js";import{C as K,a as U,d as W,c as Y,b as ee}from"./card-BPWCgs6A.js";import{I as se}from"./input-CvWwLIjv.js";import{u as te}from"./useCan-BUGedSx6.js";import{s as re}from"./index-ikzcNs2d.js";import{AssessmentCard as ae}from"./assessment-card-BgJ2W4OD.js";import{L as ie}from"./layout-grid-CEBlWw-x.js";import{S as V}from"./search-Cxo_qDnu.js";import{B as oe}from"./book-open-DhnomZaK.js";import{c as le}from"./createLucideIcon-DDKIJ2e3.js";import{X as ne}from"./x-cYyiHa3X.js";import{P as ce}from"./plus-BtJDo5Ri.js";import"./app-Ctpas7OY.js";import"./index-CmRgzCPv.js";import"./index-Buz4j_7Y.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./badge-z4nG_oU1.js";import"./get-assessment-status-detail-t--sVh1k.js";import"./circle-check-big-BrxAU1eb.js";import"./hourglass-C4IgEXFm.js";import"./octagon-x-kzI_vs2x.js";import"./triangle-alert-C6qpuK1U.js";import"./calendar-QeamDSRU.js";import"./clock-CiUKO93g.js";import"./circle-check-CE5iqhEP.js";import"./target-Ba3C7Uac.js";import"./file-text-BlmxyJcG.js";import"./circle-alert-BQkIx_3U.js";import"./chevron-right-CZckLAVz.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],de=le("Newspaper",me);function Ze(Z){const e=X.c(42),{assessments:_,classId:i,onAddNew:b,subjectId:S}=Z,{url:$}=q(),[t,z]=H.useState(!1),[a,P]=H.useState(""),A=te("access-instructor-page")&&$.includes("/instructor");let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=new Date,e[0]=g):g=e[0];const L=g;let j;if(e[1]!==_||e[2]!==a){let r;e[4]!==a?(r=k=>k.title.toLowerCase().includes(a.toLowerCase()),e[4]=a,e[5]=r):r=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=(k,B)=>{const M=T=>{const C=T.student_assessment?.status,F=new Date(T.end_time),G=new Date(T.start_time);return L>F?4:C==="in_progress"?1:!C&&L>=G&&L<=F?2:C==="submitted"||C==="scored"?3:5},E=M(k),O=M(B);return E!==O?E-O:new Date(B.start_time).getTime()-new Date(k.start_time).getTime()},e[6]=v):v=e[6],j=_.filter(r).sort(v),e[1]=_,e[2]=a,e[3]=j}else j=e[3];const y=j;let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs("div",{className:"space-y-1",children:[s.jsxs(K,{className:"flex items-center gap-1 text-lg font-black tracking-tight text-title xs:text-2xl",children:[s.jsx("div",{className:"rounded-xl bg-primary/10 p-2",children:s.jsx(de,{className:"h-5 w-5 text-primary xs:h-6 xs:w-6"})}),"Subject Assessments"]}),s.jsx(U,{className:"text-[12px] font-medium text-description xs:text-sm hidden xs:block",children:"Track your progress and upcoming deadlines."})]}),e[7]=N):N=e[7];let o;e[8]!==t?(o=()=>{z(!t),t&&P("")},e[8]=t,e[9]=o):o=e[9];const I=`h-8 w-8 rounded-lg xs:rounded-2xl border-border transition-all xs:h-11 xs:w-11 ${t?"bg-primary text-primary-foreground":"bg-card"}`;let l;e[10]!==t?(l=t?s.jsx(ne,{className:"h-5 w-5"}):s.jsx(V,{className:"h-5 w-5"}),e[10]=t,e[11]=l):l=e[11];let n;e[12]!==o||e[13]!==I||e[14]!==l?(n=s.jsx(D,{variant:"outline",size:"icon",onClick:o,className:I,children:l}),e[12]=o,e[13]=I,e[14]=l,e[15]=n):n=e[15];let c;e[16]!==A||e[17]!==i||e[18]!==S?(c=A&&s.jsx(J,{href:re("instructor.classes.subjects.assessments.index",{class:i,subject:S}),children:s.jsxs(D,{variant:"secondary",className:"h-11 rounded-2xl border border-border bg-card font-bold",children:[s.jsx(ie,{className:"mr-2 h-4 w-4"}),"Manage"]})}),e[16]=A,e[17]=i,e[18]=S,e[19]=c):c=e[19];let m;e[20]!==b?(m=b&&s.jsxs(D,{onClick:b,className:"h-11 rounded-2xl bg-primary px-6 font-bold text-primary-foreground shadow-lg shadow-primary/20 transition-all hover:scale-[1.02] active:scale-95",children:[s.jsx(ce,{className:"mr-2 h-5 w-5 stroke-[3px]"}),"New"]}),e[20]=b,e[21]=m):m=e[21];let d;e[22]!==n||e[23]!==c||e[24]!==m?(d=s.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[N,s.jsxs("div",{className:"flex items-center gap-2",children:[n,c,m]})]}),e[22]=n,e[23]=c,e[24]=m,e[25]=d):d=e[25];let p;e[26]!==t||e[27]!==a?(p=t&&s.jsx(Q.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"relative pt-2",children:[s.jsx(V,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(se,{placeholder:"Search by title...",value:a,onChange:r=>P(r.target.value),className:"h-12 rounded-2xl border-none bg-muted/50 pl-11 focus-visible:ring-2 focus-visible:ring-primary",autoFocus:!0})]})}),e[26]=t,e[27]=a,e[28]=p):p=e[28];let x;e[29]!==p?(x=s.jsx(R,{children:p}),e[29]=p,e[30]=x):x=e[30];let h;e[31]!==d||e[32]!==x?(h=s.jsxs(W,{className:"space-y-4 border-b border-border/50 p-5 py-6 xs:p-8",children:[d,x]}),e[31]=d,e[32]=x,e[33]=h):h=e[33];let u;e[34]!==i||e[35]!==y?(u=y.length>0?y.map(r=>s.jsx(ae,{assessment:r,classId:i},r.id)):s.jsxs(Q.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20 text-center",children:[s.jsx("div",{className:"mb-4 rounded-[2rem] bg-muted p-6",children:s.jsx(oe,{className:"h-12 w-12 text-muted-foreground/50"})}),s.jsx("h3",{className:"text-xl font-bold text-title",children:"No Assessments Found"}),s.jsx("p",{className:"max-w-[280px] text-description",children:"Try adjusting your search or check back later."})]}),e[34]=i,e[35]=y,e[36]=u):u=e[36];let f;e[37]!==u?(f=s.jsx(Y,{className:"p-6 pt-0 xs:p-8",children:s.jsx("div",{className:"grid gap-6",children:s.jsx(R,{mode:"popLayout",children:u})})}),e[37]=u,e[38]=f):f=e[38];let w;return e[39]!==h||e[40]!==f?(w=s.jsxs(ee,{className:"gap-0 overflow-hidden rounded-3xl xs:rounded-[2.5rem] border border-border bg-card/50 py-0 shadow-2xl shadow-black/5 backdrop-blur-sm",children:[h,f]}),e[39]=h,e[40]=f,e[41]=w):w=e[41],w}export{Ze as AssessmentsList};
