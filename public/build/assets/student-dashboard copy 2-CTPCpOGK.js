import{a as v,j as e,H as _,L as j,m as y,c as w}from"./app-BEjprfpt.js";import{A}from"./app-layout-DfQQ_XDM.js";import{P as k}from"./plus-fFbh7Iuh.js";import{Z as $}from"./zap-CTxTQDCk.js";import{A as S}from"./arrow-up-right-BLZlSO-L.js";import{M as E}from"./map-pin-D7eyFZZR.js";import{L as R}from"./layout-grid-BLMpB1Jf.js";import{C as z}from"./clock-C_uYab5X.js";import{G as M}from"./graduation-cap-MBdeupMx.js";import{T}from"./target-BCN7VD7l.js";import{C as L}from"./chevron-right-CrOEsWah.js";import{C as D}from"./circle-check-D0q-_Uz_.js";import{R as I,C as P}from"./rocket-B1gvMB50.js";import{A as F}from"./arrow-right-C6kumotC.js";import"./app-C2HJU6IN.js";import"./index-BYiI1tkd.js";import"./index-sZL0LmKN.js";import"./index-joJZZ6T8.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./button-DGod-GTx.js";import"./dialog-isigwEAQ.js";import"./index-DsHUgfkw.js";import"./index-CVovHSZ1.js";import"./index-Db_ipX0A.js";import"./index-DH1X2cpJ.js";import"./index-rsEto4aw.js";import"./index-DU3jUZ6J.js";import"./index-Da8MCGzP.js";import"./x-9rjc8L--.js";import"./createLucideIcon-SD458vc9.js";import"./tooltip-CpjmRnmA.js";import"./index-Brhvp-qm.js";import"./index-Bnui9FJL.js";import"./index-COWxmS2u.js";import"./index-dA-rYMbt.js";import"./index-CBL-cnJN.js";import"./avatar-Dgk1JwKp.js";import"./index-CI6TeYZF.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-CmqXW0w-.js";import"./search-BL-QF0Rx.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-BXO135UB.js";import"./users-D2d18B4g.js";import"./settings-2-BMKDjTqy.js";import"./cpu-BLXfwEsG.js";import"./book-open-CRzmW_vb.js";import"./appearance-tabs-header-CsIvXzNJ.js";import"./sun-CRFjhy0H.js";function Fe({student:t}){const s=t?.student_classrooms||[],a=t?.student_assessment||[],i=s.length===0,[d,m]=v.useState(0),l=s[d],n=v.useMemo(()=>{const r=a.filter(o=>o.status==="scored"),c=r.length>0?r.reduce((o,p)=>o+parseFloat(p.score),0)/r.length:0,x=s.reduce((o,p)=>o+p.subjects.reduce((h,f)=>h+f.assessments.length,0),0);return{avg:c.toFixed(1),completed:r.length,totalTasks:x,highest:r.length>0?Math.max(...r.map(o=>parseFloat(o.score))):0}},[a,s]);return e.jsxs(A,{children:[e.jsx(_,{title:"Scholar OS | Mission Control"}),e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[120px]"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-indigo-500/5 rounded-full blur-[120px]"})]}),e.jsxs("div",{className:"relative mx-auto max-w-7xl p-4 md:p-8 lg:p-12 space-y-10",children:[e.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),e.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-muted-foreground uppercase",children:i?"System Initialization":"Academic Session Active"})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-[1000] tracking-tighter text-title leading-none",children:[i?"Begin,":"Hello,"," ",e.jsx("span",{className:"text-primary italic",children:t.name.split(" ")[0]})]})]}),!i&&e.jsxs("div",{className:"flex items-center gap-4 bg-card/50 backdrop-blur-xl border border-border p-2 rounded-3xl shadow-xl",children:[e.jsxs("div",{className:"px-6 py-2 border-r border-border text-center",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Avg Score"}),e.jsxs("p",{className:"text-2xl font-black text-primary",children:[n.avg,"%"]})]}),e.jsxs("div",{className:"px-6 py-2",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Ranking"}),e.jsx("p",{className:"text-2xl font-black text-title",children:"Top 5%"})]})]})]}),i?e.jsx(B,{}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 overflow-x-auto pb-4 no-scrollbar",children:[s.map((r,c)=>e.jsxs("button",{onClick:()=>m(c),className:`flex-shrink-0 flex flex-col items-start px-6 py-4 rounded-[2rem] border transition-all duration-300 ${d===c?"bg-primary border-primary text-white shadow-2xl shadow-primary/30":"bg-card border-border text-title hover:border-primary/50"}`,children:[e.jsxs("span",{className:"text-[10px] font-black uppercase opacity-60",children:["Year ",r.year," â€¢ Sem ",r.semester]}),e.jsx("span",{className:"font-bold text-lg whitespace-nowrap",children:r.name})]},r.id)),e.jsx(j,{href:"/student/classes",className:"flex-shrink-0 w-16 h-16 rounded-full border-2 border-dashed border-border flex items-center justify-center text-muted-foreground hover:border-primary hover:text-primary transition-all",children:e.jsx(k,{size:24})})]}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group overflow-hidden rounded-[3.5rem] bg-slate-900 p-10 text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 h-80 w-80 bg-primary/20 rounded-full blur-[100px]"}),e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white/10 rounded-full text-[10px] font-black uppercase tracking-widest",children:[e.jsx($,{size:12,className:"text-yellow-400 fill-yellow-400"})," Current Focus"]}),e.jsx("h2",{className:"text-4xl font-black",children:l.name})]}),e.jsx(j,{href:`/student/classes/${l.id}`,className:"h-14 w-14 bg-white text-slate-900 rounded-full flex items-center justify-center hover:scale-110 transition-transform",children:e.jsx(S,{size:24})})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-sm font-bold text-white/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{size:16})," Campus ",l.campus]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{size:16})," ",l.subjects.length," Subjects"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{size:16})," Batch ",l.batch]})]})]})]},l.id),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.subjects.map(r=>e.jsx(O,{subject:r,classId:l.id,submissions:a},r.id))})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-800 rounded-[2.5rem] p-8 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:e.jsx(M,{size:120})}),e.jsxs("div",{className:"relative z-10 space-y-12",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-12 w-12 bg-white/20 rounded-xl backdrop-blur-md flex items-center justify-center font-black",children:t.name.charAt(0)}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black opacity-50 uppercase tracking-widest",children:"Scholar ID"}),e.jsxs("p",{className:"font-mono text-sm",children:["#",t.id,"992026"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black opacity-50 uppercase",children:"Student Name"}),e.jsx("h3",{className:"text-3xl font-black tracking-tight",children:t.name}),e.jsx("p",{className:"text-xs font-bold opacity-60 mt-1 uppercase tracking-tighter",children:t.email})]}),e.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold opacity-50",children:"COMPLETED"}),e.jsxs("p",{className:"text-xl font-black",children:[n.completed," Tasks"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold opacity-50 text-right",children:"PEAK SCORE"}),e.jsxs("p",{className:"text-xl font-black text-emerald-400",children:[n.highest,"%"]})]})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-[2.5rem] p-8 space-y-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-black text-title italic",children:"The Queue"}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-xs font-black",children:l.subjects.flatMap(r=>r.assessments).length})]}),e.jsx("div",{className:"space-y-6",children:l.subjects.flatMap(r=>r.assessments).slice(0,4).map((r,c)=>{const x=a.find(o=>o.assessment_id===r.id);return e.jsxs("div",{className:"flex gap-4 group",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`h-3 w-3 rounded-full border-2 ${x?"bg-emerald-500 border-emerald-500":"border-primary"}`}),e.jsx("div",{className:"w-px h-full bg-border mt-2"})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase",children:new Date(r.end_time).toLocaleDateString()}),e.jsx("h4",{className:"font-bold text-title text-sm group-hover:text-primary transition-colors",children:r.title}),e.jsx("span",{className:"text-[9px] font-black uppercase text-primary/60",children:r.type})]})]},c)})})]})]})]})]})]})}function O(t){const s=w.c(28),{subject:a,classId:i,submissions:d}=t,m=`/storage/${a.cover}`;let l;s[0]!==a.name?(l=u=>u.target.src=`https://ui-avatars.com/api/?name=${a.name}&background=6366f1&color=fff`,s[0]=a.name,s[1]=l):l=s[1];let n;s[2]!==m||s[3]!==l?(n=e.jsx("div",{className:"h-16 w-16 rounded-2xl overflow-hidden border-2 border-border shadow-inner",children:e.jsx("img",{src:m,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",onError:l})}),s[2]=m,s[3]=l,s[4]=n):n=s[4];const r=`/student/classes/${i}/subjects/${a.id}`;let c;s[5]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(L,{size:20}),s[5]=c):c=s[5];let x;s[6]!==r?(x=e.jsx(j,{href:r,className:"p-3 rounded-xl bg-muted text-muted-foreground hover:bg-primary hover:text-white transition-all",children:c}),s[6]=r,s[7]=x):x=s[7];let o;s[8]!==n||s[9]!==x?(o=e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n,x]}),s[8]=n,s[9]=x,s[10]=o):o=s[10];let p;s[11]!==a.name?(p=e.jsx("h4",{className:"text-2xl font-[1000] text-title tracking-tight line-clamp-1 group-hover:text-primary transition-colors",children:a.name}),s[11]=a.name,s[12]=p):p=s[12];let h;if(s[13]!==i||s[14]!==a.assessments||s[15]!==a.id||s[16]!==d){let u;s[18]!==i||s[19]!==a.id||s[20]!==d?(u=b=>{const N=d.find(C=>C.assessment_id===b.id);return e.jsxs(j,{href:`/student/classes/${i}/subjects/${a.id}/assessment/${b.id}`,className:"flex items-center justify-between p-4 rounded-2xl bg-muted/30 hover:bg-muted transition-all group/task",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[N?.status==="scored"?e.jsx(D,{size:16,className:"text-emerald-500"}):e.jsx(z,{size:16,className:"text-amber-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-title",children:b.title}),e.jsx("span",{className:"text-[9px] font-black uppercase opacity-40",children:b.type})]})]}),e.jsx("div",{className:"text-right",children:N?.status==="scored"?e.jsxs("span",{className:"text-xs font-black text-emerald-600",children:[N.score,"%"]}):e.jsx(S,{size:14,className:"opacity-0 group-hover/task:opacity-100 transition-all"})})]},b.id)},s[18]=i,s[19]=a.id,s[20]=d,s[21]=u):u=s[21],h=a.assessments.slice(0,3).map(u),s[13]=i,s[14]=a.assessments,s[15]=a.id,s[16]=d,s[17]=h}else h=s[17];let f;s[22]!==h?(f=e.jsx("div",{className:"mt-8 space-y-3",children:h}),s[22]=h,s[23]=f):f=s[23];let g;return s[24]!==f||s[25]!==o||s[26]!==p?(g=e.jsxs("div",{className:"group bg-card border border-border rounded-[2.5rem] p-6 hover:border-primary/40 transition-all hover:shadow-2xl",children:[o,p,f]}),s[24]=f,s[25]=o,s[26]=p,s[27]=g):g=s[27],g}function B(){const t=w.c(9);let s,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={opacity:0,scale:.95},a={opacity:1,scale:1},t[0]=s,t[1]=a):(s=t[0],a=t[1]);let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=e.jsx("div",{className:"absolute -bottom-10 -right-10 opacity-10",children:e.jsx(I,{size:300})}),t[2]=i):i=t[2];let d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsx("div",{className:"h-16 w-16 bg-primary rounded-2xl flex items-center justify-center shadow-2xl shadow-primary/40",children:e.jsx(k,{size:32,strokeWidth:3})}),t[3]=d):d=t[3];let m,l;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("h2",{className:"text-5xl font-black leading-[0.9] tracking-tighter",children:["Your Desk is ",e.jsx("br",{})," Empty."]}),l=e.jsx("p",{className:"text-slate-400 text-lg font-medium max-w-xs leading-relaxed",children:"Join a classroom to access your subjects, assessments, and study roadmap."}),t[4]=m,t[5]=l):(m=t[4],l=t[5]);let n;t[6]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsxs("div",{className:"bg-slate-900 rounded-[4rem] p-12 text-white flex flex-col justify-between items-start relative overflow-hidden min-h-[450px]",children:[i,e.jsxs("div",{className:"relative z-10 space-y-8",children:[d,m,l,e.jsxs(j,{href:"/student/classes",className:"inline-flex items-center gap-4 bg-white text-slate-900 px-10 py-5 rounded-[2rem] font-black group transition-all hover:bg-primary hover:text-white",children:["Browse Classrooms ",e.jsx(F,{size:20,className:"group-hover:translate-x-2 transition-transform"})]})]})]}),t[6]=n):n=t[6];let r;t[7]===Symbol.for("react.memo_cache_sentinel")?(r=e.jsxs("div",{className:"bg-card border border-border rounded-[3rem] p-8 flex gap-8 items-center",children:[e.jsx("div",{className:"h-20 w-20 flex-shrink-0 rounded-[2rem] bg-indigo-500/10 flex items-center justify-center text-indigo-500",children:e.jsx(P,{size:32})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-title text-2xl tracking-tight",children:"Curriculum Sync"}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm font-medium leading-relaxed",children:"Once enrolled, your subjects will automatically sync with your major and year."})]})]}),t[7]=r):r=t[7];let c;return t[8]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsxs(y.div,{initial:s,animate:a,className:"grid grid-cols-1 md:grid-cols-2 gap-8 py-10",children:[n,e.jsxs("div",{className:"space-y-6",children:[r,e.jsxs("div",{className:"bg-card border border-border rounded-[3rem] p-8 flex gap-8 items-center",children:[e.jsx("div",{className:"h-20 w-20 flex-shrink-0 rounded-[2rem] bg-emerald-500/10 flex items-center justify-center text-emerald-500",children:e.jsx(T,{size:32})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-title text-2xl tracking-tight",children:"Performance Tracking"}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm font-medium leading-relaxed",children:"Visual analytics will appear as you complete quizzes and homework."})]})]})]})]}),t[8]=c):c=t[8],c}export{Fe as default};
