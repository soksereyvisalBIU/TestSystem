import{c as Ne,j as t,L as xe,H as ke}from"./app-D3v83aNE.js";import{B as ve}from"./badge-dEhACiJL.js";import{B as we}from"./button-CkZfxf4k.js";import{C as me,b as pe,c as _e,a as fe}from"./card-DyYORs3_.js";import{A as ye}from"./app-layout-CZjyt6Bj.js";import{d as he}from"./index-BZB35nAZ.js";import{d as se}from"./dayjs.min-DpIkUCdD.js";import{d as Ce}from"./duration-NV6gBdSJ.js";import{A as Se}from"./arrow-left-CbMJF3CJ.js";import{L as $e}from"./layout-dashboard-CBPmrCBp.js";import{T as Ae}from"./trophy-v9qAsmVL.js";import{C as ue}from"./clock-0OR9FF6r.js";import{I as Le}from"./info-CxaiBy1b.js";import{C as Re}from"./circle-help-DupjQ4Ft.js";import{C as ge}from"./circle-check-CdY3rOqM.js";import{C as Ie}from"./circle-x-WP6Pw7lN.js";/* empty css            */import"./index-Cifq7s8n.js";import"./index-B3W9NeVP.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./index-BxyYlp3t.js";import"./dialog-CGkf8qx2.js";import"./index-BkjJeiVU.js";import"./index-DSCjTn9X.js";import"./index-msESsogX.js";import"./index-C-cUUGjt.js";import"./index-dC8YG1Mj.js";import"./index-DCVabXTp.js";import"./index-Bk4iotEb.js";import"./x-Bp5xAbVl.js";import"./createLucideIcon-Bx5B_t47.js";import"./tooltip-DvxyFyoO.js";import"./index-DtiKGPcz.js";import"./index-B0Xsg3al.js";import"./index-Bz3y0_w_.js";import"./index-B5ny6Fz2.js";import"./index-CeZ2-dZm.js";import"./avatar-BaSzT9LI.js";import"./index-BEDIOPDU.js";import"./index-CMWG4mbA.js";import"./command-DpLf9FTD.js";import"./search-CiqbTfau.js";import"./index-ikzcNs2d.js";import"./app-logo-icon-Cp5cERZq.js";import"./layout-grid-YL4wIruB.js";import"./users-9yJrgc_c.js";import"./settings-2-9ujR7KCJ.js";import"./appearance-tabs-header-D-Fh74tB.js";import"./sun-BXaJEomN.js";import"./book-open-21xbYr3z.js";import"./chevron-right-AbhQ5mGS.js";se.extend(Ce);const be=(c,e)=>{const re=Number(c.point),a=Number(e[0]?.points_earned??0);return e.length?["short_answer","essay"].includes(c.type)&&e.some(B=>B.points_earned===null)?{label:"Pending",variant:"outline",icon:ue,colorClass:"text-amber-500",borderClass:"border-l-amber-400",bgClass:"bg-amber-50/30 dark:bg-amber-900/10"}:a===re?{label:"Correct",variant:"default",icon:ge,colorClass:"text-emerald-500",borderClass:"border-l-emerald-500",bgClass:"bg-emerald-50/30 dark:bg-emerald-900/10"}:a>0?{label:"Partial",variant:"secondary",icon:ge,colorClass:"text-orange-500",borderClass:"border-l-orange-400",bgClass:"bg-orange-50/30 dark:bg-orange-900/10"}:{label:"Incorrect",variant:"destructive",icon:Ie,colorClass:"text-red-500",borderClass:"border-l-red-500",bgClass:"bg-red-50/30 dark:bg-red-900/10"}:{label:"Skipped",variant:"secondary",icon:Re,colorClass:"text-slate-500",borderClass:"border-l-slate-400",bgClass:"bg-slate-50/50 dark:bg-slate-900/40"}};function It(c){const e=Ne.c(89),{assessmentAttemptResource:re}=c,{assessment:a,answers:B,started_at:D,completed_at:M,sub_score:P}=re.data;let n;e[0]!==B?(n={},B.forEach(r=>{n[r.question_id]||(n[r.question_id]=[]),n[r.question_id].push(r)}),e[0]=B,e[1]=n):n=e[1];const l=n,E=a.questions.reduce(He,0),T=E>0?Number(P)/E*100:0;let z,F,d,m;if(e[2]!==M||e[3]!==E||e[4]!==T||e[5]!==D){const r=M&&D?se(M).diff(se(D)):0,s=se.duration(r);d=E,m=T,z=Math.floor(s.asMinutes()),F=s.seconds(),e[2]=M,e[3]=E,e[4]=T,e[5]=D,e[6]=z,e[7]=F,e[8]=d,e[9]=m}else z=e[6],F=e[7],d=e[8],m=e[9];const ae=`${z}m ${F}s`,le=T>=80?"emerald":T>=50?"amber":"red";let O;e[10]!==d||e[11]!==m||e[12]!==ae||e[13]!==le?(O={maxScore:d,percentage:m,time:ae,color:le},e[10]=d,e[11]=m,e[12]=ae,e[13]=le,e[14]=O):O=e[14];const i=O;let Q;e[15]===Symbol.for("react.memo_cache_sentinel")?(Q=[{title:"Assessments",href:"#"},{title:"Review"}],e[15]=Q):Q=e[15];const ie=`Review | ${a.title}`;let x;e[16]!==ie?(x=t.jsx(ke,{title:ie}),e[16]=ie,e[17]=x):x=e[17];let W;e[18]===Symbol.for("react.memo_cache_sentinel")?(W=he(),e[18]=W):W=e[18];let X;e[19]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs(xe,{href:W.url,className:"group flex items-center text-sm font-medium text-slate-500 transition-colors hover:text-indigo-600",children:[t.jsx(Se,{className:"mr-2 h-4 w-4 transition-transform group-hover:-translate-x-1"}),"Back to Dashboard"]}),e[19]=X):X=e[19];let p;e[20]!==a.title?(p=t.jsxs("div",{children:[X,t.jsx("h1",{className:"mt-2 text-3xl font-black tracking-tight text-slate-900 dark:text-white md:text-4xl",children:a.title})]}),e[20]=a.title,e[21]=p):p=e[21];let Y;e[22]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Final Score"}),e[22]=Y):Y=e[22];const oe=`text-3xl font-black text-${i.color}-600`;let f;e[23]!==i.maxScore?(f=t.jsxs("span",{className:"text-lg text-slate-400",children:["/ ",i.maxScore]}),e[23]=i.maxScore,e[24]=f):f=e[24];let h;e[25]!==P||e[26]!==oe||e[27]!==f?(h=t.jsxs("div",{className:"text-right",children:[Y,t.jsxs("p",{className:oe,children:[P," ",f]})]}),e[25]=P,e[26]=oe,e[27]=f,e[28]=h):h=e[28];const ne=`flex h-16 w-16 items-center justify-center rounded-2xl bg-${i.color}-50 dark:bg-${i.color}-900/20`,ce=`h-8 w-8 text-${i.color}-600`;let g;e[29]!==ce?(g=t.jsx(Ae,{className:ce}),e[29]=ce,e[30]=g):g=e[30];let b;e[31]!==ne||e[32]!==g?(b=t.jsx("div",{className:ne,children:g}),e[31]=ne,e[32]=g,e[33]=b):b=e[33];let u;e[34]!==h||e[35]!==b?(u=t.jsxs("div",{className:"flex items-center gap-4",children:[h,b]}),e[34]=h,e[35]=b,e[36]=u):u=e[36];let j;e[37]!==p||e[38]!==u?(j=t.jsxs("header",{className:"mb-10 flex flex-col items-center justify-between gap-6 md:flex-row",children:[p,u]}),e[37]=p,e[38]=u,e[39]=j):j=e[39];let G;e[40]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(pe,{className:"p-4",children:t.jsx(_e,{className:"text-sm font-bold",children:"Question Navigator"})}),e[40]=G):G=e[40];let N;if(e[41]!==a.questions||e[42]!==l){let r;e[44]!==l?(r=(s,de)=>{const q=be(s,l[s.id]||[]);return t.jsx("a",{href:`#q-${s.id}`,className:`flex h-9 w-9 items-center justify-center rounded-lg text-xs font-bold ring-offset-2 transition-all hover:ring-2 ${q.bgClass} ${q.colorClass} border border-slate-200 dark:border-slate-800`,children:de+1},s.id)},e[44]=l,e[45]=r):r=e[45],N=a.questions.map(r),e[41]=a.questions,e[42]=l,e[43]=N}else N=e[43];let k;e[46]!==N?(k=t.jsx("div",{className:"grid grid-cols-5 gap-2",children:N}),e[46]=N,e[47]=k):k=e[47];let J;e[48]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),e[48]=J):J=e[48];let v;e[49]!==l?(v=Object.values(l),e[49]=l,e[50]=v):v=e[50];let w;e[51]!==a.questions||e[52]!==v?(w=v.filter(r=>r[0]?.points_earned===a.questions.find(s=>s.id===r[0].question_id)?.point),e[51]=a.questions,e[52]=v,e[53]=w):w=e[53];let _;e[54]!==w.length?(_=t.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[J," Correct",t.jsx("div",{className:"ml-auto font-bold text-slate-900 dark:text-slate-100",children:w.length})]}),e[54]=w.length,e[55]=_):_=e[55];let K;e[56]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"})," Incorrect"]}),e[56]=K):K=e[56];let y;e[57]!==_?(y=t.jsxs("div",{className:"mt-6 space-y-3",children:[_,K]}),e[57]=_,e[58]=y):y=e[58];let C;e[59]!==k||e[60]!==y?(C=t.jsxs(me,{className:"overflow-hidden border-none shadow-sm ring-1 ring-slate-200 dark:ring-slate-800",children:[G,t.jsxs(fe,{className:"p-4 pt-0",children:[k,y]})]}),e[59]=k,e[60]=y,e[61]=C):C=e[61];let U,V;e[62]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(ue,{className:"h-5 w-5 opacity-80"}),V=t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:"Duration"}),e[62]=U,e[63]=V):(U=e[62],V=e[63]);let S;e[64]!==i.time?(S=t.jsx(me,{className:"bg-indigo-600 p-4 text-white shadow-lg shadow-indigo-200 dark:shadow-none",children:t.jsxs("div",{className:"flex items-center gap-3",children:[U,t.jsxs("div",{children:[V,t.jsx("p",{className:"font-bold",children:i.time})]})]})}),e[64]=i.time,e[65]=S):S=e[65];let $;e[66]!==C||e[67]!==S?($=t.jsx("aside",{className:"lg:col-span-3",children:t.jsxs("div",{className:"sticky top-24 space-y-6",children:[C,S]})}),e[66]=C,e[67]=S,e[68]=$):$=e[68];let A;if(e[69]!==a.questions||e[70]!==l){let r;e[72]!==l?(r=(s,de)=>{const q=l[s.id]||[],o=be(s,q),je=o.icon;return t.jsx("section",{id:`q-${s.id}`,className:"scroll-mt-24",children:t.jsxs(me,{className:`overflow-hidden border-none shadow-md ring-1 ring-slate-200 transition-all dark:ring-slate-800 border-l-4 ${o.borderClass}`,children:[t.jsxs(pe,{className:"flex flex-row items-start justify-between bg-slate-50/50 p-6 dark:bg-slate-900/40",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsx("span",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-white text-sm font-black text-slate-900 shadow-sm ring-1 ring-slate-200 dark:bg-slate-800 dark:text-white dark:ring-slate-700",children:de+1}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none font-semibold leading-tight text-slate-900 dark:text-slate-100",dangerouslySetInnerHTML:{__html:s.question_text||s.question}}),t.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[t.jsx(ve,{variant:o.variant,className:"rounded-md px-2 py-0 text-[10px] font-black uppercase tracking-tighter",children:o.label}),t.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Worth ",s.point," Points"]})]})]})]}),t.jsx(je,{className:`h-6 w-6 shrink-0 ${o.colorClass}`})]}),t.jsxs(fe,{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Your Response"}),t.jsx("div",{className:`rounded-xl border p-4 text-sm font-medium ${o.bgClass} ${o.colorClass} border-dashed`,children:q[0]?.answer_text?t.jsx("div",{dangerouslySetInnerHTML:{__html:q[0].answer_text}}):t.jsx("span",{className:"italic opacity-60",children:"No response provided"})})]}),o.label!=="Correct"&&s.correct_answer_text&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-500",children:"Expected Answer"}),t.jsx("div",{className:"rounded-xl border border-emerald-100 bg-emerald-50/50 p-4 text-sm font-bold text-emerald-800 dark:border-emerald-900/30 dark:bg-emerald-900/20 dark:text-emerald-200",children:s.correct_answer_text})]})]}),s.explanation&&t.jsxs("div",{className:"flex gap-4 rounded-2xl bg-indigo-50/50 p-5 dark:bg-indigo-900/10",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-white shadow-sm dark:bg-slate-800",children:t.jsx(Le,{className:"h-5 w-5 text-indigo-500"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"mb-1 text-xs font-black uppercase tracking-widest text-indigo-600 dark:text-indigo-400",children:"Explanation"}),t.jsx("p",{className:"text-sm leading-relaxed text-slate-600 dark:text-indigo-200/80",children:s.explanation})]})]})]})]})},s.id)},e[72]=l,e[73]=r):r=e[73],A=a.questions.map(r),e[69]=a.questions,e[70]=l,e[71]=A}else A=e[71];let L;e[74]!==A?(L=t.jsx("div",{className:"space-y-8",children:A}),e[74]=A,e[75]=L):L=e[75];let Z;e[76]===Symbol.for("react.memo_cache_sentinel")?(Z=he(),e[76]=Z):Z=e[76];let ee;e[77]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("footer",{className:"mt-12 flex items-center justify-center border-t border-slate-100 py-10 dark:border-slate-800",children:t.jsx(xe,{href:Z.url,children:t.jsxs(we,{size:"lg",className:"rounded-2xl bg-slate-900 px-10 font-bold hover:bg-slate-800 dark:bg-white dark:text-slate-900",children:[t.jsx($e,{className:"mr-2 h-4 w-4"}),"Return to Dashboard"]})})}),e[77]=ee):ee=e[77];let R;e[78]!==L?(R=t.jsxs("main",{className:"lg:col-span-9",children:[L,ee]}),e[78]=L,e[79]=R):R=e[79];let I;e[80]!==$||e[81]!==R?(I=t.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-12",children:[$,R]}),e[80]=$,e[81]=R,e[82]=I):I=e[82];let H;e[83]!==j||e[84]!==I?(H=t.jsxs("div",{className:"mx-auto max-w-6xl p-4 lg:p-10",children:[j,I]}),e[83]=j,e[84]=I,e[85]=H):H=e[85];let te;return e[86]!==x||e[87]!==H?(te=t.jsxs(ye,{breadcrumbs:Q,children:[x,H]}),e[86]=x,e[87]=H,e[88]=te):te=e[88],te}function He(c,e){return c+(Number(e.point)||0)}export{It as default};
