import{r as i,c as M,j as I}from"./app-DOexATz8.js";import{R as Se,P as Ie,O as Re,C as $e,d as je,b as _e,a as Ae,D as De,c as Ne}from"./dialog-TFrJjmZh.js";import{P as A}from"./index-CsaJF3T3.js";import{u as L}from"./index-BiXTY-N1.js";import{c as O}from"./index-Dghi0PCu.js";import{c as q}from"./utils-CFcDjcb_.js";import{S as Me}from"./search-BJrQLS36.js";var pe=1,Pe=.9,Fe=.8,Ke=.17,te=.1,re=.999,Le=.9999,qe=.99,Ve=/[\\\/_+.#"@\[\(\{&]/,ze=/[\\\/_+.#"@\[\(\{&]/g,Be=/[\s-]/,he=/[\s-]/g;function ne(r,e,t,a,n,o,c){if(o===e.length)return n===r.length?pe:qe;var m=`${n},${o}`;if(c[m]!==void 0)return c[m];for(var h=a.charAt(o),s=t.indexOf(h,n),v=0,p,w,x,y;s>=0;)p=ne(r,e,t,a,s+1,o+1,c),p>v&&(s===n?p*=pe:Ve.test(r.charAt(s-1))?(p*=Fe,x=r.slice(n,s-1).match(ze),x&&n>0&&(p*=Math.pow(re,x.length))):Be.test(r.charAt(s-1))?(p*=Pe,y=r.slice(n,s-1).match(he),y&&n>0&&(p*=Math.pow(re,y.length))):(p*=Ke,n>0&&(p*=Math.pow(re,s-n))),r.charAt(s)!==e.charAt(o)&&(p*=Le)),(p<te&&t.charAt(s-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&t.charAt(s-1)!==a.charAt(o))&&(w=ne(r,e,t,a,s+1,o+2,c),w*te>p&&(p=w*te)),p>v&&(v=p),s=t.indexOf(h,s+1);return c[m]=v,v}function ve(r){return r.toLowerCase().replace(he," ")}function Oe(r,e,t){return r=t&&t.length>0?`${r+" "+t.join(" ")}`:r,ne(r,e,ve(r),ve(e),0,0,{})}var B='[cmdk-group=""]',le='[cmdk-group-items=""]',Ge='[cmdk-group-heading=""]',be='[cmdk-item=""]',ge=`${be}:not([aria-disabled="true"])`,ae="cmdk-item-select",F="data-value",He=(r,e,t)=>Oe(r,e,t),xe=i.createContext(void 0),G=()=>i.useContext(xe),ke=i.createContext(void 0),oe=()=>i.useContext(ke),we=i.createContext(void 0),ye=i.forwardRef((r,e)=>{let t=K(()=>{var l,d;return{search:"",value:(d=(l=r.value)!=null?l:r.defaultValue)!=null?d:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=K(()=>new Set),n=K(()=>new Map),o=K(()=>new Map),c=K(()=>new Set),m=Ee(r),{label:h,children:s,value:v,onValueChange:p,filter:w,shouldFilter:x,loop:y,disablePointerSelection:$=!1,vimBindings:C=!0,...j}=r,U=L(),ie=L(),W=L(),D=i.useRef(null),k=rt();N(()=>{if(v!==void 0){let l=v.trim();t.current.value=l,S.emit()}},[v]),N(()=>{k(6,se)},[]);let S=i.useMemo(()=>({subscribe:l=>(c.current.add(l),()=>c.current.delete(l)),snapshot:()=>t.current,setState:(l,d,f)=>{var u,g,b,R;if(!Object.is(t.current[l],d)){if(t.current[l]=d,l==="search")Q(),X(),k(1,Y);else if(l==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let E=document.getElementById(W);E?E.focus():(u=document.getElementById(U))==null||u.focus()}if(k(7,()=>{var E;t.current.selectedItemId=(E=P())==null?void 0:E.id,S.emit()}),f||k(5,se),((g=m.current)==null?void 0:g.value)!==void 0){let E=d??"";(R=(b=m.current).onValueChange)==null||R.call(b,E);return}}S.emit()}},emit:()=>{c.current.forEach(l=>l())}}),[]),J=i.useMemo(()=>({value:(l,d,f)=>{var u;d!==((u=o.current.get(l))==null?void 0:u.value)&&(o.current.set(l,{value:d,keywords:f}),t.current.filtered.items.set(l,ue(d,f)),k(2,()=>{X(),S.emit()}))},item:(l,d)=>(a.current.add(l),d&&(n.current.has(d)?n.current.get(d).add(l):n.current.set(d,new Set([l]))),k(3,()=>{Q(),X(),t.current.value||Y(),S.emit()}),()=>{o.current.delete(l),a.current.delete(l),t.current.filtered.items.delete(l);let f=P();k(4,()=>{Q(),f?.getAttribute("id")===l&&Y(),S.emit()})}),group:l=>(n.current.has(l)||n.current.set(l,new Set),()=>{o.current.delete(l),n.current.delete(l)}),filter:()=>m.current.shouldFilter,label:h||r["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:U,inputId:W,labelId:ie,listInnerRef:D}),[]);function ue(l,d){var f,u;let g=(u=(f=m.current)==null?void 0:f.filter)!=null?u:He;return l?g(l,t.current.search,d):0}function X(){if(!t.current.search||m.current.shouldFilter===!1)return;let l=t.current.filtered.items,d=[];t.current.filtered.groups.forEach(u=>{let g=n.current.get(u),b=0;g.forEach(R=>{let E=l.get(R);b=Math.max(E,b)}),d.push([u,b])});let f=D.current;z().sort((u,g)=>{var b,R;let E=u.getAttribute("id"),H=g.getAttribute("id");return((b=l.get(H))!=null?b:0)-((R=l.get(E))!=null?R:0)}).forEach(u=>{let g=u.closest(le);g?g.appendChild(u.parentElement===g?u:u.closest(`${le} > *`)):f.appendChild(u.parentElement===f?u:u.closest(`${le} > *`))}),d.sort((u,g)=>g[1]-u[1]).forEach(u=>{var g;let b=(g=D.current)==null?void 0:g.querySelector(`${B}[${F}="${encodeURIComponent(u[0])}"]`);b?.parentElement.appendChild(b)})}function Y(){let l=z().find(f=>f.getAttribute("aria-disabled")!=="true"),d=l?.getAttribute(F);S.setState("value",d||void 0)}function Q(){var l,d,f,u;if(!t.current.search||m.current.shouldFilter===!1){t.current.filtered.count=a.current.size;return}t.current.filtered.groups=new Set;let g=0;for(let b of a.current){let R=(d=(l=o.current.get(b))==null?void 0:l.value)!=null?d:"",E=(u=(f=o.current.get(b))==null?void 0:f.keywords)!=null?u:[],H=ue(R,E);t.current.filtered.items.set(b,H),H>0&&g++}for(let[b,R]of n.current)for(let E of R)if(t.current.filtered.items.get(E)>0){t.current.filtered.groups.add(b);break}t.current.filtered.count=g}function se(){var l,d,f;let u=P();u&&(((l=u.parentElement)==null?void 0:l.firstChild)===u&&((f=(d=u.closest(B))==null?void 0:d.querySelector(Ge))==null||f.scrollIntoView({block:"nearest"})),u.scrollIntoView({block:"nearest"}))}function P(){var l;return(l=D.current)==null?void 0:l.querySelector(`${be}[aria-selected="true"]`)}function z(){var l;return Array.from(((l=D.current)==null?void 0:l.querySelectorAll(ge))||[])}function Z(l){let d=z()[l];d&&S.setState("value",d.getAttribute(F))}function ee(l){var d;let f=P(),u=z(),g=u.findIndex(R=>R===f),b=u[g+l];(d=m.current)!=null&&d.loop&&(b=g+l<0?u[u.length-1]:g+l===u.length?u[0]:u[g+l]),b&&S.setState("value",b.getAttribute(F))}function ce(l){let d=P(),f=d?.closest(B),u;for(;f&&!u;)f=l>0?et(f,B):tt(f,B),u=f?.querySelector(ge);u?S.setState("value",u.getAttribute(F)):ee(l)}let de=()=>Z(z().length-1),me=l=>{l.preventDefault(),l.metaKey?de():l.altKey?ce(1):ee(1)},fe=l=>{l.preventDefault(),l.metaKey?Z(0):l.altKey?ce(-1):ee(-1)};return i.createElement(A.div,{ref:e,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:l=>{var d;(d=j.onKeyDown)==null||d.call(j,l);let f=l.nativeEvent.isComposing||l.keyCode===229;if(!(l.defaultPrevented||f))switch(l.key){case"n":case"j":{C&&l.ctrlKey&&me(l);break}case"ArrowDown":{me(l);break}case"p":case"k":{C&&l.ctrlKey&&fe(l);break}case"ArrowUp":{fe(l);break}case"Home":{l.preventDefault(),Z(0);break}case"End":{l.preventDefault(),de();break}case"Enter":{l.preventDefault();let u=P();if(u){let g=new Event(ae);u.dispatchEvent(g)}}}}},i.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:nt},h),T(r,l=>i.createElement(ke.Provider,{value:S},i.createElement(xe.Provider,{value:J},l))))}),Te=i.forwardRef((r,e)=>{var t,a;let n=L(),o=i.useRef(null),c=i.useContext(we),m=G(),h=Ee(r),s=(a=(t=h.current)==null?void 0:t.forceMount)!=null?a:c?.forceMount;N(()=>{if(!s)return m.item(n,c?.id)},[s]);let v=Ce(n,o,[r.value,r.children,o],r.keywords),p=oe(),w=_(k=>k.value&&k.value===v.current),x=_(k=>s||m.filter()===!1?!0:k.search?k.filtered.items.get(n)>0:!0);i.useEffect(()=>{let k=o.current;if(!(!k||r.disabled))return k.addEventListener(ae,y),()=>k.removeEventListener(ae,y)},[x,r.onSelect,r.disabled]);function y(){var k,S;$(),(S=(k=h.current).onSelect)==null||S.call(k,v.current)}function $(){p.setState("value",v.current,!0)}if(!x)return null;let{disabled:C,value:j,onSelect:U,forceMount:ie,keywords:W,...D}=r;return i.createElement(A.div,{ref:O(o,e),...D,id:n,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!w,"data-disabled":!!C,"data-selected":!!w,onPointerMove:C||m.getDisablePointerSelection()?void 0:$,onClick:C?void 0:y},r.children)}),Ue=i.forwardRef((r,e)=>{let{heading:t,children:a,forceMount:n,...o}=r,c=L(),m=i.useRef(null),h=i.useRef(null),s=L(),v=G(),p=_(x=>n||v.filter()===!1?!0:x.search?x.filtered.groups.has(c):!0);N(()=>v.group(c),[]),Ce(c,m,[r.value,r.heading,h]);let w=i.useMemo(()=>({id:c,forceMount:n}),[n]);return i.createElement(A.div,{ref:O(m,e),...o,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},t&&i.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:s},t),T(r,x=>i.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?s:void 0},i.createElement(we.Provider,{value:w},x))))}),We=i.forwardRef((r,e)=>{let{alwaysRender:t,...a}=r,n=i.useRef(null),o=_(c=>!c.search);return!t&&!o?null:i.createElement(A.div,{ref:O(n,e),...a,"cmdk-separator":"",role:"separator"})}),Je=i.forwardRef((r,e)=>{let{onValueChange:t,...a}=r,n=r.value!=null,o=oe(),c=_(s=>s.search),m=_(s=>s.selectedItemId),h=G();return i.useEffect(()=>{r.value!=null&&o.setState("search",r.value)},[r.value]),i.createElement(A.input,{ref:e,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":m,id:h.inputId,type:"text",value:n?r.value:c,onChange:s=>{n||o.setState("search",s.target.value),t?.(s.target.value)}})}),Xe=i.forwardRef((r,e)=>{let{children:t,label:a="Suggestions",...n}=r,o=i.useRef(null),c=i.useRef(null),m=_(s=>s.selectedItemId),h=G();return i.useEffect(()=>{if(c.current&&o.current){let s=c.current,v=o.current,p,w=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let x=s.offsetHeight;v.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return w.observe(s),()=>{cancelAnimationFrame(p),w.unobserve(s)}}},[]),i.createElement(A.div,{ref:O(o,e),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":a,id:h.listId},T(r,s=>i.createElement("div",{ref:O(c,h.listInnerRef),"cmdk-list-sizer":""},s)))}),Ye=i.forwardRef((r,e)=>{let{open:t,onOpenChange:a,overlayClassName:n,contentClassName:o,container:c,...m}=r;return i.createElement(Se,{open:t,onOpenChange:a},i.createElement(Ie,{container:c},i.createElement(Re,{"cmdk-overlay":"",className:n}),i.createElement($e,{"aria-label":r.label,"cmdk-dialog":"",className:o},i.createElement(ye,{ref:e,...m}))))}),Qe=i.forwardRef((r,e)=>_(t=>t.filtered.count===0)?i.createElement(A.div,{ref:e,...r,"cmdk-empty":"",role:"presentation"}):null),Ze=i.forwardRef((r,e)=>{let{progress:t,children:a,label:n="Loading...",...o}=r;return i.createElement(A.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},T(r,c=>i.createElement("div",{"aria-hidden":!0},c)))}),V=Object.assign(ye,{List:Xe,Item:Te,Input:Je,Group:Ue,Separator:We,Dialog:Ye,Empty:Qe,Loading:Ze});function et(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function tt(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function Ee(r){let e=i.useRef(r);return N(()=>{e.current=r}),e}var N=typeof window>"u"?i.useEffect:i.useLayoutEffect;function K(r){let e=i.useRef();return e.current===void 0&&(e.current=r()),e}function _(r){let e=oe(),t=()=>r(e.snapshot());return i.useSyncExternalStore(e.subscribe,t,t)}function Ce(r,e,t,a=[]){let n=i.useRef(),o=G();return N(()=>{var c;let m=(()=>{var s;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(s=v.current.textContent)==null?void 0:s.trim():n.current}})(),h=a.map(s=>s.trim());o.value(r,m,h),(c=e.current)==null||c.setAttribute(F,m),n.current=m}),n}var rt=()=>{let[r,e]=i.useState(),t=K(()=>new Map);return N(()=>{t.current.forEach(a=>a()),t.current=new Map},[r]),(a,n)=>{t.current.set(a,n),e({})}};function lt(r){let e=r.type;return typeof e=="function"?e(r.props):"render"in e?e.render(r.props):r}function T({asChild:r,children:e},t){return r&&i.isValidElement(e)?i.cloneElement(lt(e),{ref:e.ref},t(e.props.children)):t(e)}var nt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function at(r){const e=M.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let n;e[3]!==t?(n=q("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),e[3]=t,e[4]=n):n=e[4];let o;return e[5]!==a||e[6]!==n?(o=I.jsx(V,{"data-slot":"command",className:n,...a}),e[5]=a,e[6]=n,e[7]=o):o=e[7],o}function ft(r){const e=M.c(26);let t,a,n,o,c,m;e[0]!==r?({title:o,description:c,children:t,className:a,showCloseButton:m,...n}=r,e[0]=r,e[1]=t,e[2]=a,e[3]=n,e[4]=o,e[5]=c,e[6]=m):(t=e[1],a=e[2],n=e[3],o=e[4],c=e[5],m=e[6]);const h=o===void 0?"Command Palette":o,s=c===void 0?"Search for a command to run...":c,v=m===void 0?!0:m;let p;e[7]!==h?(p=I.jsx(_e,{children:h}),e[7]=h,e[8]=p):p=e[8];let w;e[9]!==s?(w=I.jsx(Ae,{children:s}),e[9]=s,e[10]=w):w=e[10];let x;e[11]!==p||e[12]!==w?(x=I.jsxs(De,{className:"sr-only",children:[p,w]}),e[11]=p,e[12]=w,e[13]=x):x=e[13];let y;e[14]!==a?(y=q("overflow-hidden p-0",a),e[14]=a,e[15]=y):y=e[15];let $;e[16]!==t?($=I.jsx(at,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t}),e[16]=t,e[17]=$):$=e[17];let C;e[18]!==v||e[19]!==y||e[20]!==$?(C=I.jsx(Ne,{className:y,showCloseButton:v,children:$}),e[18]=v,e[19]=y,e[20]=$,e[21]=C):C=e[21];let j;return e[22]!==n||e[23]!==x||e[24]!==C?(j=I.jsxs(je,{...n,children:[x,C]}),e[22]=n,e[23]=x,e[24]=C,e[25]=j):j=e[25],j}function pt(r){const e=M.c(9);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let n;e[3]===Symbol.for("react.memo_cache_sentinel")?(n=I.jsx(Me,{className:"size-4 shrink-0 opacity-50"}),e[3]=n):n=e[3];let o;e[4]!==t?(o=q("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),e[4]=t,e[5]=o):o=e[5];let c;return e[6]!==a||e[7]!==o?(c=I.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[n,I.jsx(V.Input,{"data-slot":"command-input",className:o,...a})]}),e[6]=a,e[7]=o,e[8]=c):c=e[8],c}function vt(r){const e=M.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let n;e[3]!==t?(n=q("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),e[3]=t,e[4]=n):n=e[4];let o;return e[5]!==a||e[6]!==n?(o=I.jsx(V.List,{"data-slot":"command-list",className:n,...a}),e[5]=a,e[6]=n,e[7]=o):o=e[7],o}function gt(r){const e=M.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let a;return e[2]!==t?(a=I.jsx(V.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t}),e[2]=t,e[3]=a):a=e[3],a}function ht(r){const e=M.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let n;e[3]!==t?(n=q("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),e[3]=t,e[4]=n):n=e[4];let o;return e[5]!==a||e[6]!==n?(o=I.jsx(V.Group,{"data-slot":"command-group",className:n,...a}),e[5]=a,e[6]=n,e[7]=o):o=e[7],o}function bt(r){const e=M.c(8);let t,a;e[0]!==r?({className:t,...a}=r,e[0]=r,e[1]=t,e[2]=a):(t=e[1],a=e[2]);let n;e[3]!==t?(n=q("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=n):n=e[4];let o;return e[5]!==a||e[6]!==n?(o=I.jsx(V.Item,{"data-slot":"command-item",className:n,...a}),e[5]=a,e[6]=n,e[7]=o):o=e[7],o}export{pt as C,gt as a,bt as b,at as c,vt as d,ht as e,ft as f};
