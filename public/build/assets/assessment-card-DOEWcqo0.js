import{c as oe,n as ne,j as t,m as ce,L as me,A as de}from"./app-CRA1eXYu.js";import{B as pe}from"./badge-Cd_Hjcal.js";import{u as xe}from"./useCan-B7ppjaOW.js";import{c as P}from"./utils-CFcDjcb_.js";import{s as fe}from"./index-ikzcNs2d.js";import{getAssessmentStatusDetails as ue}from"./get-assessment-status-detail-CQxFPPlr.js";import{C as he}from"./circle-check-Cm9Q00KV.js";import{T as ge}from"./target-Mkoi_Cyw.js";import{F as be}from"./file-text-Bak4IiDu.js";import{c as je}from"./createLucideIcon-CcuKRHvM.js";import{C as ye}from"./circle-alert-CKPmc1ij.js";import{C as we}from"./calendar-CJlCuOoD.js";import{C as ve}from"./clock-CAzJ6aeb.js";import{C as Ne}from"./chevron-right-ChBQl-V6.js";/* empty css            */import"./index-orVQwjsG.js";import"./index-CazKOIFm.js";import"./index-CHXMgrNC.js";import"./circle-check-big-Cd1rP9aX.js";import"./hourglass-BR4rMAwp.js";import"./triangle-alert--vf09FvS.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Ce=je("RefreshCcw",_e);function Qe(te){const e=oe.c(89),{assessment:s,classId:G}=te,{url:se}=ne(),re=xe("access-instructor-page")&&se.includes("/instructor"),a=s?.student_assessment,i=a?.status==="scored",l=a?.status==="submitted";a?.status;const Z=Date.now();let R;e[0]!==s.start_time?(R=new Date(s.start_time).getTime(),e[0]=s.start_time,e[1]=R):R=e[1];const ae=R;let T;e[2]!==s.end_time?(T=new Date(s.end_time).getTime(),e[2]=s.end_time,e[3]=T):T=e[3];const ie=T,ee=a?.status,le=Z>=ae&&Z<=ie,J=(ee==="in_progress"||!ee&&le)&&!l&&!i;let o;e[4]!==s.end_time?(o=new Date(s.end_time).toLocaleDateString(void 0,{month:"short",day:"numeric"}),e[4]=s.end_time,e[5]=o):o=e[5];let I;e[6]!==J||e[7]!==o?(I={isUrgent:J,endDate:o},e[6]=J,e[7]=o,e[8]=I):I=e[8];const r=I;let z;e[9]!==s?(z=ue(s),e[9]=s,e[10]=z):z=e[10];const n=z,K=re?"instructor.classes.subjects.assessments.show":"student.classes.subjects.assessments.show";let M;e[11]!==s.id||e[12]!==s.pivot.subject_id||e[13]!==G||e[14]!==K?(M=fe(K,[G,s.pivot.subject_id,s.id]),e[11]=s.id,e[12]=s.pivot.subject_id,e[13]=G,e[14]=K,e[15]=M):M=e[15];const O=M;let E,F,B;e[16]===Symbol.for("react.memo_cache_sentinel")?(B={opacity:0,y:10},E={opacity:1,y:0},F={y:-4},e[16]=E,e[17]=F,e[18]=B):(E=e[16],F=e[17],B=e[18]);let c;e[19]!==O?(c=t.jsx(me,{href:O,className:"absolute inset-0 z-30 cursor-pointer",prefetch:!0}),e[19]=O,e[20]=c):c=e[20];let m;e[21]!==l||e[22]!==r.isUrgent?(m=r.isUrgent&&!l&&t.jsxs("div",{className:"absolute -top-2 -right-2 z-50 flex h-8 w-8 items-center justify-center",children:[t.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-primary opacity-40"}),t.jsx("div",{className:"relative flex h-6 w-6 items-center justify-center rounded-full border-2 border-background bg-primary text-primary-foreground shadow-lg",children:t.jsx("span",{className:"text-[10px] font-black",children:"!"})})]}),e[21]=l,e[22]=r.isUrgent,e[23]=m):m=e[23];let d;e[24]!==m?(d=t.jsx(de,{children:m}),e[24]=m,e[25]=d):d=e[25];const Q=r.isUrgent?"animate-border-loop bg-[conic-gradient(from_var(--border-angle),transparent_70%,theme(colors.primary.DEFAULT))] shadow-md shadow-primary/20":"bg-border/60 hover:bg-primary/30";let p;e[26]!==Q?(p=P("relative z-10 overflow-hidden rounded-2xl p-[1.5px] transition-all duration-500",Q),e[26]=Q,e[27]=p):p=e[27];const V=i&&"border-2 border-success/30",W=l&&"bg-primary/5 border-primary/20";let x;e[28]!==V||e[29]!==W?(x=P("relative z-20 flex h-full w-full flex-col items-start justify-between rounded-[calc(1rem-1.5px)] bg-card p-4 xs:p-5 sm:flex-row sm:items-center",V,W),e[28]=V,e[29]=W,e[30]=x):x=e[30];const X=i?"bg-success/10 text-success":l?"bg-primary/10 text-primary":r.isUrgent?"bg-primary text-primary-foreground shadow-lg shadow-primary/30":"bg-muted text-muted-foreground";let f;e[31]!==X?(f=P("flex h-10 w-10 xs:h-14 xs:w-14 shrink-0 items-center justify-center rounded-xl transition-all duration-500 group-hover:scale-105 group-hover:rotate-3",X),e[31]=X,e[32]=f):f=e[32];let u;e[33]!==s.type||e[34]!==i||e[35]!==l?(u=i||l?t.jsx(he,{className:"h-6 w-6 xs:h-7 xs:w-7"}):s.type==="exam"?t.jsx(ge,{className:"h-6 w-6 xs:h-7 xs:w-7"}):t.jsx(be,{className:"h-6 w-6 xs:h-7 xs:w-7"}),e[33]=s.type,e[34]=i,e[35]=l,e[36]=u):u=e[36];let h;e[37]!==f||e[38]!==u?(h=t.jsx("div",{className:f,children:u}),e[37]=f,e[38]=u,e[39]=h):h=e[39];let g;e[40]!==s.title?(g=t.jsx("h4",{className:"truncate text-base font-bold tracking-tight text-title transition-colors group-hover:text-primary",children:s.title}),e[40]=s.title,e[41]=g):g=e[41];let b;e[42]!==n.badgeColorClass?(b=P("rounded-md px-2 py-0 text-[10px] font-bold",n.badgeColorClass),e[42]=n.badgeColorClass,e[43]=b):b=e[43];let j;e[44]!==n.label||e[45]!==b?(j=t.jsx(pe,{variant:"secondary",className:b,children:n.label}),e[44]=n.label,e[45]=b,e[46]=j):j=e[46];let y;e[47]!==s.max_attempts||e[48]!==a?.attempted_amount?(y=s.max_attempts>0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ce,{className:"h-3 w-3"}),a?.attempted_amount||0,"/",s.max_attempts]}),e[47]=s.max_attempts,e[48]=a?.attempted_amount,e[49]=y):y=e[49];let q;e[50]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(ve,{className:"h-3 w-3"}),e[50]=q):q=e[50];let w;e[51]!==s.duration?(w=t.jsxs("span",{className:"flex items-center gap-1",children:[q,s.duration,"m"]}),e[51]=s.duration,e[52]=w):w=e[52];let v;e[53]!==y||e[54]!==w?(v=t.jsxs("div",{className:"flex items-center gap-3 text-[11px] font-medium text-description",children:[y,w]}),e[53]=y,e[54]=w,e[55]=v):v=e[55];let N;e[56]!==j||e[57]!==v?(N=t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[j,v]}),e[56]=j,e[57]=v,e[58]=N):N=e[58];let _;e[59]!==g||e[60]!==N?(_=t.jsxs("div",{className:"flex flex-col gap-1 overflow-hidden",children:[g,N]}),e[59]=g,e[60]=N,e[61]=_):_=e[61];let C;e[62]!==h||e[63]!==_?(C=t.jsxs("div",{className:"flex w-full items-center gap-3 xs:gap-5 sm:w-auto",children:[h,_]}),e[62]=h,e[63]=_,e[64]=C):C=e[64];const Y=i?"Performance":r.isUrgent?"Closes":"Deadline";let D;e[65]!==Y?(D=t.jsx("p",{className:"text-[10px] font-bold tracking-wider text-description uppercase",children:Y}),e[65]=Y,e[66]=D):D=e[66];let k;e[67]!==i||e[68]!==a?.score||e[69]!==r.endDate||e[70]!==r.isUrgent?(k=i?t.jsxs("div",{className:"flex items-baseline gap-0.5",children:[t.jsx("span",{className:"text-xl font-black text-success",children:a?.score}),t.jsx("span",{className:"text-xs font-bold text-success/70",children:"%"})]}):t.jsxs("div",{className:P("flex items-center gap-1.5 font-semibold",r.isUrgent?"text-primary":"text-body"),children:[r.isUrgent?t.jsx(ye,{className:"h-3.5 w-3.5 animate-pulse"}):t.jsx(we,{className:"h-3.5 w-3.5 opacity-50"}),t.jsx("span",{className:"text-sm",children:r.endDate})]}),e[67]=i,e[68]=a?.score,e[69]=r.endDate,e[70]=r.isUrgent,e[71]=k):k=e[71];let U;e[72]!==D||e[73]!==k?(U=t.jsxs("div",{className:"flex flex-col items-start sm:items-end",children:[D,k]}),e[72]=D,e[73]=k,e[74]=U):U=e[74];let H;e[75]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-muted text-muted-foreground transition-all duration-300 group-hover:translate-x-1 group-hover:bg-primary group-hover:text-primary-foreground",children:t.jsx(Ne,{className:"h-5 w-5"})}),e[75]=H):H=e[75];let L;e[76]!==U?(L=t.jsxs("div",{className:"mt-4 flex w-full items-center justify-between gap-6 border-t border-border/40 pt-4 sm:mt-0 sm:w-auto sm:justify-end sm:border-t-0 sm:pt-0",children:[U,H]}),e[76]=U,e[77]=L):L=e[77];let S;e[78]!==x||e[79]!==C||e[80]!==L?(S=t.jsxs("div",{className:x,children:[C,L]}),e[78]=x,e[79]=C,e[80]=L,e[81]=S):S=e[81];let A;e[82]!==p||e[83]!==S?(A=t.jsx("div",{className:p,children:S}),e[82]=p,e[83]=S,e[84]=A):A=e[84];let $;return e[85]!==c||e[86]!==d||e[87]!==A?($=t.jsxs(ce.div,{layout:!0,initial:B,animate:E,whileHover:F,className:"group relative transform-gpu",children:[c,d,A]}),e[85]=c,e[86]=d,e[87]=A,e[88]=$):$=e[88],$}export{Qe as AssessmentCard};
