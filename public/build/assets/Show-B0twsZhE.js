import{c as z,j as s,m as E,A as H,u as I,r as O,H as M}from"./app-DOexATz8.js";import{S as $,C as F}from"./subject-card-DqJOaDP9.js";import{A as P}from"./app-layout-CQOHcJhl.js";import{b as Q,D as R,a as T,e as U,c as Y,d as q}from"./dialog-TFrJjmZh.js";import{B as J}from"./button-BRVN6i6H.js";import{s as G}from"./index-ikzcNs2d.js";import{S as K}from"./shield-check-DDEpa68Y.js";import{L as V}from"./loader-circle-xDQqgRtj.js";import{U as A}from"./user-plus-i8A9o39v.js";import{B as W}from"./book-open--LA4IL-m.js";import{S as X}from"./search-BJrQLS36.js";import{L as Z}from"./lock-KiZZ4kiS.js";import"./app-Dkd-uU77.js";import"./users-YRzjUlzr.js";import"./createLucideIcon-j6D0D3Y_.js";import"./useCan-BA960i43.js";import"./ellipsis-CBJCIQFX.js";import"./trash-CESOkXQK.js";import"./copy-Dn5lwVwC.js";import"./arrow-right-Cr5VBfnV.js";import"./clock-JNa168ul.js";import"./index-BCjrxXRD.js";import"./index-DQ5CcXw7.js";import"./index-Dghi0PCu.js";import"./index-CHXMgrNC.js";import"./utils-CFcDjcb_.js";import"./x-xRkXIo8D.js";import"./tooltip-ByYNg7VM.js";import"./index-BZcpqnGn.js";import"./index-DM2N5xoF.js";import"./index-BEPutMgU.js";import"./index-CsaJF3T3.js";import"./index-CbEB6B2s.js";import"./index-BiXTY-N1.js";import"./index-DI0Uf7dS.js";import"./index-CPEYA-OZ.js";import"./index-D8NCBvGj.js";import"./index-C8DTQ8L6.js";import"./index-D2V0qVjz.js";import"./index-Z9JsAk8n.js";import"./avatar-_pMFpJ1a.js";import"./index-C5FbGKEL.js";import"./index-BZB35nAZ.js";import"./index-CMWG4mbA.js";import"./command-BJUssI3G.js";import"./app-logo-icon-B6GRV3HK.js";import"./layout-grid-BfACZU2C.js";import"./settings-2-CHSmb4cp.js";import"./cpu-Dh4fUxB8.js";import"./chevron-right-CqdRtJ2F.js";import"./appearance-tabs-header-CF3ajYXV.js";import"./sun-BG-XGb8r.js";function ee(L){const e=z.c(9),{filteredSubjects:t,classroom:l}=L;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={opacity:0},e[0]=a):a=e[0];let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f={hidden:a,show:{opacity:1,transition:{staggerChildren:.1}}},e[1]=f):f=e[1];let i;if(e[2]!==l||e[3]!==t){let o;e[5]!==l?(o=w=>s.jsx($,{subject:w,classId:l.id},w.id),e[5]=l,e[6]=o):o=e[6],i=t.map(o),e[2]=l,e[3]=t,e[4]=i}else i=e[4];let j;return e[7]!==i?(j=s.jsx(E.div,{variants:f,initial:"hidden",animate:"show",className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.jsx(H,{mode:"popLayout",children:i})}),e[7]=i,e[8]=j):j=e[8],j}function se(L){const e=z.c(34),{isOpen:t,setIsOpen:l,classroomName:a,code:f}=L;let i;e[0]!==f?(i={code:f},e[0]=f,e[1]=i):i=e[1];const{post:j,processing:o,reset:w}=I(i);let v;e[2]!==j||e[3]!==w||e[4]!==l?(v=S=>{S.preventDefault(),j(G("student.class.join"),{onSuccess:()=>{l(!1),w()}})},e[2]=j,e[3]=w,e[4]=l,e[5]=v):v=e[5];const g=v;let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"bg-blue-600 h-2 w-full"}),e[6]=y):y=e[6];let u,x;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("div",{className:"mb-4 flex size-16 items-center justify-center rounded-full bg-blue-50 text-blue-600 dark:bg-blue-900/20",children:s.jsx(K,{className:"size-8"})}),x=s.jsx(Q,{className:"text-2xl font-bold",children:"Join Classroom?"}),e[7]=u,e[8]=x):(u=e[7],x=e[8]);let h;e[9]!==a?(h=s.jsxs(R,{className:"flex flex-col items-center text-center",children:[u,x,s.jsxs(T,{className:"pt-2",children:["You are about to enroll in ",s.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:a}),". This will give you access to all course materials and assignments."]})]}),e[9]=a,e[10]=h):h=e[10];let r;e[11]!==o?(r=o?s.jsx(V,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(A,{className:"mr-2 h-4 w-4"}),e[11]=o,e[12]=r):r=e[12];let c;e[13]!==o||e[14]!==r?(c=s.jsxs(J,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 py-6",disabled:o,children:[r,"Confirm Enrollment"]}),e[13]=o,e[14]=r,e[15]=c):c=e[15];let N;e[16]!==l?(N=()=>l(!1),e[16]=l,e[17]=N):N=e[17];let n;e[18]!==o||e[19]!==N?(n=s.jsx(J,{type:"button",variant:"ghost",className:"w-full",onClick:N,disabled:o,children:"Not now"}),e[18]=o,e[19]=N,e[20]=n):n=e[20];let m;e[21]!==n||e[22]!==c?(m=s.jsxs(U,{className:"mt-8 flex-col gap-2 sm:flex-col",children:[c,n]}),e[21]=n,e[22]=c,e[23]=m):m=e[23];let d;e[24]!==m||e[25]!==h?(d=s.jsxs("div",{className:"p-6",children:[h,m]}),e[24]=m,e[25]=h,e[26]=d):d=e[26];let p;e[27]!==g||e[28]!==d?(p=s.jsx(Y,{className:"sm:max-w-[400px] overflow-hidden p-0 border-none",children:s.jsxs("form",{onSubmit:g,children:[y,d]})}),e[27]=g,e[28]=d,e[29]=p):p=e[29];let b;return e[30]!==t||e[31]!==l||e[32]!==p?(b=s.jsx(q,{open:t,onOpenChange:l,children:p}),e[30]=t,e[31]=l,e[32]=p,e[33]=b):b=e[33],b}const te=[{title:"Classrooms",href:"/"}];function ss(L){const e=z.c(45),{classroom:t,isJoined:l}=L;let a;e[0]!==t.subjects?(a=t?.subjects??[],e[0]=t.subjects,e[1]=a):a=e[1];const f=a,[i,j]=O.useState(""),[o,w]=O.useState(!1);let v;if(e[2]!==i||e[3]!==f){let _;e[5]!==i?(_=B=>B.name.toLowerCase().includes(i.toLowerCase()),e[5]=i,e[6]=_):_=e[6],v=f.filter(_),e[2]=i,e[3]=f,e[4]=v}else v=e[4];const g=v,y=`${t.name} | Curriculum`;let u;e[7]!==y?(u=s.jsx(M,{title:y}),e[7]=y,e[8]=u):u=e[8];let x;e[9]!==t?(x=s.jsx(F,{classroom:t}),e[9]=t,e[10]=x):x=e[10];let h;e[11]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-1 rounded-full bg-blue-600"}),s.jsx("h2",{className:"font-black tracking-tight text-slate-900 uppercase sm:text-xl dark:text-white",children:"Subject Modules"})]}),e[11]=h):h=e[11];let r;e[12]!==l||e[13]!==i?(r=l&&s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"group relative",children:[s.jsx(X,{className:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-slate-400 transition-colors group-focus-within:text-blue-500"}),s.jsx("input",{type:"text",placeholder:"Filter curriculum...",value:i,onChange:_=>j(_.target.value),className:"w-full rounded-2xl border border-slate-200 bg-white py-2.5 pr-4 pl-10 text-sm font-medium transition-all focus:ring-2 focus:ring-blue-500 md:w-[300px] dark:border-slate-800 dark:bg-slate-900"})]})}),e[12]=l,e[13]=i,e[14]=r):r=e[14];let c;e[15]!==r?(c=s.jsxs("div",{className:"flex justify-between",children:[h,r]}),e[15]=r,e[16]=c):c=e[16];const N=l?"":"pointer-events-none blur-md grayscale-[50%] select-none";let n;e[17]!==t||e[18]!==g?(n=s.jsx(ee,{filteredSubjects:g,classroom:t}),e[17]=t,e[18]=g,e[19]=n):n=e[19];let m;e[20]!==g.length?(m=g.length===0&&s.jsxs("div",{className:"rounded-[2.5rem] border-2 border-dashed border-slate-200 py-20 text-center dark:border-slate-800",children:[s.jsx("div",{className:"mx-auto mb-4 flex size-12 items-center justify-center rounded-2xl bg-slate-100 text-slate-400 dark:bg-slate-800",children:s.jsx(W,{})}),s.jsx("p",{className:"text-xs font-bold tracking-widest text-slate-500 uppercase",children:"No matching subjects found"})]}),e[20]=g.length,e[21]=m):m=e[21];let d;e[22]!==n||e[23]!==m||e[24]!==N?(d=s.jsxs("div",{className:N,children:[n,m]}),e[22]=n,e[23]=m,e[24]=N,e[25]=d):d=e[25];let p;e[26]!==l?(p=!l&&s.jsxs("div",{className:"absolute top-0 inset-0 z-10 flex flex-col items-center justify-center rounded-[2.5rem] bg-white/30 text-center backdrop-blur-[2px] dark:bg-slate-950/30",children:[s.jsx("div",{className:"mb-4 flex size-16 items-center justify-center rounded-full bg-blue-600 text-white shadow-xl shadow-blue-500/20",children:s.jsx(Z,{className:"size-8"})}),s.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Curriculum Locked"}),s.jsx("p",{className:"mt-2 mb-8 max-w-sm text-slate-600 dark:text-slate-400",children:"Join this classroom to gain full access to all subject modules, assignments, and resources."}),s.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 rounded-full bg-blue-600 px-8 py-4 font-bold text-white shadow-lg shadow-blue-600/30 transition-transform hover:scale-105 active:scale-95",children:[s.jsx(A,{className:"size-5"}),"Join Classroom"]})]}),e[26]=l,e[27]=p):p=e[27];let b;e[28]!==d||e[29]!==p?(b=s.jsxs("div",{className:"relative",children:[d,p]}),e[28]=d,e[29]=p,e[30]=b):b=e[30];let S;e[31]!==b||e[32]!==c?(S=s.jsxs("div",{className:"space-y-6",children:[c,b]}),e[31]=b,e[32]=c,e[33]=S):S=e[33];let C;e[34]!==S||e[35]!==x?(C=s.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-1 flex-col gap-8 p-4 md:p-8",children:[x,S]}),e[34]=S,e[35]=x,e[36]=C):C=e[36];let k;e[37]!==t.code||e[38]!==t.name||e[39]!==o?(k=s.jsx(se,{classroomName:t.name,code:t.code,isOpen:o,setIsOpen:w}),e[37]=t.code,e[38]=t.name,e[39]=o,e[40]=k):k=e[40];let D;return e[41]!==C||e[42]!==k||e[43]!==u?(D=s.jsxs(P,{breadcrumbs:te,children:[u,C,k]}),e[41]=C,e[42]=k,e[43]=u,e[44]=D):D=e[44],D}export{ss as default};
