import{c as Q,j as s,R as ee}from"./app-C4-wZLjv.js";import{d as te}from"./dayjs.min-6cGuIIDv.js";import"./app-Ctpas7OY.js";const J=a=>{const e=Q.c(3),{children:t,className:n}=a,r=`rounded-xl bg-white shadow-lg ${n===void 0?"":n}`;let l;return e[0]!==t||e[1]!==r?(l=s.jsx("div",{className:r,children:t}),e[0]=t,e[1]=r,e[2]=l):l=e[2],l},W=a=>{const e=Q.c(3),{children:t,className:n}=a,r=`border-b border-gray-100 p-6 ${n===void 0?"":n}`;let l;return e[0]!==t||e[1]!==r?(l=s.jsx("div",{className:r,children:t}),e[0]=t,e[1]=r,e[2]=l):l=e[2],l},se=a=>{const e=Q.c(3),{children:t,className:n}=a,r=`text-2xl font-bold text-gray-800 ${n===void 0?"":n}`;let l;return e[0]!==t||e[1]!==r?(l=s.jsx("h2",{className:r,children:t}),e[0]=t,e[1]=r,e[2]=l):l=e[2],l},K=a=>{const e=Q.c(3),{children:t,className:n}=a,r=`p-6 ${n===void 0?"":n}`;let l;return e[0]!==t||e[1]!==r?(l=s.jsx("div",{className:r,children:t}),e[0]=t,e[1]=r,e[2]=l):l=e[2],l},X=a=>{const e=Q.c(2),{className:t}=a,o=`h-px bg-gray-200 ${t===void 0?"my-4":t}`;let r;return e[0]!==o?(r=s.jsx("div",{className:o}),e[0]=o,e[1]=r):r=e[1],r},le=a=>{const e=Q.c(9),{breadcrumbs:t,children:n}=a;let o;if(e[0]!==t){let i;e[2]!==t.length?(i=(c,d)=>s.jsxs(ee.Fragment,{children:[s.jsx("a",{href:c.href,className:"text-blue-600 hover:text-blue-800",children:c.title}),d<t.length-1&&s.jsx("span",{className:"mx-2",children:"/"})]},d),e[2]=t.length,e[3]=i):i=e[3],o=t.map(i),e[0]=t,e[1]=o}else o=e[1];let r;e[4]!==o?(r=s.jsx("nav",{className:"mb-6 text-sm text-gray-500",children:o}),e[4]=o,e[5]=r):r=e[5];let l;return e[6]!==n||e[7]!==r?(l=s.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8",children:[r,n]}),e[6]=n,e[7]=r,e[8]=l):l=e[8],l},re=({title:a})=>null,ne=()=>({url:"#"}),ae=[{title:"Dashboard",href:ne().url},{title:"Assessment Scoring",href:"#"}],O=a=>{const e=Q.c(7),{label:t,value:n}=a;let o;e[0]!==t?(o=s.jsx("span",{className:"text-sm font-medium text-gray-500",children:t}),e[0]=t,e[1]=o):o=e[1];let r;e[2]!==n?(r=s.jsx("span",{className:"text-base font-semibold text-gray-700",children:n}),e[2]=n,e[3]=r):r=e[3];let l;return e[4]!==o||e[5]!==r?(l=s.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 py-2 last:border-b-0",children:[o,r]}),e[4]=o,e[5]=r,e[6]=l):l=e[6],l},oe=a=>{const e=Q.c(88),{question:t,answers:n}=a;let o;e[0]!==t.question_text?(o={__html:t.question_text},e[0]=t.question_text,e[1]=o):o=e[1];const r=o;switch(t.type){case"fill_blank":case"short_answer":{let l;e[2]!==n[0]?(l=n[0]||{},e[2]=n[0],e[3]=l):l=e[3];const i=l,c=i.answer_text||"No answer provided";let d;e[4]!==i.points_earned?(d=i.points_earned!==null?parseFloat(i.points_earned).toFixed(2):"N/A",e[4]=i.points_earned,e[5]=d):d=e[5];const j=d,_=parseFloat(t.point),f=j!=="N/A",u=f&&parseFloat(j)>0,g=t.options[0]?.option_text||"N/A";let b="Unscored (Manual)",y="bg-red-100 text-red-800 border-red-300";f?(b=u?"Scored (Correct)":"Scored (Incorrect)",y=u?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300"):t.type==="fill_blank"&&g!=="N/A"?(b="Awaiting Auto-Score",y="bg-gray-100 text-gray-800 border-gray-300"):t.type==="short_answer"&&(b="Needs Manual Review",y="bg-yellow-100 text-yellow-800 border-yellow-300");let m;e[6]!==r?(m=s.jsx("p",{className:"text-base font-semibold mb-2",dangerouslySetInnerHTML:r}),e[6]=r,e[7]=m):m=e[7];let x;e[8]!==f||e[9]!==_||e[10]!==j?(x=f?`${j} / ${_.toFixed(2)}`:"N/A",e[8]=f,e[9]=_,e[10]=j,e[11]=x):x=e[11];let h;e[12]!==x?(h=s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Points:"," ",x]}),e[12]=x,e[13]=h):h=e[13];const $=`rounded-full px-3 py-1 text-xs font-semibold ${y}`;let w;e[14]!==b||e[15]!==$?(w=s.jsx("span",{className:$,children:b}),e[14]=b,e[15]=$,e[16]=w):w=e[16];let A;e[17]!==h||e[18]!==w?(A=s.jsxs("div",{className:"flex items-start justify-between",children:[h,w]}),e[17]=h,e[18]=w,e[19]=A):A=e[19];let S;e[20]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(X,{className:"my-2"}),e[20]=S):S=e[20];let N;e[21]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Your Submission:"}),e[21]=N):N=e[21];let p;e[22]!==c?(p=s.jsxs("div",{className:"space-y-1",children:[N,s.jsx("div",{className:"rounded-lg border p-3 bg-gray-100 text-gray-800 border-gray-300 whitespace-pre-wrap",children:c})]}),e[22]=c,e[23]=p):p=e[23];let C;e[24]!==g||e[25]!==t.type?(C=t.type==="fill_blank"&&g!=="N/A"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-semibold text-green-700",children:"Expected Answer:"}),s.jsx("div",{className:"rounded-lg border p-3 bg-green-100 text-green-800 border-green-300 whitespace-pre-wrap",children:g})]}),e[24]=g,e[25]=t.type,e[26]=C):C=e[26];let v;e[27]!==p||e[28]!==C||e[29]!==A?(v=s.jsx(J,{className:"border border-gray-200 shadow-none",children:s.jsxs(K,{className:"space-y-3 p-4",children:[A,S,p,C]})}),e[27]=p,e[28]=C,e[29]=A,e[30]=v):v=e[30];let M;return e[31]!==v||e[32]!==m?(M=s.jsxs("div",{className:"space-y-4",children:[m,v]}),e[31]=v,e[32]=m,e[33]=M):M=e[33],M}case"matching":{let l,i,c,d,j,_,f,u,g,b,y;if(e[34]!==n||e[35]!==t.options||e[36]!==t.point||e[37]!==r){const w=t.options.reduce(me,{}),A=n.map(E=>{const k=t.options.find(R=>R.id===E.option_id);if(k){const R=k.option_text,Y=E.answer_text,L=w[R];return{leftText:R,submitted:Y,correct:L,isMatchCorrect:Y===L}}return null}).filter(xe),S=parseFloat(t.point),N=A.filter(fe).length,p=A.length,C=p>0?S/p:0,v=N*C,M=n.some(pe);let T="Awaiting Auto-Score",P="bg-gray-100 text-gray-800 border-gray-300";(M||p>0)&&(N===p?(T="Fully Correct",P="bg-green-100 text-green-800 border-green-300"):N>0?(T="Partially Correct",P="bg-yellow-100 text-yellow-800 border-yellow-300"):(T="Incorrect",P="bg-red-100 text-red-800 border-red-300")),y="space-y-4",e[49]!==r?(c=s.jsx("p",{className:"text-base font-semibold mb-2",dangerouslySetInnerHTML:r}),e[49]=r,e[50]=c):c=e[50],i=J,b="border border-gray-200 shadow-none",l=K,_="space-y-4 p-4";let I;e[51]!==v?(I=v.toFixed(2),e[51]=v,e[52]=I):I=e[52];let F;e[53]!==S?(F=S.toFixed(2),e[53]=S,e[54]=F):F=e[54];let q;e[55]!==I||e[56]!==F?(q=s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Points: ",I," /"," ",F]}),e[55]=I,e[56]=F,e[57]=q):q=e[57];const D=`rounded-full px-3 py-1 text-xs font-semibold ${P}`;let H;e[58]!==T||e[59]!==D?(H=s.jsx("span",{className:D,children:T}),e[58]=T,e[59]=D,e[60]=H):H=e[60],e[61]!==q||e[62]!==H?(f=s.jsxs("div",{className:"flex items-start justify-between",children:[q,H]}),e[61]=q,e[62]=H,e[63]=f):f=e[63],e[64]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(X,{className:"my-2"}),e[64]=u):u=e[64],e[65]!==N||e[66]!==p?(g=s.jsxs("div",{className:"mb-2 text-sm font-semibold text-gray-700",children:["Submitted Matches (",N,"/",p," correct):"]}),e[65]=N,e[66]=p,e[67]=g):g=e[67],d="grid gap-3",j=A.map(ue),e[34]=n,e[35]=t.options,e[36]=t.point,e[37]=r,e[38]=l,e[39]=i,e[40]=c,e[41]=d,e[42]=j,e[43]=_,e[44]=f,e[45]=u,e[46]=g,e[47]=b,e[48]=y}else l=e[38],i=e[39],c=e[40],d=e[41],j=e[42],_=e[43],f=e[44],u=e[45],g=e[46],b=e[47],y=e[48];let m;e[68]!==d||e[69]!==j?(m=s.jsx("div",{className:d,children:j}),e[68]=d,e[69]=j,e[70]=m):m=e[70];let x;e[71]!==l||e[72]!==m||e[73]!==_||e[74]!==f||e[75]!==u||e[76]!==g?(x=s.jsxs(l,{className:_,children:[f,u,g,m]}),e[71]=l,e[72]=m,e[73]=_,e[74]=f,e[75]=u,e[76]=g,e[77]=x):x=e[77];let h;e[78]!==i||e[79]!==x||e[80]!==b?(h=s.jsx(i,{className:b,children:x}),e[78]=i,e[79]=x,e[80]=b,e[81]=h):h=e[81];let $;return e[82]!==c||e[83]!==h||e[84]!==y?($=s.jsxs("div",{className:y,children:[c,h]}),e[82]=c,e[83]=h,e[84]=y,e[85]=$):$=e[85],$}default:{let l;return e[86]!==t.type?(l=s.jsxs("p",{className:"text-red-500",children:["Unsupported question type: ",t.type]}),e[86]=t.type,e[87]=l):l=e[87],l}}};function ye(a){const e=Q.c(90),{assessment:t,attempt:n}=a;let o,r,l,i,c,d,j,_,f,u,g,b,y,m,x,h,$,w;if(e[0]!==t.questions||e[1]!==t.title||e[2]!==t.type||e[3]!==n.answers||e[4]!==n.status||e[5]!==n.sub_score){const E=t.questions.reduce(de,0),k=parseFloat(n.sub_score);let R;e[24]!==k?(R=k.toFixed(2),e[24]=k,e[25]=R):R=e[25];const Y=R;let L;e[26]!==n.answers?(L=n.answers.reduce(ce,{}),e[26]=n.answers,e[27]=L):L=e[27],c=L,d=ie,i=le,f=ae;const z=`Scoring: ${t.title}`;e[28]!==z?(u=s.jsx(re,{title:z}),e[28]=z,e[29]=u):u=e[29],_="mx-auto max-w-4xl space-y-8 p-4",l=J;const Z=t.title;let U;e[30]!==n.status?(U=n.status.toUpperCase(),e[30]=n.status,e[31]=U):U=e[31];let B;e[32]!==U?(B=s.jsx("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-lg font-bold text-blue-600 shadow-md",children:U}),e[32]=U,e[33]=B):B=e[33],e[34]!==t.title||e[35]!==B?(w=s.jsx(W,{children:s.jsxs(se,{className:"flex items-center justify-between",children:[Z,B]})}),e[34]=t.title,e[35]=B,e[36]=w):w=e[36],r=K,$="space-y-4",y="grid grid-cols-1 gap-x-12 gap-y-4 sm:grid-cols-2";let G;e[37]!==t.type?(G=t.type.charAt(0).toUpperCase(),e[37]=t.type,e[38]=G):G=e[38];const V=G+t.type.slice(1);e[39]!==V?(m=s.jsx(O,{label:"Assessment Type",value:V}),e[39]=V,e[40]=m):m=e[40],e[41]!==t.questions.length?(x=s.jsx(O,{label:"Total Questions",value:t.questions.length}),e[41]=t.questions.length,e[42]=x):x=e[42],h=s.jsx(O,{label:"Total Max Points",value:E.toFixed(2)}),o=O,b="Attempt Score",j=Y,g=E.toFixed(2),e[0]=t.questions,e[1]=t.title,e[2]=t.type,e[3]=n.answers,e[4]=n.status,e[5]=n.sub_score,e[6]=o,e[7]=r,e[8]=l,e[9]=i,e[10]=c,e[11]=d,e[12]=j,e[13]=_,e[14]=f,e[15]=u,e[16]=g,e[17]=b,e[18]=y,e[19]=m,e[20]=x,e[21]=h,e[22]=$,e[23]=w}else o=e[6],r=e[7],l=e[8],i=e[9],c=e[10],d=e[11],j=e[12],_=e[13],f=e[14],u=e[15],g=e[16],b=e[17],y=e[18],m=e[19],x=e[20],h=e[21],$=e[22],w=e[23];const A=`${j} / ${g}`;let S;e[43]!==o||e[44]!==A||e[45]!==b?(S=s.jsx(o,{label:b,value:A}),e[43]=o,e[44]=A,e[45]=b,e[46]=S):S=e[46];let N;e[47]!==n.started_at||e[48]!==d?(N=d(n.started_at),e[47]=n.started_at,e[48]=d,e[49]=N):N=e[49];let p;e[50]!==N?(p=s.jsx(O,{label:"Start Time",value:N}),e[50]=N,e[51]=p):p=e[51];let C;e[52]!==n.completed_at||e[53]!==d?(C=d(n.completed_at),e[52]=n.completed_at,e[53]=d,e[54]=C):C=e[54];let v;e[55]!==C?(v=s.jsx(O,{label:"Completion Time",value:C}),e[55]=C,e[56]=v):v=e[56];let M;e[57]!==S||e[58]!==p||e[59]!==v||e[60]!==y||e[61]!==m||e[62]!==x||e[63]!==h?(M=s.jsxs("div",{className:y,children:[m,x,h,S,p,v]}),e[57]=S,e[58]=p,e[59]=v,e[60]=y,e[61]=m,e[62]=x,e[63]=h,e[64]=M):M=e[64];let T;e[65]!==r||e[66]!==M||e[67]!==$?(T=s.jsx(r,{className:$,children:M}),e[65]=r,e[66]=M,e[67]=$,e[68]=T):T=e[68];let P;e[69]!==l||e[70]!==T||e[71]!==w?(P=s.jsxs(l,{children:[w,T]}),e[69]=l,e[70]=T,e[71]=w,e[72]=P):P=e[72];let I;e[73]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("h3",{className:"pt-6 text-2xl font-extrabold text-gray-900",children:"Question Breakdown"}),e[73]=I):I=e[73];let F;if(e[74]!==c||e[75]!==t.questions){let E;e[77]!==c?(E=(k,R)=>{const Y=c[k.id]||[],L=R+1;return s.jsxs(J,{className:"border-l-4 border-blue-500 shadow-xl",children:[s.jsxs(W,{className:"flex flex-row items-center justify-between rounded-t-xl bg-gray-50",children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800",children:["Question ",L,":"]}),s.jsxs("div",{className:"text-sm font-medium text-gray-600",children:["Max Points:"," ",s.jsx("span",{className:"font-semibold text-blue-700",children:parseFloat(k.point).toFixed(2)})]})]}),s.jsx(K,{children:s.jsx(oe,{question:k,answers:Y})})]},k.id)},e[77]=c,e[78]=E):E=e[78],F=t.questions.map(E),e[74]=c,e[75]=t.questions,e[76]=F}else F=e[76];let q;e[79]!==F?(q=s.jsx("div",{className:"space-y-10",children:F}),e[79]=F,e[80]=q):q=e[80];let D;e[81]!==_||e[82]!==P||e[83]!==q?(D=s.jsxs("div",{className:_,children:[P,I,q]}),e[81]=_,e[82]=P,e[83]=q,e[84]=D):D=e[84];let H;return e[85]!==i||e[86]!==f||e[87]!==u||e[88]!==D?(H=s.jsxs(i,{breadcrumbs:f,children:[u,D]}),e[85]=i,e[86]=f,e[87]=u,e[88]=D,e[89]=H):H=e[89],H}function ie(a){return a?te(a).format("YYYY-MM-DD HH:mm"):"â€”"}function ce(a,e){const t=e.question_id;return a[t]||(a[t]=[]),a[t].push(e),a}function de(a,e){return a+parseFloat(e.point)}function me(a,e){return a[e.option_text]=e.match_key,a}function xe(a){return a!==null}function fe(a){return a.isMatchCorrect}function pe(a){return a.points_earned!==null}function ue(a,e){return s.jsxs("div",{className:`flex flex-col justify-between rounded-lg border p-4 shadow-sm transition duration-150 sm:flex-row ${a.isMatchCorrect?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:[s.jsx("div",{className:"mb-2 min-w-0 flex-1 pr-4 sm:mb-0",children:s.jsx("p",{className:"truncate font-medium text-gray-800",children:a.leftText})}),s.jsxs("div",{className:"flex-shrink-0 space-y-1 text-right",children:[s.jsxs("div",{className:`rounded-md border p-1 text-left font-mono text-sm ${a.isMatchCorrect?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300"}`,children:[s.jsx("span",{className:"mr-2 font-bold",children:"Submitted:"})," ",a.submitted]}),!a.isMatchCorrect&&s.jsxs("div",{className:"rounded-md border p-1 text-left text-xs bg-green-100 text-green-800 border-green-300 mt-1 opacity-80",children:[s.jsx("span",{className:"mr-2 font-bold text-green-700",children:"Correct:"})," ",a.correct]})]})]},e)}export{ye as default};
